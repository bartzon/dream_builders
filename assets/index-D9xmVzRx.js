(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(c){if(c.ep)return;c.ep=!0;const f=r(c);fetch(c.href,f)}})();var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pu(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Zc={exports:{}},Or={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function t0(){if(Gp)return Or;Gp=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(o,c,f){var d=null;if(f!==void 0&&(d=""+f),c.key!==void 0&&(d=""+c.key),"key"in c){f={};for(var p in c)p!=="key"&&(f[p]=c[p])}else f=c;return c=f.ref,{$$typeof:i,type:o,key:d,ref:c!==void 0?c:null,props:f}}return Or.Fragment=a,Or.jsx=r,Or.jsxs=r,Or}var Jp;function n0(){return Jp||(Jp=1,Zc.exports=t0()),Zc.exports}var g=n0(),Kc={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function a0(){if(Ip)return ve;Ip=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function S(E){return E===null||typeof E!="object"?null:(E=b&&E[b]||E["@@iterator"],typeof E=="function"?E:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function B(E,Z,F){this.props=E,this.context=Z,this.refs=j,this.updater=F||T}B.prototype.isReactComponent={},B.prototype.setState=function(E,Z){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,Z,"setState")},B.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function U(){}U.prototype=B.prototype;function C(E,Z,F){this.props=E,this.context=Z,this.refs=j,this.updater=F||T}var P=C.prototype=new U;P.constructor=C,w(P,B.prototype),P.isPureReactComponent=!0;var Y=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},me=Object.prototype.hasOwnProperty;function se(E,Z,F,I,le,Se){return F=Se.ref,{$$typeof:i,type:E,key:Z,ref:F!==void 0?F:null,props:Se}}function he(E,Z){return se(E.type,Z,void 0,void 0,void 0,E.props)}function ee(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function $(E){var Z={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(F){return Z[F]})}var de=/\/+/g;function xe(E,Z){return typeof E=="object"&&E!==null&&E.key!=null?$(""+E.key):Z.toString(36)}function He(){}function at(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(He,He):(E.status="pending",E.then(function(Z){E.status==="pending"&&(E.status="fulfilled",E.value=Z)},function(Z){E.status==="pending"&&(E.status="rejected",E.reason=Z)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function ne(E,Z,F,I,le){var Se=typeof E;(Se==="undefined"||Se==="boolean")&&(E=null);var re=!1;if(E===null)re=!0;else switch(Se){case"bigint":case"string":case"number":re=!0;break;case"object":switch(E.$$typeof){case i:case a:re=!0;break;case x:return re=E._init,ne(re(E._payload),Z,F,I,le)}}if(re)return le=le(E),re=I===""?"."+xe(E,0):I,Y(le)?(F="",re!=null&&(F=re.replace(de,"$&/")+"/"),ne(le,Z,F,"",function(M){return M})):le!=null&&(ee(le)&&(le=he(le,F+(le.key==null||E&&E.key===le.key?"":(""+le.key).replace(de,"$&/")+"/")+re)),Z.push(le)),1;re=0;var Et=I===""?".":I+":";if(Y(E))for(var qe=0;qe<E.length;qe++)I=E[qe],Se=Et+xe(I,qe),re+=ne(I,Z,F,Se,le);else if(qe=S(E),typeof qe=="function")for(E=qe.call(E),qe=0;!(I=E.next()).done;)I=I.value,Se=Et+xe(I,qe++),re+=ne(I,Z,F,Se,le);else if(Se==="object"){if(typeof E.then=="function")return ne(at(E),Z,F,I,le);throw Z=String(E),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return re}function z(E,Z,F){if(E==null)return E;var I=[],le=0;return ne(E,I,"","",function(Se){return Z.call(F,Se,le++)}),I}function J(E){if(E._status===-1){var Z=E._result;Z=Z(),Z.then(function(F){(E._status===0||E._status===-1)&&(E._status=1,E._result=F)},function(F){(E._status===0||E._status===-1)&&(E._status=2,E._result=F)}),E._status===-1&&(E._status=0,E._result=Z)}if(E._status===1)return E._result.default;throw E._result}var ie=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function we(){}return ve.Children={map:z,forEach:function(E,Z,F){z(E,function(){Z.apply(this,arguments)},F)},count:function(E){var Z=0;return z(E,function(){Z++}),Z},toArray:function(E){return z(E,function(Z){return Z})||[]},only:function(E){if(!ee(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ve.Component=B,ve.Fragment=r,ve.Profiler=c,ve.PureComponent=C,ve.StrictMode=o,ve.Suspense=y,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ve.__COMPILER_RUNTIME={__proto__:null,c:function(E){return Q.H.useMemoCache(E)}},ve.cache=function(E){return function(){return E.apply(null,arguments)}},ve.cloneElement=function(E,Z,F){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var I=w({},E.props),le=E.key,Se=void 0;if(Z!=null)for(re in Z.ref!==void 0&&(Se=void 0),Z.key!==void 0&&(le=""+Z.key),Z)!me.call(Z,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&Z.ref===void 0||(I[re]=Z[re]);var re=arguments.length-2;if(re===1)I.children=F;else if(1<re){for(var Et=Array(re),qe=0;qe<re;qe++)Et[qe]=arguments[qe+2];I.children=Et}return se(E.type,le,void 0,void 0,Se,I)},ve.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:f,_context:E},E},ve.createElement=function(E,Z,F){var I,le={},Se=null;if(Z!=null)for(I in Z.key!==void 0&&(Se=""+Z.key),Z)me.call(Z,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(le[I]=Z[I]);var re=arguments.length-2;if(re===1)le.children=F;else if(1<re){for(var Et=Array(re),qe=0;qe<re;qe++)Et[qe]=arguments[qe+2];le.children=Et}if(E&&E.defaultProps)for(I in re=E.defaultProps,re)le[I]===void 0&&(le[I]=re[I]);return se(E,Se,void 0,void 0,null,le)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(E){return{$$typeof:p,render:E}},ve.isValidElement=ee,ve.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:J}},ve.memo=function(E,Z){return{$$typeof:m,type:E,compare:Z===void 0?null:Z}},ve.startTransition=function(E){var Z=Q.T,F={};Q.T=F;try{var I=E(),le=Q.S;le!==null&&le(F,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(we,ie)}catch(Se){ie(Se)}finally{Q.T=Z}},ve.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ve.use=function(E){return Q.H.use(E)},ve.useActionState=function(E,Z,F){return Q.H.useActionState(E,Z,F)},ve.useCallback=function(E,Z){return Q.H.useCallback(E,Z)},ve.useContext=function(E){return Q.H.useContext(E)},ve.useDebugValue=function(){},ve.useDeferredValue=function(E,Z){return Q.H.useDeferredValue(E,Z)},ve.useEffect=function(E,Z,F){var I=Q.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return I.useEffect(E,Z)},ve.useId=function(){return Q.H.useId()},ve.useImperativeHandle=function(E,Z,F){return Q.H.useImperativeHandle(E,Z,F)},ve.useInsertionEffect=function(E,Z){return Q.H.useInsertionEffect(E,Z)},ve.useLayoutEffect=function(E,Z){return Q.H.useLayoutEffect(E,Z)},ve.useMemo=function(E,Z){return Q.H.useMemo(E,Z)},ve.useOptimistic=function(E,Z){return Q.H.useOptimistic(E,Z)},ve.useReducer=function(E,Z,F){return Q.H.useReducer(E,Z,F)},ve.useRef=function(E){return Q.H.useRef(E)},ve.useState=function(E){return Q.H.useState(E)},ve.useSyncExternalStore=function(E,Z,F){return Q.H.useSyncExternalStore(E,Z,F)},ve.useTransition=function(){return Q.H.useTransition()},ve.version="19.1.0",ve}var Wp;function Nu(){return Wp||(Wp=1,Kc.exports=a0()),Kc.exports}var ye=Nu();const W=Pu(ye);var $c={exports:{}},Mr={},Gc={exports:{}},Jc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function i0(){return Fp||(Fp=1,function(i){function a(z,J){var ie=z.length;z.push(J);e:for(;0<ie;){var we=ie-1>>>1,E=z[we];if(0<c(E,J))z[we]=J,z[ie]=E,ie=we;else break e}}function r(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var J=z[0],ie=z.pop();if(ie!==J){z[0]=ie;e:for(var we=0,E=z.length,Z=E>>>1;we<Z;){var F=2*(we+1)-1,I=z[F],le=F+1,Se=z[le];if(0>c(I,ie))le<E&&0>c(Se,I)?(z[we]=Se,z[le]=ie,we=le):(z[we]=I,z[F]=ie,we=F);else if(le<E&&0>c(Se,ie))z[we]=Se,z[le]=ie,we=le;else break e}}return J}function c(z,J){var ie=z.sortIndex-J.sortIndex;return ie!==0?ie:z.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var y=[],m=[],x=1,b=null,S=3,T=!1,w=!1,j=!1,B=!1,U=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function Y(z){for(var J=r(m);J!==null;){if(J.callback===null)o(m);else if(J.startTime<=z)o(m),J.sortIndex=J.expirationTime,a(y,J);else break;J=r(m)}}function Q(z){if(j=!1,Y(z),!w)if(r(y)!==null)w=!0,me||(me=!0,xe());else{var J=r(m);J!==null&&ne(Q,J.startTime-z)}}var me=!1,se=-1,he=5,ee=-1;function $(){return B?!0:!(i.unstable_now()-ee<he)}function de(){if(B=!1,me){var z=i.unstable_now();ee=z;var J=!0;try{e:{w=!1,j&&(j=!1,C(se),se=-1),T=!0;var ie=S;try{t:{for(Y(z),b=r(y);b!==null&&!(b.expirationTime>z&&$());){var we=b.callback;if(typeof we=="function"){b.callback=null,S=b.priorityLevel;var E=we(b.expirationTime<=z);if(z=i.unstable_now(),typeof E=="function"){b.callback=E,Y(z),J=!0;break t}b===r(y)&&o(y),Y(z)}else o(y);b=r(y)}if(b!==null)J=!0;else{var Z=r(m);Z!==null&&ne(Q,Z.startTime-z),J=!1}}break e}finally{b=null,S=ie,T=!1}J=void 0}}finally{J?xe():me=!1}}}var xe;if(typeof P=="function")xe=function(){P(de)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,at=He.port2;He.port1.onmessage=de,xe=function(){at.postMessage(null)}}else xe=function(){U(de,0)};function ne(z,J){se=U(function(){z(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(z){switch(S){case 1:case 2:case 3:var J=3;break;default:J=S}var ie=S;S=J;try{return z()}finally{S=ie}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ie=S;S=z;try{return J()}finally{S=ie}},i.unstable_scheduleCallback=function(z,J,ie){var we=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?we+ie:we):ie=we,z){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=ie+E,z={id:x++,callback:J,priorityLevel:z,startTime:ie,expirationTime:E,sortIndex:-1},ie>we?(z.sortIndex=ie,a(m,z),r(y)===null&&z===r(m)&&(j?(C(se),se=-1):j=!0,ne(Q,ie-we))):(z.sortIndex=E,a(y,z),w||T||(w=!0,me||(me=!0,xe()))),z},i.unstable_shouldYield=$,i.unstable_wrapCallback=function(z){var J=S;return function(){var ie=S;S=J;try{return z.apply(this,arguments)}finally{S=ie}}}}(Jc)),Jc}var ey;function r0(){return ey||(ey=1,Gc.exports=i0()),Gc.exports}var Ic={exports:{}},xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function l0(){if(ty)return xt;ty=1;var i=Nu();function a(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(y,m,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:y,containerInfo:m,implementation:x}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,xt.createPortal=function(y,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(a(299));return f(y,m,null,x)},xt.flushSync=function(y){var m=d.T,x=o.p;try{if(d.T=null,o.p=2,y)return y()}finally{d.T=m,o.p=x,o.d.f()}},xt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(y,m))},xt.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},xt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var x=m.as,b=p(x,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?o.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:T}):x==="script"&&o.d.X(y,{crossOrigin:b,integrity:S,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},xt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=p(m.as,m.crossOrigin);o.d.M(y,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(y)},xt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,b=p(x,m.crossOrigin);o.d.L(y,x,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},xt.preloadModule=function(y,m){if(typeof y=="string")if(m){var x=p(m.as,m.crossOrigin);o.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(y)},xt.requestFormReset=function(y){o.d.r(y)},xt.unstable_batchedUpdates=function(y,m){return y(m)},xt.useFormState=function(y,m,x){return d.H.useFormState(y,m,x)},xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},xt.version="19.1.0",xt}var ny;function o0(){if(ny)return Ic.exports;ny=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),Ic.exports=l0(),Ic.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function s0(){if(ay)return Mr;ay=1;var i=r0(),a=Nu(),r=o0();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(o(188))}function y(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,l=t;;){var s=n.return;if(s===null)break;var u=s.alternate;if(u===null){if(l=s.return,l!==null){n=l;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===n)return p(s),e;if(u===l)return p(s),t;u=u.sibling}throw Error(o(188))}if(n.return!==l.return)n=s,l=u;else{for(var h=!1,v=s.child;v;){if(v===n){h=!0,n=s,l=u;break}if(v===l){h=!0,l=s,n=u;break}v=v.sibling}if(!h){for(v=u.child;v;){if(v===n){h=!0,n=u,l=s;break}if(v===l){h=!0,l=u,n=s;break}v=v.sibling}if(!h)throw Error(o(189))}}if(n.alternate!==l)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),P=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function xe(e){return e===null||typeof e!="object"?null:(e=de&&e[de]||e["@@iterator"],typeof e=="function"?e:null)}var He=Symbol.for("react.client.reference");function at(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===He?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case B:return"Profiler";case j:return"StrictMode";case Q:return"Suspense";case me:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case P:return(e.displayName||"Context")+".Provider";case C:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case se:return t=e.displayName||null,t!==null?t:at(e.type)||"Memo";case he:t=e._payload,e=e._init;try{return at(e(t))}catch{}}return null}var ne=Array.isArray,z=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},we=[],E=-1;function Z(e){return{current:e}}function F(e){0>E||(e.current=we[E],we[E]=null,E--)}function I(e,t){E++,we[E]=e.current,e.current=t}var le=Z(null),Se=Z(null),re=Z(null),Et=Z(null);function qe(e,t){switch(I(re,t),I(Se,e),I(le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Sp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Sp(t),e=Tp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(le),I(le,e)}function M(){F(le),F(Se),F(re)}function L(e){e.memoizedState!==null&&I(Et,e);var t=le.current,n=Tp(t,e.type);t!==n&&(I(Se,e),I(le,n))}function K(e){Se.current===e&&(F(le),F(Se)),Et.current===e&&(F(Et),Tr._currentValue=ie)}var ge=Object.prototype.hasOwnProperty,ce=i.unstable_scheduleCallback,oe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Le=i.unstable_requestPaint,Ze=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Fe=i.unstable_ImmediatePriority,lt=i.unstable_UserBlockingPriority,At=i.unstable_NormalPriority,Cn=i.unstable_LowPriority,cn=i.unstable_IdlePriority,Di=i.log,Xr=i.unstable_setDisableYieldValue,un=null,ft=null;function mt(e){if(typeof Di=="function"&&Xr(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(un,e)}catch{}}var Ct=Math.clz32?Math.clz32:qg,Po=Math.log,Hg=Math.LN2;function qg(e){return e>>>=0,e===0?32:31-(Po(e)/Hg|0)|0}var Qr=256,Zr=4194304;function ya(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Kr(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var s=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var v=l&134217727;return v!==0?(l=v&~u,l!==0?s=ya(l):(h&=v,h!==0?s=ya(h):n||(n=v&~e,n!==0&&(s=ya(n))))):(v=l&~u,v!==0?s=ya(v):h!==0?s=ya(h):n||(n=l&~e,n!==0&&(s=ya(n)))),s===0?0:t!==0&&t!==s&&(t&u)===0&&(u=s&-s,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:s}function ji(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Yg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rf(){var e=Qr;return Qr<<=1,(Qr&4194048)===0&&(Qr=256),e}function lf(){var e=Zr;return Zr<<=1,(Zr&62914560)===0&&(Zr=4194304),e}function No(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ki(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vg(e,t,n,l,s,u){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,_=e.expirationTimes,D=e.hiddenUpdates;for(n=h&~n;0<n;){var H=31-Ct(n),X=1<<H;v[H]=0,_[H]=-1;var k=D[H];if(k!==null)for(D[H]=null,H=0;H<k.length;H++){var N=k[H];N!==null&&(N.lane&=-536870913)}n&=~X}l!==0&&of(e,l,0),u!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~t))}function of(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ct(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&4194090}function sf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Ct(n),s=1<<l;s&t|e[l]&t&&(e[l]|=t),n&=~s}}function zo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cf(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Yp(e.type))}function Xg(e,t){var n=J.p;try{return J.p=e,t()}finally{J.p=n}}var Qn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Qn,kt="__reactProps$"+Qn,Ua="__reactContainer$"+Qn,Lo="__reactEvents$"+Qn,Qg="__reactListeners$"+Qn,Zg="__reactHandles$"+Qn,uf="__reactResources$"+Qn,Pi="__reactMarker$"+Qn;function Uo(e){delete e[vt],delete e[kt],delete e[Lo],delete e[Qg],delete e[Zg]}function Ha(e){var t=e[vt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ua]||n[vt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wp(e);e!==null;){if(n=e[vt])return n;e=wp(e)}return t}e=n,n=e.parentNode}return null}function qa(e){if(e=e[vt]||e[Ua]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ni(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Ya(e){var t=e[uf];return t||(t=e[uf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[Pi]=!0}var ff=new Set,df={};function ga(e,t){Va(e,t),Va(e+"Capture",t)}function Va(e,t){for(df[e]=t,e=0;e<t.length;e++)ff.add(t[e])}var Kg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hf={},pf={};function $g(e){return ge.call(pf,e)?!0:ge.call(hf,e)?!1:Kg.test(e)?pf[e]=!0:(hf[e]=!0,!1)}function $r(e,t,n){if($g(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Gr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function wn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}var Ho,yf;function Xa(e){if(Ho===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ho=t&&t[1]||"",yf=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ho+e+yf}var qo=!1;function Yo(e,t){if(!e||qo)return"";qo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(N){var k=N}Reflect.construct(e,[],X)}else{try{X.call()}catch(N){k=N}e.call(X.prototype)}}else{try{throw Error()}catch(N){k=N}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(N){if(N&&k&&typeof N.stack=="string")return[N.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),h=u[0],v=u[1];if(h&&v){var _=h.split(`
`),D=v.split(`
`);for(s=l=0;l<_.length&&!_[l].includes("DetermineComponentFrameRoot");)l++;for(;s<D.length&&!D[s].includes("DetermineComponentFrameRoot");)s++;if(l===_.length||s===D.length)for(l=_.length-1,s=D.length-1;1<=l&&0<=s&&_[l]!==D[s];)s--;for(;1<=l&&0<=s;l--,s--)if(_[l]!==D[s]){if(l!==1||s!==1)do if(l--,s--,0>s||_[l]!==D[s]){var H=`
`+_[l].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=l&&0<=s);break}}}finally{qo=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Xa(n):""}function Gg(e){switch(e.tag){case 26:case 27:case 5:return Xa(e.type);case 16:return Xa("Lazy");case 13:return Xa("Suspense");case 19:return Xa("SuspenseList");case 0:case 15:return Yo(e.type,!1);case 11:return Yo(e.type.render,!1);case 1:return Yo(e.type,!0);case 31:return Xa("Activity");default:return""}}function gf(e){try{var t="";do t+=Gg(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jg(e){var t=mf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(h){l=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jr(e){e._valueTracker||(e._valueTracker=Jg(e))}function vf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=mf(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Ir(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ig=/[\n"\\]/g;function Wt(e){return e.replace(Ig,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vo(e,t,n,l,s,u,h,v){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+It(t)):e.value!==""+It(t)&&(e.value=""+It(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?Xo(e,h,It(t)):n!=null?Xo(e,h,It(n)):l!=null&&e.removeAttribute("value"),s==null&&u!=null&&(e.defaultChecked=!!u),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+It(v):e.removeAttribute("name")}function bf(e,t,n,l,s,u,h,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null))return;n=n!=null?""+It(n):"",t=t!=null?""+It(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}l=l??s,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=v?e.checked:!!l,e.defaultChecked=!!l,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h)}function Xo(e,t,n){t==="number"&&Ir(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Qa(e,t,n,l){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&l&&(e[n].defaultSelected=!0)}else{for(n=""+It(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,l&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function xf(e,t,n){if(t!=null&&(t=""+It(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+It(n):""}function _f(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(o(92));if(ne(l)){if(1<l.length)throw Error(o(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=It(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l)}function Za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sf(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||Wg.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tf(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var s in t)l=t[s],t.hasOwnProperty(s)&&n[s]!==l&&Sf(e,s,l)}else for(var u in t)t.hasOwnProperty(u)&&Sf(e,u,t[u])}function Qo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),em=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(e){return em.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Zo=null;function Ko(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ka=null,$a=null;function Ef(e){var t=qa(e);if(t&&(e=t.stateNode)){var n=e[kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vo(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Wt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var s=l[kt]||null;if(!s)throw Error(o(90));Vo(l,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&vf(l)}break e;case"textarea":xf(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Qa(e,!!n.multiple,t,!1)}}}var $o=!1;function Af(e,t,n){if($o)return e(t,n);$o=!0;try{var l=e(t);return l}finally{if($o=!1,(Ka!==null||$a!==null)&&(Bl(),Ka&&(t=Ka,e=$a,$a=Ka=null,Ef(t),e)))for(t=0;t<e.length;t++)Ef(e[t])}}function zi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[kt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Go=!1;if(On)try{var Bi={};Object.defineProperty(Bi,"passive",{get:function(){Go=!0}}),window.addEventListener("test",Bi,Bi),window.removeEventListener("test",Bi,Bi)}catch{Go=!1}var Zn=null,Jo=null,Fr=null;function Cf(){if(Fr)return Fr;var e,t=Jo,n=t.length,l,s="value"in Zn?Zn.value:Zn.textContent,u=s.length;for(e=0;e<n&&t[e]===s[e];e++);var h=n-e;for(l=1;l<=h&&t[n-l]===s[u-l];l++);return Fr=s.slice(e,1<l?1-l:void 0)}function el(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tl(){return!0}function wf(){return!1}function Pt(e){function t(n,l,s,u,h){this._reactName=n,this._targetInst=s,this.type=l,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?tl:wf,this.isPropagationStopped=wf,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),t}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=Pt(ma),Li=x({},ma,{view:0,detail:0}),tm=Pt(Li),Io,Wo,Ui,al=x({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ui&&(Ui&&e.type==="mousemove"?(Io=e.screenX-Ui.screenX,Wo=e.screenY-Ui.screenY):Wo=Io=0,Ui=e),Io)},movementY:function(e){return"movementY"in e?e.movementY:Wo}}),Of=Pt(al),nm=x({},al,{dataTransfer:0}),am=Pt(nm),im=x({},Li,{relatedTarget:0}),Fo=Pt(im),rm=x({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),lm=Pt(rm),om=x({},ma,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sm=Pt(om),cm=x({},ma,{data:0}),Mf=Pt(cm),um={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dm[e])?!!t[e]:!1}function es(){return hm}var pm=x({},Li,{key:function(e){if(e.key){var t=um[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=el(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(e){return e.type==="keypress"?el(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?el(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ym=Pt(pm),gm=x({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rf=Pt(gm),mm=x({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),vm=Pt(mm),bm=x({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),xm=Pt(bm),_m=x({},al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sm=Pt(_m),Tm=x({},ma,{newState:0,oldState:0}),Em=Pt(Tm),Am=[9,13,27,32],ts=On&&"CompositionEvent"in window,Hi=null;On&&"documentMode"in document&&(Hi=document.documentMode);var Cm=On&&"TextEvent"in window&&!Hi,Df=On&&(!ts||Hi&&8<Hi&&11>=Hi),jf=" ",kf=!1;function Pf(e,t){switch(e){case"keyup":return Am.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ga=!1;function wm(e,t){switch(e){case"compositionend":return Nf(t);case"keypress":return t.which!==32?null:(kf=!0,jf);case"textInput":return e=t.data,e===jf&&kf?null:e;default:return null}}function Om(e,t){if(Ga)return e==="compositionend"||!ts&&Pf(e,t)?(e=Cf(),Fr=Jo=Zn=null,Ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Df&&t.locale!=="ko"?null:t.data;default:return null}}var Mm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mm[e.type]:t==="textarea"}function Bf(e,t,n,l){Ka?$a?$a.push(l):$a=[l]:Ka=l,t=Vl(t,"onChange"),0<t.length&&(n=new nl("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var qi=null,Yi=null;function Rm(e){mp(e,0)}function il(e){var t=Ni(e);if(vf(t))return e}function Lf(e,t){if(e==="change")return t}var Uf=!1;if(On){var ns;if(On){var as="oninput"in document;if(!as){var Hf=document.createElement("div");Hf.setAttribute("oninput","return;"),as=typeof Hf.oninput=="function"}ns=as}else ns=!1;Uf=ns&&(!document.documentMode||9<document.documentMode)}function qf(){qi&&(qi.detachEvent("onpropertychange",Yf),Yi=qi=null)}function Yf(e){if(e.propertyName==="value"&&il(Yi)){var t=[];Bf(t,Yi,e,Ko(e)),Af(Rm,t)}}function Dm(e,t,n){e==="focusin"?(qf(),qi=t,Yi=n,qi.attachEvent("onpropertychange",Yf)):e==="focusout"&&qf()}function jm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return il(Yi)}function km(e,t){if(e==="click")return il(t)}function Pm(e,t){if(e==="input"||e==="change")return il(t)}function Nm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:Nm;function Vi(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var s=n[l];if(!ge.call(t,s)||!Ut(e[s],t[s]))return!1}return!0}function Vf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xf(e,t){var n=Vf(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vf(n)}}function Qf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ir(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ir(e.document)}return t}function is(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var zm=On&&"documentMode"in document&&11>=document.documentMode,Ja=null,rs=null,Xi=null,ls=!1;function Kf(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ls||Ja==null||Ja!==Ir(l)||(l=Ja,"selectionStart"in l&&is(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xi&&Vi(Xi,l)||(Xi=l,l=Vl(rs,"onSelect"),0<l.length&&(t=new nl("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Ja)))}function va(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ia={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},os={},$f={};On&&($f=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function ba(e){if(os[e])return os[e];if(!Ia[e])return e;var t=Ia[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $f)return os[e]=t[n];return e}var Gf=ba("animationend"),Jf=ba("animationiteration"),If=ba("animationstart"),Bm=ba("transitionrun"),Lm=ba("transitionstart"),Um=ba("transitioncancel"),Wf=ba("transitionend"),Ff=new Map,ss="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ss.push("scrollEnd");function fn(e,t){Ff.set(e,t),ga(t,[e])}var ed=new WeakMap;function Ft(e,t){if(typeof e=="object"&&e!==null){var n=ed.get(e);return n!==void 0?n:(t={value:e,source:t,stack:gf(t)},ed.set(e,t),t)}return{value:e,source:t,stack:gf(t)}}var en=[],Wa=0,cs=0;function rl(){for(var e=Wa,t=cs=Wa=0;t<e;){var n=en[t];en[t++]=null;var l=en[t];en[t++]=null;var s=en[t];en[t++]=null;var u=en[t];if(en[t++]=null,l!==null&&s!==null){var h=l.pending;h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s}u!==0&&td(n,s,u)}}function ll(e,t,n,l){en[Wa++]=e,en[Wa++]=t,en[Wa++]=n,en[Wa++]=l,cs|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function us(e,t,n,l){return ll(e,t,n,l),ol(e)}function Fa(e,t){return ll(e,null,null,t),ol(e)}function td(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var s=!1,u=e.return;u!==null;)u.childLanes|=n,l=u.alternate,l!==null&&(l.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(s=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,s&&t!==null&&(s=31-Ct(n),e=u.hiddenUpdates,l=e[s],l===null?e[s]=[t]:l.push(t),t.lane=n|536870912),u):null}function ol(e){if(50<yr)throw yr=0,gc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ei={};function Hm(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,n,l){return new Hm(e,t,n,l)}function fs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mn(e,t){var n=e.alternate;return n===null?(n=Ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function nd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function sl(e,t,n,l,s,u){var h=0;if(l=e,typeof e=="function")fs(e)&&(h=1);else if(typeof e=="string")h=Yv(e,n,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=Ht(31,n,t,s),e.elementType=ee,e.lanes=u,e;case w:return xa(n.children,s,u,t);case j:h=8,s|=24;break;case B:return e=Ht(12,n,t,s|2),e.elementType=B,e.lanes=u,e;case Q:return e=Ht(13,n,t,s),e.elementType=Q,e.lanes=u,e;case me:return e=Ht(19,n,t,s),e.elementType=me,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:case P:h=10;break e;case C:h=9;break e;case Y:h=11;break e;case se:h=14;break e;case he:h=16,l=null;break e}h=29,n=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=Ht(h,n,t,s),t.elementType=e,t.type=l,t.lanes=u,t}function xa(e,t,n,l){return e=Ht(7,e,l,t),e.lanes=n,e}function ds(e,t,n){return e=Ht(6,e,null,t),e.lanes=n,e}function hs(e,t,n){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ti=[],ni=0,cl=null,ul=0,tn=[],nn=0,_a=null,Rn=1,Dn="";function Sa(e,t){ti[ni++]=ul,ti[ni++]=cl,cl=e,ul=t}function ad(e,t,n){tn[nn++]=Rn,tn[nn++]=Dn,tn[nn++]=_a,_a=e;var l=Rn;e=Dn;var s=32-Ct(l)-1;l&=~(1<<s),n+=1;var u=32-Ct(t)+s;if(30<u){var h=s-s%5;u=(l&(1<<h)-1).toString(32),l>>=h,s-=h,Rn=1<<32-Ct(t)+s|n<<s|l,Dn=u+e}else Rn=1<<u|n<<s|l,Dn=e}function ps(e){e.return!==null&&(Sa(e,1),ad(e,1,0))}function ys(e){for(;e===cl;)cl=ti[--ni],ti[ni]=null,ul=ti[--ni],ti[ni]=null;for(;e===_a;)_a=tn[--nn],tn[nn]=null,Dn=tn[--nn],tn[nn]=null,Rn=tn[--nn],tn[nn]=null}var wt=null,Ge=null,Me=!1,Ta=null,mn=!1,gs=Error(o(519));function Ea(e){var t=Error(o(418,""));throw Ki(Ft(t,e)),gs}function id(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[vt]=e,t[kt]=l,n){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(n=0;n<mr.length;n++)Ee(mr[n],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),bf(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Jr(t);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),_f(t,l.value,l.defaultValue,l.children),Jr(t)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||_p(t.textContent,n)?(l.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),l.onScroll!=null&&Ee("scroll",t),l.onScrollEnd!=null&&Ee("scrollend",t),l.onClick!=null&&(t.onclick=Xl),t=!0):t=!1,t||Ea(e)}function rd(e){for(wt=e.return;wt;)switch(wt.tag){case 5:case 13:mn=!1;return;case 27:case 3:mn=!0;return;default:wt=wt.return}}function Qi(e){if(e!==wt)return!1;if(!Me)return rd(e),Me=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||jc(e.type,e.memoizedProps)),n=!n),n&&Ge&&Ea(e),rd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Ge=hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Ge=null}}else t===27?(t=Ge,sa(e.type)?(e=zc,zc=null,Ge=e):Ge=t):Ge=wt?hn(e.stateNode.nextSibling):null;return!0}function Zi(){Ge=wt=null,Me=!1}function ld(){var e=Ta;return e!==null&&(Bt===null?Bt=e:Bt.push.apply(Bt,e),Ta=null),e}function Ki(e){Ta===null?Ta=[e]:Ta.push(e)}var ms=Z(null),Aa=null,jn=null;function Kn(e,t,n){I(ms,t._currentValue),t._currentValue=n}function kn(e){e._currentValue=ms.current,F(ms)}function vs(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function bs(e,t,n,l){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){var h=s.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=s;for(var _=0;_<t.length;_++)if(v.context===t[_]){u.lanes|=n,v=u.alternate,v!==null&&(v.lanes|=n),vs(u.return,n,e),l||(h=null);break e}u=v.next}}else if(s.tag===18){if(h=s.return,h===null)throw Error(o(341));h.lanes|=n,u=h.alternate,u!==null&&(u.lanes|=n),vs(h,n,e),h=null}else h=s.child;if(h!==null)h.return=s;else for(h=s;h!==null;){if(h===e){h=null;break}if(s=h.sibling,s!==null){s.return=h.return,h=s;break}h=h.return}s=h}}function $i(e,t,n,l){e=null;for(var s=t,u=!1;s!==null;){if(!u){if((s.flags&524288)!==0)u=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var h=s.alternate;if(h===null)throw Error(o(387));if(h=h.memoizedProps,h!==null){var v=s.type;Ut(s.pendingProps.value,h.value)||(e!==null?e.push(v):e=[v])}}else if(s===Et.current){if(h=s.alternate,h===null)throw Error(o(387));h.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Tr):e=[Tr])}s=s.return}e!==null&&bs(t,e,n,l),t.flags|=262144}function fl(e){for(e=e.firstContext;e!==null;){if(!Ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ca(e){Aa=e,jn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function bt(e){return od(Aa,e)}function dl(e,t){return Aa===null&&Ca(e),od(e,t)}function od(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},jn===null){if(e===null)throw Error(o(308));jn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else jn=jn.next=t;return n}var qm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Ym=i.unstable_scheduleCallback,Vm=i.unstable_NormalPriority,it={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xs(){return{controller:new qm,data:new Map,refCount:0}}function Gi(e){e.refCount--,e.refCount===0&&Ym(Vm,function(){e.controller.abort()})}var Ji=null,_s=0,ai=0,ii=null;function Xm(e,t){if(Ji===null){var n=Ji=[];_s=0,ai=Tc(),ii={status:"pending",value:void 0,then:function(l){n.push(l)}}}return _s++,t.then(sd,sd),t}function sd(){if(--_s===0&&Ji!==null){ii!==null&&(ii.status="fulfilled");var e=Ji;Ji=null,ai=0,ii=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Qm(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(l.status="rejected",l.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),l}var cd=z.S;z.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Xm(e,t),cd!==null&&cd(e,t)};var wa=Z(null);function Ss(){var e=wa.current;return e!==null?e:Ye.pooledCache}function hl(e,t){t===null?I(wa,wa.current):I(wa,t.pool)}function ud(){var e=Ss();return e===null?null:{parent:it._currentValue,pool:e}}var Ii=Error(o(460)),fd=Error(o(474)),pl=Error(o(542)),Ts={then:function(){}};function dd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yl(){}function hd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(yl,yl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yd(e),e;default:if(typeof t.status=="string")t.then(yl,yl);else{if(e=Ye,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=l}},function(l){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yd(e),e}throw Wi=t,Ii}}var Wi=null;function pd(){if(Wi===null)throw Error(o(459));var e=Wi;return Wi=null,e}function yd(e){if(e===Ii||e===pl)throw Error(o(483))}var $n=!1;function Es(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function As(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Jn(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ke&2)!==0){var s=l.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),l.pending=t,t=ol(e),td(e,null,n),t}return ll(e,l,t,n),ol(e)}function Fi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,sf(e,n)}}function Cs(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var s=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?s=u=h:u=u.next=h,n=n.next}while(n!==null);u===null?s=u=t:u=u.next=t}else s=u=t;n={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ws=!1;function er(){if(ws){var e=ii;if(e!==null)throw e}}function tr(e,t,n,l){ws=!1;var s=e.updateQueue;$n=!1;var u=s.firstBaseUpdate,h=s.lastBaseUpdate,v=s.shared.pending;if(v!==null){s.shared.pending=null;var _=v,D=_.next;_.next=null,h===null?u=D:h.next=D,h=_;var H=e.alternate;H!==null&&(H=H.updateQueue,v=H.lastBaseUpdate,v!==h&&(v===null?H.firstBaseUpdate=D:v.next=D,H.lastBaseUpdate=_))}if(u!==null){var X=s.baseState;h=0,H=D=_=null,v=u;do{var k=v.lane&-536870913,N=k!==v.lane;if(N?(Ce&k)===k:(l&k)===k){k!==0&&k===ai&&(ws=!0),H!==null&&(H=H.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var pe=e,ue=v;k=t;var Be=n;switch(ue.tag){case 1:if(pe=ue.payload,typeof pe=="function"){X=pe.call(Be,X,k);break e}X=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ue.payload,k=typeof pe=="function"?pe.call(Be,X,k):pe,k==null)break e;X=x({},X,k);break e;case 2:$n=!0}}k=v.callback,k!==null&&(e.flags|=64,N&&(e.flags|=8192),N=s.callbacks,N===null?s.callbacks=[k]:N.push(k))}else N={lane:k,tag:v.tag,payload:v.payload,callback:v.callback,next:null},H===null?(D=H=N,_=X):H=H.next=N,h|=k;if(v=v.next,v===null){if(v=s.shared.pending,v===null)break;N=v,v=N.next,N.next=null,s.lastBaseUpdate=N,s.shared.pending=null}}while(!0);H===null&&(_=X),s.baseState=_,s.firstBaseUpdate=D,s.lastBaseUpdate=H,u===null&&(s.shared.lanes=0),ia|=h,e.lanes=h,e.memoizedState=X}}function gd(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function md(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)gd(n[e],t)}var ri=Z(null),gl=Z(0);function vd(e,t){e=Hn,I(gl,e),I(ri,t),Hn=e|t.baseLanes}function Os(){I(gl,Hn),I(ri,ri.current)}function Ms(){Hn=gl.current,F(ri),F(gl)}var In=0,be=null,Ne=null,et=null,ml=!1,li=!1,Oa=!1,vl=0,nr=0,oi=null,Zm=0;function Ie(){throw Error(o(321))}function Rs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function Ds(e,t,n,l,s,u){return In=u,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?th:nh,Oa=!1,u=n(l,s),Oa=!1,li&&(u=xd(t,n,l,s)),bd(e),u}function bd(e){z.H=El;var t=Ne!==null&&Ne.next!==null;if(In=0,et=Ne=be=null,ml=!1,nr=0,oi=null,t)throw Error(o(300));e===null||st||(e=e.dependencies,e!==null&&fl(e)&&(st=!0))}function xd(e,t,n,l){be=e;var s=0;do{if(li&&(oi=null),nr=0,li=!1,25<=s)throw Error(o(301));if(s+=1,et=Ne=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}z.H=Fm,u=t(n,l)}while(li);return u}function Km(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?ar(t):t,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(be.flags|=1024),t}function js(){var e=vl!==0;return vl=0,e}function ks(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ps(e){if(ml){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ml=!1}In=0,et=Ne=be=null,li=!1,nr=vl=0,oi=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?be.memoizedState=et=e:et=et.next=e,et}function tt(){if(Ne===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=et===null?be.memoizedState:et.next;if(t!==null)et=t,Ne=e;else{if(e===null)throw be.alternate===null?Error(o(467)):Error(o(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},et===null?be.memoizedState=et=e:et=et.next=e}return et}function Ns(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ar(e){var t=nr;return nr+=1,oi===null&&(oi=[]),e=hd(oi,e,t),t=be,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?th:nh),e}function bl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ar(e);if(e.$$typeof===P)return bt(e)}throw Error(o(438,String(e)))}function zs(e){var t=null,n=be.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ns(),be.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=$;return t.index++,n}function Pn(e,t){return typeof t=="function"?t(e):t}function xl(e){var t=tt();return Bs(t,Ne,e)}function Bs(e,t,n){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var s=e.baseQueue,u=l.pending;if(u!==null){if(s!==null){var h=s.next;s.next=u.next,u.next=h}t.baseQueue=s=u,l.pending=null}if(u=e.baseState,s===null)e.memoizedState=u;else{t=s.next;var v=h=null,_=null,D=t,H=!1;do{var X=D.lane&-536870913;if(X!==D.lane?(Ce&X)===X:(In&X)===X){var k=D.revertLane;if(k===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),X===ai&&(H=!0);else if((In&k)===k){D=D.next,k===ai&&(H=!0);continue}else X={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(v=_=X,h=u):_=_.next=X,be.lanes|=k,ia|=k;X=D.action,Oa&&n(u,X),u=D.hasEagerState?D.eagerState:n(u,X)}else k={lane:X,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(v=_=k,h=u):_=_.next=k,be.lanes|=X,ia|=X;D=D.next}while(D!==null&&D!==t);if(_===null?h=u:_.next=v,!Ut(u,e.memoizedState)&&(st=!0,H&&(n=ii,n!==null)))throw n;e.memoizedState=u,e.baseState=h,e.baseQueue=_,l.lastRenderedState=u}return s===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ls(e){var t=tt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var l=n.dispatch,s=n.pending,u=t.memoizedState;if(s!==null){n.pending=null;var h=s=s.next;do u=e(u,h.action),h=h.next;while(h!==s);Ut(u,t.memoizedState)||(st=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,l]}function _d(e,t,n){var l=be,s=tt(),u=Me;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=t();var h=!Ut((Ne||s).memoizedState,n);h&&(s.memoizedState=n,st=!0),s=s.queue;var v=Ed.bind(null,l,s,e);if(ir(2048,8,v,[e]),s.getSnapshot!==t||h||et!==null&&et.memoizedState.tag&1){if(l.flags|=2048,si(9,_l(),Td.bind(null,l,s,n,t),null),Ye===null)throw Error(o(349));u||(In&124)!==0||Sd(l,t,n)}return n}function Sd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t=Ns(),be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Td(e,t,n,l){t.value=n,t.getSnapshot=l,Ad(t)&&Cd(e)}function Ed(e,t,n){return n(function(){Ad(t)&&Cd(e)})}function Ad(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function Cd(e){var t=Fa(e,2);t!==null&&Qt(t,e,2)}function Us(e){var t=Nt();if(typeof e=="function"){var n=e;if(e=n(),Oa){mt(!0);try{n()}finally{mt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:e},t}function wd(e,t,n,l){return e.baseState=n,Bs(e,Ne,typeof l=="function"?l:Pn)}function $m(e,t,n,l,s){if(Tl(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};z.T!==null?n(!0):u.isTransition=!1,l(u),n=t.pending,n===null?(u.next=t.pending=u,Od(t,u)):(u.next=n.next,t.pending=n.next=u)}}function Od(e,t){var n=t.action,l=t.payload,s=e.state;if(t.isTransition){var u=z.T,h={};z.T=h;try{var v=n(s,l),_=z.S;_!==null&&_(h,v),Md(e,t,v)}catch(D){Hs(e,t,D)}finally{z.T=u}}else try{u=n(s,l),Md(e,t,u)}catch(D){Hs(e,t,D)}}function Md(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){Rd(e,t,l)},function(l){return Hs(e,t,l)}):Rd(e,t,n)}function Rd(e,t,n){t.status="fulfilled",t.value=n,Dd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Od(e,n)))}function Hs(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,Dd(t),t=t.next;while(t!==l)}e.action=null}function Dd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function jd(e,t){return t}function kd(e,t){if(Me){var n=Ye.formState;if(n!==null){e:{var l=be;if(Me){if(Ge){t:{for(var s=Ge,u=mn;s.nodeType!==8;){if(!u){s=null;break t}if(s=hn(s.nextSibling),s===null){s=null;break t}}u=s.data,s=u==="F!"||u==="F"?s:null}if(s){Ge=hn(s.nextSibling),l=s.data==="F!";break e}}Ea(l)}l=!1}l&&(t=n[0])}}return n=Nt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jd,lastRenderedState:t},n.queue=l,n=Wd.bind(null,be,l),l.dispatch=n,l=Us(!1),u=Qs.bind(null,be,!1,l.queue),l=Nt(),s={state:t,dispatch:null,action:e,pending:null},l.queue=s,n=$m.bind(null,be,s,u,n),s.dispatch=n,l.memoizedState=e,[t,n,!1]}function Pd(e){var t=tt();return Nd(t,Ne,e)}function Nd(e,t,n){if(t=Bs(e,t,jd)[0],e=xl(Pn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ar(t)}catch(h){throw h===Ii?pl:h}else l=t;t=tt();var s=t.queue,u=s.dispatch;return n!==t.memoizedState&&(be.flags|=2048,si(9,_l(),Gm.bind(null,s,n),null)),[l,u,e]}function Gm(e,t){e.action=t}function zd(e){var t=tt(),n=Ne;if(n!==null)return Nd(t,n,e);tt(),t=t.memoizedState,n=tt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function si(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=be.updateQueue,t===null&&(t=Ns(),be.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function _l(){return{destroy:void 0,resource:void 0}}function Bd(){return tt().memoizedState}function Sl(e,t,n,l){var s=Nt();l=l===void 0?null:l,be.flags|=e,s.memoizedState=si(1|t,_l(),n,l)}function ir(e,t,n,l){var s=tt();l=l===void 0?null:l;var u=s.memoizedState.inst;Ne!==null&&l!==null&&Rs(l,Ne.memoizedState.deps)?s.memoizedState=si(t,u,n,l):(be.flags|=e,s.memoizedState=si(1|t,u,n,l))}function Ld(e,t){Sl(8390656,8,e,t)}function Ud(e,t){ir(2048,8,e,t)}function Hd(e,t){return ir(4,2,e,t)}function qd(e,t){return ir(4,4,e,t)}function Yd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vd(e,t,n){n=n!=null?n.concat([e]):null,ir(4,4,Yd.bind(null,t,e),n)}function qs(){}function Xd(e,t){var n=tt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Rs(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Qd(e,t){var n=tt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Rs(t,l[1]))return l[0];if(l=e(),Oa){mt(!0);try{e()}finally{mt(!1)}}return n.memoizedState=[l,t],l}function Ys(e,t,n){return n===void 0||(In&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=$h(),be.lanes|=e,ia|=e,n)}function Zd(e,t,n,l){return Ut(n,t)?n:ri.current!==null?(e=Ys(e,n,l),Ut(e,t)||(st=!0),e):(In&42)===0?(st=!0,e.memoizedState=n):(e=$h(),be.lanes|=e,ia|=e,t)}function Kd(e,t,n,l,s){var u=J.p;J.p=u!==0&&8>u?u:8;var h=z.T,v={};z.T=v,Qs(e,!1,t,n);try{var _=s(),D=z.S;if(D!==null&&D(v,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var H=Qm(_,l);rr(e,t,H,Xt(e))}else rr(e,t,l,Xt(e))}catch(X){rr(e,t,{then:function(){},status:"rejected",reason:X},Xt())}finally{J.p=u,z.T=h}}function Jm(){}function Vs(e,t,n,l){if(e.tag!==5)throw Error(o(476));var s=$d(e).queue;Kd(e,s,t,ie,n===null?Jm:function(){return Gd(e),n(l)})}function $d(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:ie},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Gd(e){var t=$d(e).next.queue;rr(e,t,{},Xt())}function Xs(){return bt(Tr)}function Jd(){return tt().memoizedState}function Id(){return tt().memoizedState}function Im(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Xt();e=Gn(n);var l=Jn(t,e,n);l!==null&&(Qt(l,t,n),Fi(l,t,n)),t={cache:xs()},e.payload=t;return}t=t.return}}function Wm(e,t,n){var l=Xt();n={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Tl(e)?Fd(t,n):(n=us(e,t,n,l),n!==null&&(Qt(n,e,l),eh(n,t,l)))}function Wd(e,t,n){var l=Xt();rr(e,t,n,l)}function rr(e,t,n,l){var s={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tl(e))Fd(t,s);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,v=u(h,n);if(s.hasEagerState=!0,s.eagerState=v,Ut(v,h))return ll(e,t,s,0),Ye===null&&rl(),!1}catch{}finally{}if(n=us(e,t,s,l),n!==null)return Qt(n,e,l),eh(n,t,l),!0}return!1}function Qs(e,t,n,l){if(l={lane:2,revertLane:Tc(),action:l,hasEagerState:!1,eagerState:null,next:null},Tl(e)){if(t)throw Error(o(479))}else t=us(e,n,l,2),t!==null&&Qt(t,e,2)}function Tl(e){var t=e.alternate;return e===be||t!==null&&t===be}function Fd(e,t){li=ml=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eh(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,sf(e,n)}}var El={readContext:bt,use:bl,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie},th={readContext:bt,use:bl,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:bt,useEffect:Ld,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Sl(4194308,4,Yd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sl(4194308,4,e,t)},useInsertionEffect:function(e,t){Sl(4,2,e,t)},useMemo:function(e,t){var n=Nt();t=t===void 0?null:t;var l=e();if(Oa){mt(!0);try{e()}finally{mt(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Nt();if(n!==void 0){var s=n(t);if(Oa){mt(!0);try{n(t)}finally{mt(!1)}}}else s=t;return l.memoizedState=l.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},l.queue=e,e=e.dispatch=Wm.bind(null,be,e),[l.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:function(e){e=Us(e);var t=e.queue,n=Wd.bind(null,be,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:qs,useDeferredValue:function(e,t){var n=Nt();return Ys(n,e,t)},useTransition:function(){var e=Us(!1);return e=Kd.bind(null,be,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=be,s=Nt();if(Me){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Ye===null)throw Error(o(349));(Ce&124)!==0||Sd(l,t,n)}s.memoizedState=n;var u={value:n,getSnapshot:t};return s.queue=u,Ld(Ed.bind(null,l,u,e),[e]),l.flags|=2048,si(9,_l(),Td.bind(null,l,u,n,t),null),n},useId:function(){var e=Nt(),t=Ye.identifierPrefix;if(Me){var n=Dn,l=Rn;n=(l&~(1<<32-Ct(l)-1)).toString(32)+n,t=""+t+"R"+n,n=vl++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=Zm++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Xs,useFormState:kd,useActionState:kd,useOptimistic:function(e){var t=Nt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Qs.bind(null,be,!0,n),n.dispatch=t,[e,t]},useMemoCache:zs,useCacheRefresh:function(){return Nt().memoizedState=Im.bind(null,be)}},nh={readContext:bt,use:bl,useCallback:Xd,useContext:bt,useEffect:Ud,useImperativeHandle:Vd,useInsertionEffect:Hd,useLayoutEffect:qd,useMemo:Qd,useReducer:xl,useRef:Bd,useState:function(){return xl(Pn)},useDebugValue:qs,useDeferredValue:function(e,t){var n=tt();return Zd(n,Ne.memoizedState,e,t)},useTransition:function(){var e=xl(Pn)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:ar(e),t]},useSyncExternalStore:_d,useId:Jd,useHostTransitionStatus:Xs,useFormState:Pd,useActionState:Pd,useOptimistic:function(e,t){var n=tt();return wd(n,Ne,e,t)},useMemoCache:zs,useCacheRefresh:Id},Fm={readContext:bt,use:bl,useCallback:Xd,useContext:bt,useEffect:Ud,useImperativeHandle:Vd,useInsertionEffect:Hd,useLayoutEffect:qd,useMemo:Qd,useReducer:Ls,useRef:Bd,useState:function(){return Ls(Pn)},useDebugValue:qs,useDeferredValue:function(e,t){var n=tt();return Ne===null?Ys(n,e,t):Zd(n,Ne.memoizedState,e,t)},useTransition:function(){var e=Ls(Pn)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:ar(e),t]},useSyncExternalStore:_d,useId:Jd,useHostTransitionStatus:Xs,useFormState:zd,useActionState:zd,useOptimistic:function(e,t){var n=tt();return Ne!==null?wd(n,Ne,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:zs,useCacheRefresh:Id},ci=null,lr=0;function Al(e){var t=lr;return lr+=1,ci===null&&(ci=[]),hd(ci,e,t)}function or(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Cl(e,t){throw t.$$typeof===b?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ah(e){var t=e._init;return t(e._payload)}function ih(e){function t(O,A){if(e){var R=O.deletions;R===null?(O.deletions=[A],O.flags|=16):R.push(A)}}function n(O,A){if(!e)return null;for(;A!==null;)t(O,A),A=A.sibling;return null}function l(O){for(var A=new Map;O!==null;)O.key!==null?A.set(O.key,O):A.set(O.index,O),O=O.sibling;return A}function s(O,A){return O=Mn(O,A),O.index=0,O.sibling=null,O}function u(O,A,R){return O.index=R,e?(R=O.alternate,R!==null?(R=R.index,R<A?(O.flags|=67108866,A):R):(O.flags|=67108866,A)):(O.flags|=1048576,A)}function h(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function v(O,A,R,V){return A===null||A.tag!==6?(A=ds(R,O.mode,V),A.return=O,A):(A=s(A,R),A.return=O,A)}function _(O,A,R,V){var te=R.type;return te===w?H(O,A,R.props.children,V,R.key):A!==null&&(A.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===he&&ah(te)===A.type)?(A=s(A,R.props),or(A,R),A.return=O,A):(A=sl(R.type,R.key,R.props,null,O.mode,V),or(A,R),A.return=O,A)}function D(O,A,R,V){return A===null||A.tag!==4||A.stateNode.containerInfo!==R.containerInfo||A.stateNode.implementation!==R.implementation?(A=hs(R,O.mode,V),A.return=O,A):(A=s(A,R.children||[]),A.return=O,A)}function H(O,A,R,V,te){return A===null||A.tag!==7?(A=xa(R,O.mode,V,te),A.return=O,A):(A=s(A,R),A.return=O,A)}function X(O,A,R){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=ds(""+A,O.mode,R),A.return=O,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case S:return R=sl(A.type,A.key,A.props,null,O.mode,R),or(R,A),R.return=O,R;case T:return A=hs(A,O.mode,R),A.return=O,A;case he:var V=A._init;return A=V(A._payload),X(O,A,R)}if(ne(A)||xe(A))return A=xa(A,O.mode,R,null),A.return=O,A;if(typeof A.then=="function")return X(O,Al(A),R);if(A.$$typeof===P)return X(O,dl(O,A),R);Cl(O,A)}return null}function k(O,A,R,V){var te=A!==null?A.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return te!==null?null:v(O,A,""+R,V);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case S:return R.key===te?_(O,A,R,V):null;case T:return R.key===te?D(O,A,R,V):null;case he:return te=R._init,R=te(R._payload),k(O,A,R,V)}if(ne(R)||xe(R))return te!==null?null:H(O,A,R,V,null);if(typeof R.then=="function")return k(O,A,Al(R),V);if(R.$$typeof===P)return k(O,A,dl(O,R),V);Cl(O,R)}return null}function N(O,A,R,V,te){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return O=O.get(R)||null,v(A,O,""+V,te);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return O=O.get(V.key===null?R:V.key)||null,_(A,O,V,te);case T:return O=O.get(V.key===null?R:V.key)||null,D(A,O,V,te);case he:var _e=V._init;return V=_e(V._payload),N(O,A,R,V,te)}if(ne(V)||xe(V))return O=O.get(R)||null,H(A,O,V,te,null);if(typeof V.then=="function")return N(O,A,R,Al(V),te);if(V.$$typeof===P)return N(O,A,R,dl(A,V),te);Cl(A,V)}return null}function pe(O,A,R,V){for(var te=null,_e=null,ae=A,fe=A=0,ut=null;ae!==null&&fe<R.length;fe++){ae.index>fe?(ut=ae,ae=null):ut=ae.sibling;var Oe=k(O,ae,R[fe],V);if(Oe===null){ae===null&&(ae=ut);break}e&&ae&&Oe.alternate===null&&t(O,ae),A=u(Oe,A,fe),_e===null?te=Oe:_e.sibling=Oe,_e=Oe,ae=ut}if(fe===R.length)return n(O,ae),Me&&Sa(O,fe),te;if(ae===null){for(;fe<R.length;fe++)ae=X(O,R[fe],V),ae!==null&&(A=u(ae,A,fe),_e===null?te=ae:_e.sibling=ae,_e=ae);return Me&&Sa(O,fe),te}for(ae=l(ae);fe<R.length;fe++)ut=N(ae,O,fe,R[fe],V),ut!==null&&(e&&ut.alternate!==null&&ae.delete(ut.key===null?fe:ut.key),A=u(ut,A,fe),_e===null?te=ut:_e.sibling=ut,_e=ut);return e&&ae.forEach(function(ha){return t(O,ha)}),Me&&Sa(O,fe),te}function ue(O,A,R,V){if(R==null)throw Error(o(151));for(var te=null,_e=null,ae=A,fe=A=0,ut=null,Oe=R.next();ae!==null&&!Oe.done;fe++,Oe=R.next()){ae.index>fe?(ut=ae,ae=null):ut=ae.sibling;var ha=k(O,ae,Oe.value,V);if(ha===null){ae===null&&(ae=ut);break}e&&ae&&ha.alternate===null&&t(O,ae),A=u(ha,A,fe),_e===null?te=ha:_e.sibling=ha,_e=ha,ae=ut}if(Oe.done)return n(O,ae),Me&&Sa(O,fe),te;if(ae===null){for(;!Oe.done;fe++,Oe=R.next())Oe=X(O,Oe.value,V),Oe!==null&&(A=u(Oe,A,fe),_e===null?te=Oe:_e.sibling=Oe,_e=Oe);return Me&&Sa(O,fe),te}for(ae=l(ae);!Oe.done;fe++,Oe=R.next())Oe=N(ae,O,fe,Oe.value,V),Oe!==null&&(e&&Oe.alternate!==null&&ae.delete(Oe.key===null?fe:Oe.key),A=u(Oe,A,fe),_e===null?te=Oe:_e.sibling=Oe,_e=Oe);return e&&ae.forEach(function(e0){return t(O,e0)}),Me&&Sa(O,fe),te}function Be(O,A,R,V){if(typeof R=="object"&&R!==null&&R.type===w&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case S:e:{for(var te=R.key;A!==null;){if(A.key===te){if(te=R.type,te===w){if(A.tag===7){n(O,A.sibling),V=s(A,R.props.children),V.return=O,O=V;break e}}else if(A.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===he&&ah(te)===A.type){n(O,A.sibling),V=s(A,R.props),or(V,R),V.return=O,O=V;break e}n(O,A);break}else t(O,A);A=A.sibling}R.type===w?(V=xa(R.props.children,O.mode,V,R.key),V.return=O,O=V):(V=sl(R.type,R.key,R.props,null,O.mode,V),or(V,R),V.return=O,O=V)}return h(O);case T:e:{for(te=R.key;A!==null;){if(A.key===te)if(A.tag===4&&A.stateNode.containerInfo===R.containerInfo&&A.stateNode.implementation===R.implementation){n(O,A.sibling),V=s(A,R.children||[]),V.return=O,O=V;break e}else{n(O,A);break}else t(O,A);A=A.sibling}V=hs(R,O.mode,V),V.return=O,O=V}return h(O);case he:return te=R._init,R=te(R._payload),Be(O,A,R,V)}if(ne(R))return pe(O,A,R,V);if(xe(R)){if(te=xe(R),typeof te!="function")throw Error(o(150));return R=te.call(R),ue(O,A,R,V)}if(typeof R.then=="function")return Be(O,A,Al(R),V);if(R.$$typeof===P)return Be(O,A,dl(O,R),V);Cl(O,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,A!==null&&A.tag===6?(n(O,A.sibling),V=s(A,R),V.return=O,O=V):(n(O,A),V=ds(R,O.mode,V),V.return=O,O=V),h(O)):n(O,A)}return function(O,A,R,V){try{lr=0;var te=Be(O,A,R,V);return ci=null,te}catch(ae){if(ae===Ii||ae===pl)throw ae;var _e=Ht(29,ae,null,O.mode);return _e.lanes=V,_e.return=O,_e}finally{}}}var ui=ih(!0),rh=ih(!1),an=Z(null),vn=null;function Wn(e){var t=e.alternate;I(rt,rt.current&1),I(an,e),vn===null&&(t===null||ri.current!==null||t.memoizedState!==null)&&(vn=e)}function lh(e){if(e.tag===22){if(I(rt,rt.current),I(an,e),vn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(vn=e)}}else Fn()}function Fn(){I(rt,rt.current),I(an,an.current)}function Nn(e){F(an),vn===e&&(vn=null),F(rt)}var rt=Z(0);function wl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Nc(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Zs(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:x({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ks={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=Xt(),s=Gn(l);s.payload=t,n!=null&&(s.callback=n),t=Jn(e,s,l),t!==null&&(Qt(t,e,l),Fi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=Xt(),s=Gn(l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Jn(e,s,l),t!==null&&(Qt(t,e,l),Fi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xt(),l=Gn(n);l.tag=2,t!=null&&(l.callback=t),t=Jn(e,l,n),t!==null&&(Qt(t,e,n),Fi(t,e,n))}};function oh(e,t,n,l,s,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,h):t.prototype&&t.prototype.isPureReactComponent?!Vi(n,l)||!Vi(s,u):!0}function sh(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Ks.enqueueReplaceState(t,t.state,null)}function Ma(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=x({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}var Ol=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ch(e){Ol(e)}function uh(e){console.error(e)}function fh(e){Ol(e)}function Ml(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function dh(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function $s(e,t,n){return n=Gn(n),n.tag=3,n.payload={element:null},n.callback=function(){Ml(e,t)},n}function hh(e){return e=Gn(e),e.tag=3,e}function ph(e,t,n,l){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var u=l.value;e.payload=function(){return s(u)},e.callback=function(){dh(t,n,l)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){dh(t,n,l),typeof s!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function ev(e,t,n,l,s){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&$i(t,n,s,!0),n=an.current,n!==null){switch(n.tag){case 13:return vn===null?vc():n.alternate===null&&Je===0&&(Je=3),n.flags&=-257,n.flags|=65536,n.lanes=s,l===Ts?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),xc(e,l,s)),!1;case 22:return n.flags|=65536,l===Ts?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),xc(e,l,s)),!1}throw Error(o(435,n.tag))}return xc(e,l,s),vc(),!1}if(Me)return t=an.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,l!==gs&&(e=Error(o(422),{cause:l}),Ki(Ft(e,n)))):(l!==gs&&(t=Error(o(423),{cause:l}),Ki(Ft(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,l=Ft(l,n),s=$s(e.stateNode,l,s),Cs(e,s),Je!==4&&(Je=2)),!1;var u=Error(o(520),{cause:l});if(u=Ft(u,n),pr===null?pr=[u]:pr.push(u),Je!==4&&(Je=2),t===null)return!0;l=Ft(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=$s(n.stateNode,l,e),Cs(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ra===null||!ra.has(u))))return n.flags|=65536,s&=-s,n.lanes|=s,s=hh(s),ph(s,e,n,l),Cs(n,s),!1}n=n.return}while(n!==null);return!1}var yh=Error(o(461)),st=!1;function dt(e,t,n,l){t.child=e===null?rh(t,null,n,l):ui(t,e.child,n,l)}function gh(e,t,n,l,s){n=n.render;var u=t.ref;if("ref"in l){var h={};for(var v in l)v!=="ref"&&(h[v]=l[v])}else h=l;return Ca(t),l=Ds(e,t,n,h,u,s),v=js(),e!==null&&!st?(ks(e,t,s),zn(e,t,s)):(Me&&v&&ps(t),t.flags|=1,dt(e,t,l,s),t.child)}function mh(e,t,n,l,s){if(e===null){var u=n.type;return typeof u=="function"&&!fs(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,vh(e,t,u,l,s)):(e=sl(n.type,null,l,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!nc(e,s)){var h=u.memoizedProps;if(n=n.compare,n=n!==null?n:Vi,n(h,l)&&e.ref===t.ref)return zn(e,t,s)}return t.flags|=1,e=Mn(u,l),e.ref=t.ref,e.return=t,t.child=e}function vh(e,t,n,l,s){if(e!==null){var u=e.memoizedProps;if(Vi(u,l)&&e.ref===t.ref)if(st=!1,t.pendingProps=l=u,nc(e,s))(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,zn(e,t,s)}return Gs(e,t,n,l,s)}function bh(e,t,n){var l=t.pendingProps,s=l.children,u=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=u!==null?u.baseLanes|n:n,e!==null){for(s=t.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;t.childLanes=u&~l}else t.childLanes=0,t.child=null;return xh(e,t,l,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hl(t,u!==null?u.cachePool:null),u!==null?vd(t,u):Os(),lh(t);else return t.lanes=t.childLanes=536870912,xh(e,t,u!==null?u.baseLanes|n:n,n)}else u!==null?(hl(t,u.cachePool),vd(t,u),Fn(),t.memoizedState=null):(e!==null&&hl(t,null),Os(),Fn());return dt(e,t,s,n),t.child}function xh(e,t,n,l){var s=Ss();return s=s===null?null:{parent:it._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&hl(t,null),Os(),lh(t),e!==null&&$i(e,t,l,!0),null}function Rl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Gs(e,t,n,l,s){return Ca(t),n=Ds(e,t,n,l,void 0,s),l=js(),e!==null&&!st?(ks(e,t,s),zn(e,t,s)):(Me&&l&&ps(t),t.flags|=1,dt(e,t,n,s),t.child)}function _h(e,t,n,l,s,u){return Ca(t),t.updateQueue=null,n=xd(t,l,n,s),bd(e),l=js(),e!==null&&!st?(ks(e,t,u),zn(e,t,u)):(Me&&l&&ps(t),t.flags|=1,dt(e,t,n,u),t.child)}function Sh(e,t,n,l,s){if(Ca(t),t.stateNode===null){var u=ei,h=n.contextType;typeof h=="object"&&h!==null&&(u=bt(h)),u=new n(l,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ks,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=l,u.state=t.memoizedState,u.refs={},Es(t),h=n.contextType,u.context=typeof h=="object"&&h!==null?bt(h):ei,u.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Zs(t,n,h,l),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&Ks.enqueueReplaceState(u,u.state,null),tr(t,l,u,s),er(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,_=Ma(n,v);u.props=_;var D=u.context,H=n.contextType;h=ei,typeof H=="object"&&H!==null&&(h=bt(H));var X=n.getDerivedStateFromProps;H=typeof X=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,H||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||D!==h)&&sh(t,u,l,h),$n=!1;var k=t.memoizedState;u.state=k,tr(t,l,u,s),er(),D=t.memoizedState,v||k!==D||$n?(typeof X=="function"&&(Zs(t,n,X,l),D=t.memoizedState),(_=$n||oh(t,n,_,l,k,D,h))?(H||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=D),u.props=l,u.state=D,u.context=h,l=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,As(e,t),h=t.memoizedProps,H=Ma(n,h),u.props=H,X=t.pendingProps,k=u.context,D=n.contextType,_=ei,typeof D=="object"&&D!==null&&(_=bt(D)),v=n.getDerivedStateFromProps,(D=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==X||k!==_)&&sh(t,u,l,_),$n=!1,k=t.memoizedState,u.state=k,tr(t,l,u,s),er();var N=t.memoizedState;h!==X||k!==N||$n||e!==null&&e.dependencies!==null&&fl(e.dependencies)?(typeof v=="function"&&(Zs(t,n,v,l),N=t.memoizedState),(H=$n||oh(t,n,H,l,k,N,_)||e!==null&&e.dependencies!==null&&fl(e.dependencies))?(D||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,N,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,N,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=N),u.props=l,u.state=N,u.context=_,l=H):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),l=!1)}return u=l,Rl(e,t),l=(t.flags&128)!==0,u||l?(u=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&l?(t.child=ui(t,e.child,null,s),t.child=ui(t,null,n,s)):dt(e,t,n,s),t.memoizedState=u.state,e=t.child):e=zn(e,t,s),e}function Th(e,t,n,l){return Zi(),t.flags|=256,dt(e,t,n,l),t.child}var Js={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Is(e){return{baseLanes:e,cachePool:ud()}}function Ws(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=rn),e}function Eh(e,t,n){var l=t.pendingProps,s=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),h&&(s=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(s?Wn(t):Fn(),Me){var v=Ge,_;if(_=v){e:{for(_=v,v=mn;_.nodeType!==8;){if(!v){v=null;break e}if(_=hn(_.nextSibling),_===null){v=null;break e}}v=_}v!==null?(t.memoizedState={dehydrated:v,treeContext:_a!==null?{id:Rn,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},_=Ht(18,null,null,0),_.stateNode=v,_.return=t,t.child=_,wt=t,Ge=null,_=!0):_=!1}_||Ea(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Nc(v)?t.lanes=32:t.lanes=536870912,null;Nn(t)}return v=l.children,l=l.fallback,s?(Fn(),s=t.mode,v=Dl({mode:"hidden",children:v},s),l=xa(l,s,n,null),v.return=t,l.return=t,v.sibling=l,t.child=v,s=t.child,s.memoizedState=Is(n),s.childLanes=Ws(e,h,n),t.memoizedState=Js,l):(Wn(t),Fs(t,v))}if(_=e.memoizedState,_!==null&&(v=_.dehydrated,v!==null)){if(u)t.flags&256?(Wn(t),t.flags&=-257,t=ec(e,t,n)):t.memoizedState!==null?(Fn(),t.child=e.child,t.flags|=128,t=null):(Fn(),s=l.fallback,v=t.mode,l=Dl({mode:"visible",children:l.children},v),s=xa(s,v,n,null),s.flags|=2,l.return=t,s.return=t,l.sibling=s,t.child=l,ui(t,e.child,null,n),l=t.child,l.memoizedState=Is(n),l.childLanes=Ws(e,h,n),t.memoizedState=Js,t=s);else if(Wn(t),Nc(v)){if(h=v.nextSibling&&v.nextSibling.dataset,h)var D=h.dgst;h=D,l=Error(o(419)),l.stack="",l.digest=h,Ki({value:l,source:null,stack:null}),t=ec(e,t,n)}else if(st||$i(e,t,n,!1),h=(n&e.childLanes)!==0,st||h){if(h=Ye,h!==null&&(l=n&-n,l=(l&42)!==0?1:zo(l),l=(l&(h.suspendedLanes|n))!==0?0:l,l!==0&&l!==_.retryLane))throw _.retryLane=l,Fa(e,l),Qt(h,e,l),yh;v.data==="$?"||vc(),t=ec(e,t,n)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Ge=hn(v.nextSibling),wt=t,Me=!0,Ta=null,mn=!1,e!==null&&(tn[nn++]=Rn,tn[nn++]=Dn,tn[nn++]=_a,Rn=e.id,Dn=e.overflow,_a=t),t=Fs(t,l.children),t.flags|=4096);return t}return s?(Fn(),s=l.fallback,v=t.mode,_=e.child,D=_.sibling,l=Mn(_,{mode:"hidden",children:l.children}),l.subtreeFlags=_.subtreeFlags&65011712,D!==null?s=Mn(D,s):(s=xa(s,v,n,null),s.flags|=2),s.return=t,l.return=t,l.sibling=s,t.child=l,l=s,s=t.child,v=e.child.memoizedState,v===null?v=Is(n):(_=v.cachePool,_!==null?(D=it._currentValue,_=_.parent!==D?{parent:D,pool:D}:_):_=ud(),v={baseLanes:v.baseLanes|n,cachePool:_}),s.memoizedState=v,s.childLanes=Ws(e,h,n),t.memoizedState=Js,l):(Wn(t),n=e.child,e=n.sibling,n=Mn(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function Fs(e,t){return t=Dl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Dl(e,t){return e=Ht(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ec(e,t,n){return ui(t,e.child,null,n),e=Fs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ah(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),vs(e.return,t,n)}function tc(e,t,n,l,s){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:s}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=l,u.tail=n,u.tailMode=s)}function Ch(e,t,n){var l=t.pendingProps,s=l.revealOrder,u=l.tail;if(dt(e,t,l.children,n),l=rt.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ah(e,n,t);else if(e.tag===19)Ah(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(I(rt,l),s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&wl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),tc(t,!1,s,n,u);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&wl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}tc(t,!0,n,null,u);break;case"together":tc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ia|=t.lanes,(n&t.childLanes)===0)if(e!==null){if($i(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=Mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function nc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&fl(e)))}function tv(e,t,n){switch(t.tag){case 3:qe(t,t.stateNode.containerInfo),Kn(t,it,e.memoizedState.cache),Zi();break;case 27:case 5:L(t);break;case 4:qe(t,t.stateNode.containerInfo);break;case 10:Kn(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Wn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Eh(e,t,n):(Wn(t),e=zn(e,t,n),e!==null?e.sibling:null);Wn(t);break;case 19:var s=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||($i(e,t,n,!1),l=(n&t.childLanes)!==0),s){if(l)return Ch(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),I(rt,rt.current),l)break;return null;case 22:case 23:return t.lanes=0,bh(e,t,n);case 24:Kn(t,it,e.memoizedState.cache)}return zn(e,t,n)}function wh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!nc(e,n)&&(t.flags&128)===0)return st=!1,tv(e,t,n);st=(e.flags&131072)!==0}else st=!1,Me&&(t.flags&1048576)!==0&&ad(t,ul,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,s=l._init;if(l=s(l._payload),t.type=l,typeof l=="function")fs(l)?(e=Ma(l,e),t.tag=1,t=Sh(null,t,l,e,n)):(t.tag=0,t=Gs(null,t,l,e,n));else{if(l!=null){if(s=l.$$typeof,s===Y){t.tag=11,t=gh(null,t,l,e,n);break e}else if(s===se){t.tag=14,t=mh(null,t,l,e,n);break e}}throw t=at(l)||l,Error(o(306,t,""))}}return t;case 0:return Gs(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,s=Ma(l,t.pendingProps),Sh(e,t,l,s,n);case 3:e:{if(qe(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var u=t.memoizedState;s=u.element,As(e,t),tr(t,l,null,n);var h=t.memoizedState;if(l=h.cache,Kn(t,it,l),l!==u.cache&&bs(t,[it],n,!0),er(),l=h.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Th(e,t,l,n);break e}else if(l!==s){s=Ft(Error(o(424)),t),Ki(s),t=Th(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ge=hn(e.firstChild),wt=t,Me=!0,Ta=null,mn=!0,n=rh(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Zi(),l===s){t=zn(e,t,n);break e}dt(e,t,l,n)}t=t.child}return t;case 26:return Rl(e,t),e===null?(n=Dp(t.type,null,t.pendingProps,null))?t.memoizedState=n:Me||(n=t.type,e=t.pendingProps,l=Ql(re.current).createElement(n),l[vt]=t,l[kt]=e,pt(l,n,e),ot(l),t.stateNode=l):t.memoizedState=Dp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return L(t),e===null&&Me&&(l=t.stateNode=Op(t.type,t.pendingProps,re.current),wt=t,mn=!0,s=Ge,sa(t.type)?(zc=s,Ge=hn(l.firstChild)):Ge=s),dt(e,t,t.pendingProps.children,n),Rl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((s=l=Ge)&&(l=Mv(l,t.type,t.pendingProps,mn),l!==null?(t.stateNode=l,wt=t,Ge=hn(l.firstChild),mn=!1,s=!0):s=!1),s||Ea(t)),L(t),s=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,l=u.children,jc(s,u)?l=null:h!==null&&jc(s,h)&&(t.flags|=32),t.memoizedState!==null&&(s=Ds(e,t,Km,null,null,n),Tr._currentValue=s),Rl(e,t),dt(e,t,l,n),t.child;case 6:return e===null&&Me&&((e=n=Ge)&&(n=Rv(n,t.pendingProps,mn),n!==null?(t.stateNode=n,wt=t,Ge=null,e=!0):e=!1),e||Ea(t)),null;case 13:return Eh(e,t,n);case 4:return qe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ui(t,null,l,n):dt(e,t,l,n),t.child;case 11:return gh(e,t,t.type,t.pendingProps,n);case 7:return dt(e,t,t.pendingProps,n),t.child;case 8:return dt(e,t,t.pendingProps.children,n),t.child;case 12:return dt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Kn(t,t.type,l.value),dt(e,t,l.children,n),t.child;case 9:return s=t.type._context,l=t.pendingProps.children,Ca(t),s=bt(s),l=l(s),t.flags|=1,dt(e,t,l,n),t.child;case 14:return mh(e,t,t.type,t.pendingProps,n);case 15:return vh(e,t,t.type,t.pendingProps,n);case 19:return Ch(e,t,n);case 31:return l=t.pendingProps,n=t.mode,l={mode:l.mode,children:l.children},e===null?(n=Dl(l,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Mn(e.child,l),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return bh(e,t,n);case 24:return Ca(t),l=bt(it),e===null?(s=Ss(),s===null&&(s=Ye,u=xs(),s.pooledCache=u,u.refCount++,u!==null&&(s.pooledCacheLanes|=n),s=u),t.memoizedState={parent:l,cache:s},Es(t),Kn(t,it,s)):((e.lanes&n)!==0&&(As(e,t),tr(t,null,null,n),er()),s=e.memoizedState,u=t.memoizedState,s.parent!==l?(s={parent:l,cache:l},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Kn(t,it,l)):(l=u.cache,Kn(t,it,l),l!==s.cache&&bs(t,[it],n,!0))),dt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Bn(e){e.flags|=4}function Oh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zp(t)){if(t=an.current,t!==null&&((Ce&4194048)===Ce?vn!==null:(Ce&62914560)!==Ce&&(Ce&536870912)===0||t!==vn))throw Wi=Ts,fd;e.flags|=8192}}function jl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?lf():536870912,e.lanes|=t,pi|=t)}function sr(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,l|=s.subtreeFlags&65011712,l|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function nv(e,t,n){var l=t.pendingProps;switch(ys(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),kn(it),M(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qi(t)?Bn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ld())),Ke(t),null;case 26:return n=t.memoizedState,e===null?(Bn(t),n!==null?(Ke(t),Oh(t,n)):(Ke(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Bn(t),Ke(t),Oh(t,n)):(Ke(t),t.flags&=-16777217):(e.memoizedProps!==l&&Bn(t),Ke(t),t.flags&=-16777217),null;case 27:K(t),n=re.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Bn(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Ke(t),null}e=le.current,Qi(t)?id(t):(e=Op(s,l,n),t.stateNode=e,Bn(t))}return Ke(t),null;case 5:if(K(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Bn(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Ke(t),null}if(e=le.current,Qi(t))id(t);else{switch(s=Ql(re.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?s.createElement("select",{is:l.is}):s.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?s.createElement(n,{is:l.is}):s.createElement(n)}}e[vt]=t,e[kt]=l;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(pt(e,n,l),n){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Bn(t)}}return Ke(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Bn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=re.current,Qi(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,s=wt,s!==null)switch(s.tag){case 27:case 5:l=s.memoizedProps}e[vt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||_p(e.nodeValue,n)),e||Ea(t)}else e=Ql(e).createTextNode(l),e[vt]=t,t.stateNode=e}return Ke(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Qi(t),l!==null&&l.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[vt]=t}else Zi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),s=!1}else s=ld(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Nn(t),t):(Nn(t),null)}if(Nn(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=l!==null,e=e!==null&&e.memoizedState!==null,n){l=t.child,s=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(s=l.alternate.memoizedState.cachePool.pool);var u=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==s&&(l.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),jl(t,t.updateQueue),Ke(t),null;case 4:return M(),e===null&&wc(t.stateNode.containerInfo),Ke(t),null;case 10:return kn(t.type),Ke(t),null;case 19:if(F(rt),s=t.memoizedState,s===null)return Ke(t),null;if(l=(t.flags&128)!==0,u=s.rendering,u===null)if(l)sr(s,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=wl(e),u!==null){for(t.flags|=128,sr(s,!1),e=u.updateQueue,t.updateQueue=e,jl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)nd(n,e),n=n.sibling;return I(rt,rt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ze()>Nl&&(t.flags|=128,l=!0,sr(s,!1),t.lanes=4194304)}else{if(!l)if(e=wl(u),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,jl(t,e),sr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Me)return Ke(t),null}else 2*Ze()-s.renderingStartTime>Nl&&n!==536870912&&(t.flags|=128,l=!0,sr(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,e=rt.current,I(rt,l?e&1|2:e&1),t):(Ke(t),null);case 22:case 23:return Nn(t),Ms(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),n=t.updateQueue,n!==null&&jl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&F(wa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),kn(it),Ke(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function av(e,t){switch(ys(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kn(it),M(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return K(t),null;case 13:if(Nn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return F(rt),null;case 4:return M(),null;case 10:return kn(t.type),null;case 22:case 23:return Nn(t),Ms(),e!==null&&F(wa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return kn(it),null;case 25:return null;default:return null}}function Mh(e,t){switch(ys(t),t.tag){case 3:kn(it),M();break;case 26:case 27:case 5:K(t);break;case 4:M();break;case 13:Nn(t);break;case 19:F(rt);break;case 10:kn(t.type);break;case 22:case 23:Nn(t),Ms(),e!==null&&F(wa);break;case 24:kn(it)}}function cr(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var s=l.next;n=s;do{if((n.tag&e)===e){l=void 0;var u=n.create,h=n.inst;l=u(),h.destroy=l}n=n.next}while(n!==s)}}catch(v){Ue(t,t.return,v)}}function ea(e,t,n){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var u=s.next;l=u;do{if((l.tag&e)===e){var h=l.inst,v=h.destroy;if(v!==void 0){h.destroy=void 0,s=t;var _=n,D=v;try{D()}catch(H){Ue(s,_,H)}}}l=l.next}while(l!==u)}}catch(H){Ue(t,t.return,H)}}function Rh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{md(t,n)}catch(l){Ue(e,e.return,l)}}}function Dh(e,t,n){n.props=Ma(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Ue(e,t,l)}}function ur(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(s){Ue(e,t,s)}}function bn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(s){Ue(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Ue(e,t,s)}else n.current=null}function jh(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(s){Ue(e,e.return,s)}}function ac(e,t,n){try{var l=e.stateNode;Ev(l,e.type,n,t),l[kt]=t}catch(s){Ue(e,e.return,s)}}function kh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sa(e.type)||e.tag===4}function ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xl));else if(l!==4&&(l===27&&sa(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(rc(e,t,n),e=e.sibling;e!==null;)rc(e,t,n),e=e.sibling}function kl(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&sa(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(kl(e,t,n),e=e.sibling;e!==null;)kl(e,t,n),e=e.sibling}function Ph(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);pt(t,l,n),t[vt]=e,t[kt]=n}catch(u){Ue(e,e.return,u)}}var Ln=!1,We=!1,lc=!1,Nh=typeof WeakSet=="function"?WeakSet:Set,ct=null;function iv(e,t){if(e=e.containerInfo,Rc=Il,e=Zf(e),is(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var s=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var h=0,v=-1,_=-1,D=0,H=0,X=e,k=null;t:for(;;){for(var N;X!==n||s!==0&&X.nodeType!==3||(v=h+s),X!==u||l!==0&&X.nodeType!==3||(_=h+l),X.nodeType===3&&(h+=X.nodeValue.length),(N=X.firstChild)!==null;)k=X,X=N;for(;;){if(X===e)break t;if(k===n&&++D===s&&(v=h),k===u&&++H===l&&(_=h),(N=X.nextSibling)!==null)break;X=k,k=X.parentNode}X=N}n=v===-1||_===-1?null:{start:v,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dc={focusedElem:e,selectionRange:n},Il=!1,ct=t;ct!==null;)if(t=ct,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ct=e;else for(;ct!==null;){switch(t=ct,u=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,s=u.memoizedProps,u=u.memoizedState,l=n.stateNode;try{var pe=Ma(n.type,s,n.elementType===n.type);e=l.getSnapshotBeforeUpdate(pe,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(ue){Ue(n,n.return,ue)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Pc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,ct=e;break}ct=t.return}}function zh(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:ta(e,n),l&4&&cr(5,n);break;case 1:if(ta(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){Ue(n,n.return,h)}else{var s=Ma(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Ue(n,n.return,h)}}l&64&&Rh(n),l&512&&ur(n,n.return);break;case 3:if(ta(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{md(e,t)}catch(h){Ue(n,n.return,h)}}break;case 27:t===null&&l&4&&Ph(n);case 26:case 5:ta(e,n),t===null&&l&4&&jh(n),l&512&&ur(n,n.return);break;case 12:ta(e,n);break;case 13:ta(e,n),l&4&&Uh(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=hv.bind(null,n),Dv(e,n))));break;case 22:if(l=n.memoizedState!==null||Ln,!l){t=t!==null&&t.memoizedState!==null||We,s=Ln;var u=We;Ln=l,(We=t)&&!u?na(e,n,(n.subtreeFlags&8772)!==0):ta(e,n),Ln=s,We=u}break;case 30:break;default:ta(e,n)}}function Bh(e){var t=e.alternate;t!==null&&(e.alternate=null,Bh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Uo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qe=null,zt=!1;function Un(e,t,n){for(n=n.child;n!==null;)Lh(e,t,n),n=n.sibling}function Lh(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(un,n)}catch{}switch(n.tag){case 26:We||bn(n,t),Un(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:We||bn(n,t);var l=Qe,s=zt;sa(n.type)&&(Qe=n.stateNode,zt=!1),Un(e,t,n),br(n.stateNode),Qe=l,zt=s;break;case 5:We||bn(n,t);case 6:if(l=Qe,s=zt,Qe=null,Un(e,t,n),Qe=l,zt=s,Qe!==null)if(zt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(n.stateNode)}catch(u){Ue(n,t,u)}else try{Qe.removeChild(n.stateNode)}catch(u){Ue(n,t,u)}break;case 18:Qe!==null&&(zt?(e=Qe,Cp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),wr(e)):Cp(Qe,n.stateNode));break;case 4:l=Qe,s=zt,Qe=n.stateNode.containerInfo,zt=!0,Un(e,t,n),Qe=l,zt=s;break;case 0:case 11:case 14:case 15:We||ea(2,n,t),We||ea(4,n,t),Un(e,t,n);break;case 1:We||(bn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Dh(n,t,l)),Un(e,t,n);break;case 21:Un(e,t,n);break;case 22:We=(l=We)||n.memoizedState!==null,Un(e,t,n),We=l;break;default:Un(e,t,n)}}function Uh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wr(e)}catch(n){Ue(t,t.return,n)}}function rv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Nh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Nh),t;default:throw Error(o(435,e.tag))}}function oc(e,t){var n=rv(e);t.forEach(function(l){var s=pv.bind(null,e,l);n.has(l)||(n.add(l),l.then(s,s))})}function qt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var s=n[l],u=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 27:if(sa(v.type)){Qe=v.stateNode,zt=!1;break e}break;case 5:Qe=v.stateNode,zt=!1;break e;case 3:case 4:Qe=v.stateNode.containerInfo,zt=!0;break e}v=v.return}if(Qe===null)throw Error(o(160));Lh(u,h,s),Qe=null,zt=!1,u=s.alternate,u!==null&&(u.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Hh(t,e),t=t.sibling}var dn=null;function Hh(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(t,e),Yt(e),l&4&&(ea(3,e,e.return),cr(3,e),ea(5,e,e.return));break;case 1:qt(t,e),Yt(e),l&512&&(We||n===null||bn(n,n.return)),l&64&&Ln&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var s=dn;if(qt(t,e),Yt(e),l&512&&(We||n===null||bn(n,n.return)),l&4){var u=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(l){case"title":u=s.getElementsByTagName("title")[0],(!u||u[Pi]||u[vt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=s.createElement(l),s.head.insertBefore(u,s.querySelector("head > title"))),pt(u,l,n),u[vt]=e,ot(u),l=u;break e;case"link":var h=Pp("link","href",s).get(l+(n.href||""));if(h){for(var v=0;v<h.length;v++)if(u=h[v],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(v,1);break t}}u=s.createElement(l),pt(u,l,n),s.head.appendChild(u);break;case"meta":if(h=Pp("meta","content",s).get(l+(n.content||""))){for(v=0;v<h.length;v++)if(u=h[v],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(v,1);break t}}u=s.createElement(l),pt(u,l,n),s.head.appendChild(u);break;default:throw Error(o(468,l))}u[vt]=e,ot(u),l=u}e.stateNode=l}else Np(s,e.type,e.stateNode);else e.stateNode=kp(s,l,e.memoizedProps);else u!==l?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,l===null?Np(s,e.type,e.stateNode):kp(s,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ac(e,e.memoizedProps,n.memoizedProps)}break;case 27:qt(t,e),Yt(e),l&512&&(We||n===null||bn(n,n.return)),n!==null&&l&4&&ac(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qt(t,e),Yt(e),l&512&&(We||n===null||bn(n,n.return)),e.flags&32){s=e.stateNode;try{Za(s,"")}catch(N){Ue(e,e.return,N)}}l&4&&e.stateNode!=null&&(s=e.memoizedProps,ac(e,s,n!==null?n.memoizedProps:s)),l&1024&&(lc=!0);break;case 6:if(qt(t,e),Yt(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(N){Ue(e,e.return,N)}}break;case 3:if($l=null,s=dn,dn=Zl(t.containerInfo),qt(t,e),dn=s,Yt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{wr(t.containerInfo)}catch(N){Ue(e,e.return,N)}lc&&(lc=!1,qh(e));break;case 4:l=dn,dn=Zl(e.stateNode.containerInfo),qt(t,e),Yt(e),dn=l;break;case 12:qt(t,e),Yt(e);break;case 13:qt(t,e),Yt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(hc=Ze()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,oc(e,l)));break;case 22:s=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,D=Ln,H=We;if(Ln=D||s,We=H||_,qt(t,e),We=H,Ln=D,Yt(e),l&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||_||Ln||We||Ra(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(u=_.stateNode,s)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=_.stateNode;var X=_.memoizedProps.style,k=X!=null&&X.hasOwnProperty("display")?X.display:null;v.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(N){Ue(_,_.return,N)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=s?"":_.memoizedProps}catch(N){Ue(_,_.return,N)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,oc(e,n))));break;case 19:qt(t,e),Yt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,oc(e,l)));break;case 30:break;case 21:break;default:qt(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(kh(l)){n=l;break}l=l.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var s=n.stateNode,u=ic(e);kl(e,u,s);break;case 5:var h=n.stateNode;n.flags&32&&(Za(h,""),n.flags&=-33);var v=ic(e);kl(e,v,h);break;case 3:case 4:var _=n.stateNode.containerInfo,D=ic(e);rc(e,D,_);break;default:throw Error(o(161))}}catch(H){Ue(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;qh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ta(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)zh(e,t.alternate,t),t=t.sibling}function Ra(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ea(4,t,t.return),Ra(t);break;case 1:bn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Dh(t,t.return,n),Ra(t);break;case 27:br(t.stateNode);case 26:case 5:bn(t,t.return),Ra(t);break;case 22:t.memoizedState===null&&Ra(t);break;case 30:Ra(t);break;default:Ra(t)}e=e.sibling}}function na(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,s=e,u=t,h=u.flags;switch(u.tag){case 0:case 11:case 15:na(s,u,n),cr(4,u);break;case 1:if(na(s,u,n),l=u,s=l.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(D){Ue(l,l.return,D)}if(l=u,s=l.updateQueue,s!==null){var v=l.stateNode;try{var _=s.shared.hiddenCallbacks;if(_!==null)for(s.shared.hiddenCallbacks=null,s=0;s<_.length;s++)gd(_[s],v)}catch(D){Ue(l,l.return,D)}}n&&h&64&&Rh(u),ur(u,u.return);break;case 27:Ph(u);case 26:case 5:na(s,u,n),n&&l===null&&h&4&&jh(u),ur(u,u.return);break;case 12:na(s,u,n);break;case 13:na(s,u,n),n&&h&4&&Uh(s,u);break;case 22:u.memoizedState===null&&na(s,u,n),ur(u,u.return);break;case 30:break;default:na(s,u,n)}t=t.sibling}}function sc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Gi(n))}function cc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Gi(e))}function xn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yh(e,t,n,l),t=t.sibling}function Yh(e,t,n,l){var s=t.flags;switch(t.tag){case 0:case 11:case 15:xn(e,t,n,l),s&2048&&cr(9,t);break;case 1:xn(e,t,n,l);break;case 3:xn(e,t,n,l),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Gi(e)));break;case 12:if(s&2048){xn(e,t,n,l),e=t.stateNode;try{var u=t.memoizedProps,h=u.id,v=u.onPostCommit;typeof v=="function"&&v(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Ue(t,t.return,_)}}else xn(e,t,n,l);break;case 13:xn(e,t,n,l);break;case 23:break;case 22:u=t.stateNode,h=t.alternate,t.memoizedState!==null?u._visibility&2?xn(e,t,n,l):fr(e,t):u._visibility&2?xn(e,t,n,l):(u._visibility|=2,fi(e,t,n,l,(t.subtreeFlags&10256)!==0)),s&2048&&sc(h,t);break;case 24:xn(e,t,n,l),s&2048&&cc(t.alternate,t);break;default:xn(e,t,n,l)}}function fi(e,t,n,l,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var u=e,h=t,v=n,_=l,D=h.flags;switch(h.tag){case 0:case 11:case 15:fi(u,h,v,_,s),cr(8,h);break;case 23:break;case 22:var H=h.stateNode;h.memoizedState!==null?H._visibility&2?fi(u,h,v,_,s):fr(u,h):(H._visibility|=2,fi(u,h,v,_,s)),s&&D&2048&&sc(h.alternate,h);break;case 24:fi(u,h,v,_,s),s&&D&2048&&cc(h.alternate,h);break;default:fi(u,h,v,_,s)}t=t.sibling}}function fr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,s=l.flags;switch(l.tag){case 22:fr(n,l),s&2048&&sc(l.alternate,l);break;case 24:fr(n,l),s&2048&&cc(l.alternate,l);break;default:fr(n,l)}t=t.sibling}}var dr=8192;function di(e){if(e.subtreeFlags&dr)for(e=e.child;e!==null;)Vh(e),e=e.sibling}function Vh(e){switch(e.tag){case 26:di(e),e.flags&dr&&e.memoizedState!==null&&Xv(dn,e.memoizedState,e.memoizedProps);break;case 5:di(e);break;case 3:case 4:var t=dn;dn=Zl(e.stateNode.containerInfo),di(e),dn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=dr,dr=16777216,di(e),dr=t):di(e));break;default:di(e)}}function Xh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function hr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];ct=l,Zh(l,e)}Xh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qh(e),e=e.sibling}function Qh(e){switch(e.tag){case 0:case 11:case 15:hr(e),e.flags&2048&&ea(9,e,e.return);break;case 3:hr(e);break;case 12:hr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Pl(e)):hr(e);break;default:hr(e)}}function Pl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];ct=l,Zh(l,e)}Xh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ea(8,t,t.return),Pl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Pl(t));break;default:Pl(t)}e=e.sibling}}function Zh(e,t){for(;ct!==null;){var n=ct;switch(n.tag){case 0:case 11:case 15:ea(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Gi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,ct=l;else e:for(n=e;ct!==null;){l=ct;var s=l.sibling,u=l.return;if(Bh(l),l===n){ct=null;break e}if(s!==null){s.return=u,ct=s;break e}ct=u}}}var lv={getCacheForType:function(e){var t=bt(it),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},ov=typeof WeakMap=="function"?WeakMap:Map,ke=0,Ye=null,Te=null,Ce=0,Pe=0,Vt=null,aa=!1,hi=!1,uc=!1,Hn=0,Je=0,ia=0,Da=0,fc=0,rn=0,pi=0,pr=null,Bt=null,dc=!1,hc=0,Nl=1/0,zl=null,ra=null,ht=0,la=null,yi=null,gi=0,pc=0,yc=null,Kh=null,yr=0,gc=null;function Xt(){if((ke&2)!==0&&Ce!==0)return Ce&-Ce;if(z.T!==null){var e=ai;return e!==0?e:Tc()}return cf()}function $h(){rn===0&&(rn=(Ce&536870912)===0||Me?rf():536870912);var e=an.current;return e!==null&&(e.flags|=32),rn}function Qt(e,t,n){(e===Ye&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)&&(mi(e,0),oa(e,Ce,rn,!1)),ki(e,n),((ke&2)===0||e!==Ye)&&(e===Ye&&((ke&2)===0&&(Da|=n),Je===4&&oa(e,Ce,rn,!1)),_n(e))}function Gh(e,t,n){if((ke&6)!==0)throw Error(o(327));var l=!n&&(t&124)===0&&(t&e.expiredLanes)===0||ji(e,t),s=l?uv(e,t):bc(e,t,!0),u=l;do{if(s===0){hi&&!l&&oa(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!sv(n)){s=bc(e,t,!1),u=!1;continue}if(s===2){if(u=t,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var v=e;s=pr;var _=v.current.memoizedState.isDehydrated;if(_&&(mi(v,h).flags|=256),h=bc(v,h,!1),h!==2){if(uc&&!_){v.errorRecoveryDisabledLanes|=u,Da|=u,s=4;break e}u=Bt,Bt=s,u!==null&&(Bt===null?Bt=u:Bt.push.apply(Bt,u))}s=h}if(u=!1,s!==2)continue}}if(s===1){mi(e,0),oa(e,t,0,!0);break}e:{switch(l=e,u=s,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:oa(l,t,rn,!aa);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(s=hc+300-Ze(),10<s)){if(oa(l,t,rn,!aa),Kr(l,0,!0)!==0)break e;l.timeoutHandle=Ep(Jh.bind(null,l,n,Bt,zl,dc,t,rn,Da,pi,aa,u,2,-0,0),s);break e}Jh(l,n,Bt,zl,dc,t,rn,Da,pi,aa,u,0,-0,0)}}break}while(!0);_n(e)}function Jh(e,t,n,l,s,u,h,v,_,D,H,X,k,N){if(e.timeoutHandle=-1,X=t.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Sr={stylesheets:null,count:0,unsuspend:Vv},Vh(t),X=Qv(),X!==null)){e.cancelPendingCommit=X(ap.bind(null,e,t,u,n,l,s,h,v,_,H,1,k,N)),oa(e,u,h,!D);return}ap(e,t,u,n,l,s,h,v,_)}function sv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var s=n[l],u=s.getSnapshot;s=s.value;try{if(!Ut(u(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oa(e,t,n,l){t&=~fc,t&=~Da,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var s=t;0<s;){var u=31-Ct(s),h=1<<u;l[u]=-1,s&=~h}n!==0&&of(e,n,t)}function Bl(){return(ke&6)===0?(gr(0),!1):!0}function mc(){if(Te!==null){if(Pe===0)var e=Te.return;else e=Te,jn=Aa=null,Ps(e),ci=null,lr=0,e=Te;for(;e!==null;)Mh(e.alternate,e),e=e.return;Te=null}}function mi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Cv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),mc(),Ye=e,Te=n=Mn(e.current,null),Ce=t,Pe=0,Vt=null,aa=!1,hi=ji(e,t),uc=!1,pi=rn=fc=Da=ia=Je=0,Bt=pr=null,dc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var s=31-Ct(l),u=1<<s;t|=e[s],l&=~u}return Hn=t,rl(),n}function Ih(e,t){be=null,z.H=El,t===Ii||t===pl?(t=pd(),Pe=3):t===fd?(t=pd(),Pe=4):Pe=t===yh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Vt=t,Te===null&&(Je=1,Ml(e,Ft(t,e.current)))}function Wh(){var e=z.H;return z.H=El,e===null?El:e}function Fh(){var e=z.A;return z.A=lv,e}function vc(){Je=4,aa||(Ce&4194048)!==Ce&&an.current!==null||(hi=!0),(ia&134217727)===0&&(Da&134217727)===0||Ye===null||oa(Ye,Ce,rn,!1)}function bc(e,t,n){var l=ke;ke|=2;var s=Wh(),u=Fh();(Ye!==e||Ce!==t)&&(zl=null,mi(e,t)),t=!1;var h=Je;e:do try{if(Pe!==0&&Te!==null){var v=Te,_=Vt;switch(Pe){case 8:mc(),h=6;break e;case 3:case 2:case 9:case 6:an.current===null&&(t=!0);var D=Pe;if(Pe=0,Vt=null,vi(e,v,_,D),n&&hi){h=0;break e}break;default:D=Pe,Pe=0,Vt=null,vi(e,v,_,D)}}cv(),h=Je;break}catch(H){Ih(e,H)}while(!0);return t&&e.shellSuspendCounter++,jn=Aa=null,ke=l,z.H=s,z.A=u,Te===null&&(Ye=null,Ce=0,rl()),h}function cv(){for(;Te!==null;)ep(Te)}function uv(e,t){var n=ke;ke|=2;var l=Wh(),s=Fh();Ye!==e||Ce!==t?(zl=null,Nl=Ze()+500,mi(e,t)):hi=ji(e,t);e:do try{if(Pe!==0&&Te!==null){t=Te;var u=Vt;t:switch(Pe){case 1:Pe=0,Vt=null,vi(e,t,u,1);break;case 2:case 9:if(dd(u)){Pe=0,Vt=null,tp(t);break}t=function(){Pe!==2&&Pe!==9||Ye!==e||(Pe=7),_n(e)},u.then(t,t);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:dd(u)?(Pe=0,Vt=null,tp(t)):(Pe=0,Vt=null,vi(e,t,u,7));break;case 5:var h=null;switch(Te.tag){case 26:h=Te.memoizedState;case 5:case 27:var v=Te;if(!h||zp(h)){Pe=0,Vt=null;var _=v.sibling;if(_!==null)Te=_;else{var D=v.return;D!==null?(Te=D,Ll(D)):Te=null}break t}}Pe=0,Vt=null,vi(e,t,u,5);break;case 6:Pe=0,Vt=null,vi(e,t,u,6);break;case 8:mc(),Je=6;break e;default:throw Error(o(462))}}fv();break}catch(H){Ih(e,H)}while(!0);return jn=Aa=null,z.H=l,z.A=s,ke=n,Te!==null?0:(Ye=null,Ce=0,rl(),Je)}function fv(){for(;Te!==null&&!Xe();)ep(Te)}function ep(e){var t=wh(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?Ll(e):Te=t}function tp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=_h(n,t,t.pendingProps,t.type,void 0,Ce);break;case 11:t=_h(n,t,t.pendingProps,t.type.render,t.ref,Ce);break;case 5:Ps(t);default:Mh(n,t),t=Te=nd(t,Hn),t=wh(n,t,Hn)}e.memoizedProps=e.pendingProps,t===null?Ll(e):Te=t}function vi(e,t,n,l){jn=Aa=null,Ps(t),ci=null,lr=0;var s=t.return;try{if(ev(e,s,t,n,Ce)){Je=1,Ml(e,Ft(n,e.current)),Te=null;return}}catch(u){if(s!==null)throw Te=s,u;Je=1,Ml(e,Ft(n,e.current)),Te=null;return}t.flags&32768?(Me||l===1?e=!0:hi||(Ce&536870912)!==0?e=!1:(aa=e=!0,(l===2||l===9||l===3||l===6)&&(l=an.current,l!==null&&l.tag===13&&(l.flags|=16384))),np(t,e)):Ll(t)}function Ll(e){var t=e;do{if((t.flags&32768)!==0){np(t,aa);return}e=t.return;var n=nv(t.alternate,t,Hn);if(n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Je===0&&(Je=5)}function np(e,t){do{var n=av(e.alternate,e);if(n!==null){n.flags&=32767,Te=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Te=e;return}Te=e=n}while(e!==null);Je=6,Te=null}function ap(e,t,n,l,s,u,h,v,_){e.cancelPendingCommit=null;do Ul();while(ht!==0);if((ke&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=cs,Vg(e,n,u,h,v,_),e===Ye&&(Te=Ye=null,Ce=0),yi=t,la=e,gi=n,pc=u,yc=s,Kh=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,yv(At,function(){return sp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,s=J.p,J.p=2,h=ke,ke|=4;try{iv(e,t,n)}finally{ke=h,J.p=s,z.T=l}}ht=1,ip(),rp(),lp()}}function ip(){if(ht===1){ht=0;var e=la,t=yi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var l=J.p;J.p=2;var s=ke;ke|=4;try{Hh(t,e);var u=Dc,h=Zf(e.containerInfo),v=u.focusedElem,_=u.selectionRange;if(h!==v&&v&&v.ownerDocument&&Qf(v.ownerDocument.documentElement,v)){if(_!==null&&is(v)){var D=_.start,H=_.end;if(H===void 0&&(H=D),"selectionStart"in v)v.selectionStart=D,v.selectionEnd=Math.min(H,v.value.length);else{var X=v.ownerDocument||document,k=X&&X.defaultView||window;if(k.getSelection){var N=k.getSelection(),pe=v.textContent.length,ue=Math.min(_.start,pe),Be=_.end===void 0?ue:Math.min(_.end,pe);!N.extend&&ue>Be&&(h=Be,Be=ue,ue=h);var O=Xf(v,ue),A=Xf(v,Be);if(O&&A&&(N.rangeCount!==1||N.anchorNode!==O.node||N.anchorOffset!==O.offset||N.focusNode!==A.node||N.focusOffset!==A.offset)){var R=X.createRange();R.setStart(O.node,O.offset),N.removeAllRanges(),ue>Be?(N.addRange(R),N.extend(A.node,A.offset)):(R.setEnd(A.node,A.offset),N.addRange(R))}}}}for(X=[],N=v;N=N.parentNode;)N.nodeType===1&&X.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<X.length;v++){var V=X[v];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Il=!!Rc,Dc=Rc=null}finally{ke=s,J.p=l,z.T=n}}e.current=t,ht=2}}function rp(){if(ht===2){ht=0;var e=la,t=yi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var l=J.p;J.p=2;var s=ke;ke|=4;try{zh(e,t.alternate,t)}finally{ke=s,J.p=l,z.T=n}}ht=3}}function lp(){if(ht===4||ht===3){ht=0,Le();var e=la,t=yi,n=gi,l=Kh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ht=5:(ht=0,yi=la=null,op(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ra=null),Bo(n),t=t.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(un,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,s=J.p,J.p=2,z.T=null;try{for(var u=e.onRecoverableError,h=0;h<l.length;h++){var v=l[h];u(v.value,{componentStack:v.stack})}}finally{z.T=t,J.p=s}}(gi&3)!==0&&Ul(),_n(e),s=e.pendingLanes,(n&4194090)!==0&&(s&42)!==0?e===gc?yr++:(yr=0,gc=e):yr=0,gr(0)}}function op(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Gi(t)))}function Ul(e){return ip(),rp(),lp(),sp()}function sp(){if(ht!==5)return!1;var e=la,t=pc;pc=0;var n=Bo(gi),l=z.T,s=J.p;try{J.p=32>n?32:n,z.T=null,n=yc,yc=null;var u=la,h=gi;if(ht=0,yi=la=null,gi=0,(ke&6)!==0)throw Error(o(331));var v=ke;if(ke|=4,Qh(u.current),Yh(u,u.current,h,n),ke=v,gr(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(un,u)}catch{}return!0}finally{J.p=s,z.T=l,op(e,t)}}function cp(e,t,n){t=Ft(n,t),t=$s(e.stateNode,t,2),e=Jn(e,t,2),e!==null&&(ki(e,2),_n(e))}function Ue(e,t,n){if(e.tag===3)cp(e,e,n);else for(;t!==null;){if(t.tag===3){cp(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ra===null||!ra.has(l))){e=Ft(n,e),n=hh(2),l=Jn(t,n,2),l!==null&&(ph(n,l,t,e),ki(l,2),_n(l));break}}t=t.return}}function xc(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new ov;var s=new Set;l.set(t,s)}else s=l.get(t),s===void 0&&(s=new Set,l.set(t,s));s.has(n)||(uc=!0,s.add(n),e=dv.bind(null,e,t,n),t.then(e,e))}function dv(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ye===e&&(Ce&n)===n&&(Je===4||Je===3&&(Ce&62914560)===Ce&&300>Ze()-hc?(ke&2)===0&&mi(e,0):fc|=n,pi===Ce&&(pi=0)),_n(e)}function up(e,t){t===0&&(t=lf()),e=Fa(e,t),e!==null&&(ki(e,t),_n(e))}function hv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),up(e,n)}function pv(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),up(e,n)}function yv(e,t){return ce(e,t)}var Hl=null,bi=null,_c=!1,ql=!1,Sc=!1,ja=0;function _n(e){e!==bi&&e.next===null&&(bi===null?Hl=bi=e:bi=bi.next=e),ql=!0,_c||(_c=!0,mv())}function gr(e,t){if(!Sc&&ql){Sc=!0;do for(var n=!1,l=Hl;l!==null;){if(e!==0){var s=l.pendingLanes;if(s===0)var u=0;else{var h=l.suspendedLanes,v=l.pingedLanes;u=(1<<31-Ct(42|e)+1)-1,u&=s&~(h&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,pp(l,u))}else u=Ce,u=Kr(l,l===Ye?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||ji(l,u)||(n=!0,pp(l,u));l=l.next}while(n);Sc=!1}}function gv(){fp()}function fp(){ql=_c=!1;var e=0;ja!==0&&(Av()&&(e=ja),ja=0);for(var t=Ze(),n=null,l=Hl;l!==null;){var s=l.next,u=dp(l,t);u===0?(l.next=null,n===null?Hl=s:n.next=s,s===null&&(bi=n)):(n=l,(e!==0||(u&3)!==0)&&(ql=!0)),l=s}gr(e)}function dp(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,s=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-Ct(u),v=1<<h,_=s[h];_===-1?((v&n)===0||(v&l)!==0)&&(s[h]=Yg(v,t)):_<=t&&(e.expiredLanes|=v),u&=~v}if(t=Ye,n=Ce,n=Kr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&oe(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ji(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&oe(l),Bo(n)){case 2:case 8:n=lt;break;case 32:n=At;break;case 268435456:n=cn;break;default:n=At}return l=hp.bind(null,e),n=ce(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&oe(l),e.callbackPriority=2,e.callbackNode=null,2}function hp(e,t){if(ht!==0&&ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ul()&&e.callbackNode!==n)return null;var l=Ce;return l=Kr(e,e===Ye?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Gh(e,l,t),dp(e,Ze()),e.callbackNode!=null&&e.callbackNode===n?hp.bind(null,e):null)}function pp(e,t){if(Ul())return null;Gh(e,t,!0)}function mv(){wv(function(){(ke&6)!==0?ce(Fe,gv):fp()})}function Tc(){return ja===0&&(ja=rf()),ja}function yp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wr(""+e)}function gp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function vv(e,t,n,l,s){if(t==="submit"&&n&&n.stateNode===s){var u=yp((s[kt]||null).action),h=l.submitter;h&&(t=(t=h[kt]||null)?yp(t.formAction):h.getAttribute("formAction"),t!==null&&(u=t,h=null));var v=new nl("action","action",null,l,s);e.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ja!==0){var _=h?gp(s,h):new FormData(s);Vs(n,{pending:!0,data:_,method:s.method,action:u},null,_)}}else typeof u=="function"&&(v.preventDefault(),_=h?gp(s,h):new FormData(s),Vs(n,{pending:!0,data:_,method:s.method,action:u},u,_))},currentTarget:s}]})}}for(var Ec=0;Ec<ss.length;Ec++){var Ac=ss[Ec],bv=Ac.toLowerCase(),xv=Ac[0].toUpperCase()+Ac.slice(1);fn(bv,"on"+xv)}fn(Gf,"onAnimationEnd"),fn(Jf,"onAnimationIteration"),fn(If,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(Bm,"onTransitionRun"),fn(Lm,"onTransitionStart"),fn(Um,"onTransitionCancel"),fn(Wf,"onTransitionEnd"),Va("onMouseEnter",["mouseout","mouseover"]),Va("onMouseLeave",["mouseout","mouseover"]),Va("onPointerEnter",["pointerout","pointerover"]),Va("onPointerLeave",["pointerout","pointerover"]),ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_v=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mr));function mp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],s=l.event;l=l.listeners;e:{var u=void 0;if(t)for(var h=l.length-1;0<=h;h--){var v=l[h],_=v.instance,D=v.currentTarget;if(v=v.listener,_!==u&&s.isPropagationStopped())break e;u=v,s.currentTarget=D;try{u(s)}catch(H){Ol(H)}s.currentTarget=null,u=_}else for(h=0;h<l.length;h++){if(v=l[h],_=v.instance,D=v.currentTarget,v=v.listener,_!==u&&s.isPropagationStopped())break e;u=v,s.currentTarget=D;try{u(s)}catch(H){Ol(H)}s.currentTarget=null,u=_}}}}function Ee(e,t){var n=t[Lo];n===void 0&&(n=t[Lo]=new Set);var l=e+"__bubble";n.has(l)||(vp(t,e,2,!1),n.add(l))}function Cc(e,t,n){var l=0;t&&(l|=4),vp(n,e,l,t)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function wc(e){if(!e[Yl]){e[Yl]=!0,ff.forEach(function(n){n!=="selectionchange"&&(_v.has(n)||Cc(n,!1,e),Cc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yl]||(t[Yl]=!0,Cc("selectionchange",!1,t))}}function vp(e,t,n,l){switch(Yp(t)){case 2:var s=$v;break;case 8:s=Gv;break;default:s=qc}n=s.bind(null,t,n,e),s=void 0,!Go||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),l?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Oc(e,t,n,l,s){var u=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var v=l.stateNode.containerInfo;if(v===s)break;if(h===4)for(h=l.return;h!==null;){var _=h.tag;if((_===3||_===4)&&h.stateNode.containerInfo===s)return;h=h.return}for(;v!==null;){if(h=Ha(v),h===null)return;if(_=h.tag,_===5||_===6||_===26||_===27){l=u=h;continue e}v=v.parentNode}}l=l.return}Af(function(){var D=u,H=Ko(n),X=[];e:{var k=Ff.get(e);if(k!==void 0){var N=nl,pe=e;switch(e){case"keypress":if(el(n)===0)break e;case"keydown":case"keyup":N=ym;break;case"focusin":pe="focus",N=Fo;break;case"focusout":pe="blur",N=Fo;break;case"beforeblur":case"afterblur":N=Fo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=am;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=vm;break;case Gf:case Jf:case If:N=lm;break;case Wf:N=xm;break;case"scroll":case"scrollend":N=tm;break;case"wheel":N=Sm;break;case"copy":case"cut":case"paste":N=sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Rf;break;case"toggle":case"beforetoggle":N=Em}var ue=(t&4)!==0,Be=!ue&&(e==="scroll"||e==="scrollend"),O=ue?k!==null?k+"Capture":null:k;ue=[];for(var A=D,R;A!==null;){var V=A;if(R=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||R===null||O===null||(V=zi(A,O),V!=null&&ue.push(vr(A,V,R))),Be)break;A=A.return}0<ue.length&&(k=new N(k,pe,null,n,H),X.push({event:k,listeners:ue}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",k&&n!==Zo&&(pe=n.relatedTarget||n.fromElement)&&(Ha(pe)||pe[Ua]))break e;if((N||k)&&(k=H.window===H?H:(k=H.ownerDocument)?k.defaultView||k.parentWindow:window,N?(pe=n.relatedTarget||n.toElement,N=D,pe=pe?Ha(pe):null,pe!==null&&(Be=f(pe),ue=pe.tag,pe!==Be||ue!==5&&ue!==27&&ue!==6)&&(pe=null)):(N=null,pe=D),N!==pe)){if(ue=Of,V="onMouseLeave",O="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ue=Rf,V="onPointerLeave",O="onPointerEnter",A="pointer"),Be=N==null?k:Ni(N),R=pe==null?k:Ni(pe),k=new ue(V,A+"leave",N,n,H),k.target=Be,k.relatedTarget=R,V=null,Ha(H)===D&&(ue=new ue(O,A+"enter",pe,n,H),ue.target=R,ue.relatedTarget=Be,V=ue),Be=V,N&&pe)t:{for(ue=N,O=pe,A=0,R=ue;R;R=xi(R))A++;for(R=0,V=O;V;V=xi(V))R++;for(;0<A-R;)ue=xi(ue),A--;for(;0<R-A;)O=xi(O),R--;for(;A--;){if(ue===O||O!==null&&ue===O.alternate)break t;ue=xi(ue),O=xi(O)}ue=null}else ue=null;N!==null&&bp(X,k,N,ue,!1),pe!==null&&Be!==null&&bp(X,Be,pe,ue,!0)}}e:{if(k=D?Ni(D):window,N=k.nodeName&&k.nodeName.toLowerCase(),N==="select"||N==="input"&&k.type==="file")var te=Lf;else if(zf(k))if(Uf)te=Pm;else{te=jm;var _e=Dm}else N=k.nodeName,!N||N.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?D&&Qo(D.elementType)&&(te=Lf):te=km;if(te&&(te=te(e,D))){Bf(X,te,n,H);break e}_e&&_e(e,k,D),e==="focusout"&&D&&k.type==="number"&&D.memoizedProps.value!=null&&Xo(k,"number",k.value)}switch(_e=D?Ni(D):window,e){case"focusin":(zf(_e)||_e.contentEditable==="true")&&(Ja=_e,rs=D,Xi=null);break;case"focusout":Xi=rs=Ja=null;break;case"mousedown":ls=!0;break;case"contextmenu":case"mouseup":case"dragend":ls=!1,Kf(X,n,H);break;case"selectionchange":if(zm)break;case"keydown":case"keyup":Kf(X,n,H)}var ae;if(ts)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Ga?Pf(e,n)&&(fe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(fe="onCompositionStart");fe&&(Df&&n.locale!=="ko"&&(Ga||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Ga&&(ae=Cf()):(Zn=H,Jo="value"in Zn?Zn.value:Zn.textContent,Ga=!0)),_e=Vl(D,fe),0<_e.length&&(fe=new Mf(fe,e,null,n,H),X.push({event:fe,listeners:_e}),ae?fe.data=ae:(ae=Nf(n),ae!==null&&(fe.data=ae)))),(ae=Cm?wm(e,n):Om(e,n))&&(fe=Vl(D,"onBeforeInput"),0<fe.length&&(_e=new Mf("onBeforeInput","beforeinput",null,n,H),X.push({event:_e,listeners:fe}),_e.data=ae)),vv(X,e,D,n,H)}mp(X,t)})}function vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vl(e,t){for(var n=t+"Capture",l=[];e!==null;){var s=e,u=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||u===null||(s=zi(e,n),s!=null&&l.unshift(vr(e,s,u)),s=zi(e,t),s!=null&&l.push(vr(e,s,u))),e.tag===3)return l;e=e.return}return[]}function xi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bp(e,t,n,l,s){for(var u=t._reactName,h=[];n!==null&&n!==l;){var v=n,_=v.alternate,D=v.stateNode;if(v=v.tag,_!==null&&_===l)break;v!==5&&v!==26&&v!==27||D===null||(_=D,s?(D=zi(n,u),D!=null&&h.unshift(vr(n,D,_))):s||(D=zi(n,u),D!=null&&h.push(vr(n,D,_)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var Sv=/\r\n?/g,Tv=/\u0000|\uFFFD/g;function xp(e){return(typeof e=="string"?e:""+e).replace(Sv,`
`).replace(Tv,"")}function _p(e,t){return t=xp(t),xp(e)===t}function Xl(){}function ze(e,t,n,l,s,u){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Za(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Za(e,""+l);break;case"className":Gr(e,"class",l);break;case"tabIndex":Gr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gr(e,n,l);break;case"style":Tf(e,l,u);break;case"data":if(t!=="object"){Gr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=Wr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&ze(e,t,"name",s.name,s,null),ze(e,t,"formEncType",s.formEncType,s,null),ze(e,t,"formMethod",s.formMethod,s,null),ze(e,t,"formTarget",s.formTarget,s,null)):(ze(e,t,"encType",s.encType,s,null),ze(e,t,"method",s.method,s,null),ze(e,t,"target",s.target,s,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=Wr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=Xl);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=Wr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),$r(e,"popover",l);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$r(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Fg.get(n)||n,$r(e,n,l))}}function Mc(e,t,n,l,s,u){switch(n){case"style":Tf(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(n=l.__html,n!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Za(e,l):(typeof l=="number"||typeof l=="bigint")&&Za(e,""+l);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Xl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!df.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),u=e[kt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,s),typeof l=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,s);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):$r(e,n,l)}}}function pt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var l=!1,s=!1,u;for(u in n)if(n.hasOwnProperty(u)){var h=n[u];if(h!=null)switch(u){case"src":l=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ze(e,t,u,h,n,null)}}s&&ze(e,t,"srcSet",n.srcSet,n,null),l&&ze(e,t,"src",n.src,n,null);return;case"input":Ee("invalid",e);var v=u=h=s=null,_=null,D=null;for(l in n)if(n.hasOwnProperty(l)){var H=n[l];if(H!=null)switch(l){case"name":s=H;break;case"type":h=H;break;case"checked":_=H;break;case"defaultChecked":D=H;break;case"value":u=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,t));break;default:ze(e,t,l,H,n,null)}}bf(e,u,v,_,D,h,s,!1),Jr(e);return;case"select":Ee("invalid",e),l=h=u=null;for(s in n)if(n.hasOwnProperty(s)&&(v=n[s],v!=null))switch(s){case"value":u=v;break;case"defaultValue":h=v;break;case"multiple":l=v;default:ze(e,t,s,v,n,null)}t=u,n=h,e.multiple=!!l,t!=null?Qa(e,!!l,t,!1):n!=null&&Qa(e,!!l,n,!0);return;case"textarea":Ee("invalid",e),u=s=l=null;for(h in n)if(n.hasOwnProperty(h)&&(v=n[h],v!=null))switch(h){case"value":l=v;break;case"defaultValue":s=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:ze(e,t,h,v,n,null)}_f(e,l,s,u),Jr(e);return;case"option":for(_ in n)if(n.hasOwnProperty(_)&&(l=n[_],l!=null))switch(_){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ze(e,t,_,l,n,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(l=0;l<mr.length;l++)Ee(mr[l],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in n)if(n.hasOwnProperty(D)&&(l=n[D],l!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ze(e,t,D,l,n,null)}return;default:if(Qo(t)){for(H in n)n.hasOwnProperty(H)&&(l=n[H],l!==void 0&&Mc(e,t,H,l,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(l=n[v],l!=null&&ze(e,t,v,l,n,null))}function Ev(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,u=null,h=null,v=null,_=null,D=null,H=null;for(N in n){var X=n[N];if(n.hasOwnProperty(N)&&X!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":_=X;default:l.hasOwnProperty(N)||ze(e,t,N,null,l,X)}}for(var k in l){var N=l[k];if(X=n[k],l.hasOwnProperty(k)&&(N!=null||X!=null))switch(k){case"type":u=N;break;case"name":s=N;break;case"checked":D=N;break;case"defaultChecked":H=N;break;case"value":h=N;break;case"defaultValue":v=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(o(137,t));break;default:N!==X&&ze(e,t,k,N,l,X)}}Vo(e,h,v,_,D,H,u,s);return;case"select":N=h=v=k=null;for(u in n)if(_=n[u],n.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":N=_;default:l.hasOwnProperty(u)||ze(e,t,u,null,l,_)}for(s in l)if(u=l[s],_=n[s],l.hasOwnProperty(s)&&(u!=null||_!=null))switch(s){case"value":k=u;break;case"defaultValue":v=u;break;case"multiple":h=u;default:u!==_&&ze(e,t,s,u,l,_)}t=v,n=h,l=N,k!=null?Qa(e,!!n,k,!1):!!l!=!!n&&(t!=null?Qa(e,!!n,t,!0):Qa(e,!!n,n?[]:"",!1));return;case"textarea":N=k=null;for(v in n)if(s=n[v],n.hasOwnProperty(v)&&s!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:ze(e,t,v,null,l,s)}for(h in l)if(s=l[h],u=n[h],l.hasOwnProperty(h)&&(s!=null||u!=null))switch(h){case"value":k=s;break;case"defaultValue":N=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(o(91));break;default:s!==u&&ze(e,t,h,s,l,u)}xf(e,k,N);return;case"option":for(var pe in n)if(k=n[pe],n.hasOwnProperty(pe)&&k!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":e.selected=!1;break;default:ze(e,t,pe,null,l,k)}for(_ in l)if(k=l[_],N=n[_],l.hasOwnProperty(_)&&k!==N&&(k!=null||N!=null))switch(_){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:ze(e,t,_,k,l,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in n)k=n[ue],n.hasOwnProperty(ue)&&k!=null&&!l.hasOwnProperty(ue)&&ze(e,t,ue,null,l,k);for(D in l)if(k=l[D],N=n[D],l.hasOwnProperty(D)&&k!==N&&(k!=null||N!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(o(137,t));break;default:ze(e,t,D,k,l,N)}return;default:if(Qo(t)){for(var Be in n)k=n[Be],n.hasOwnProperty(Be)&&k!==void 0&&!l.hasOwnProperty(Be)&&Mc(e,t,Be,void 0,l,k);for(H in l)k=l[H],N=n[H],!l.hasOwnProperty(H)||k===N||k===void 0&&N===void 0||Mc(e,t,H,k,l,N);return}}for(var O in n)k=n[O],n.hasOwnProperty(O)&&k!=null&&!l.hasOwnProperty(O)&&ze(e,t,O,null,l,k);for(X in l)k=l[X],N=n[X],!l.hasOwnProperty(X)||k===N||k==null&&N==null||ze(e,t,X,k,l,N)}var Rc=null,Dc=null;function Ql(e){return e.nodeType===9?e:e.ownerDocument}function Sp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function jc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kc=null;function Av(){var e=window.event;return e&&e.type==="popstate"?e===kc?!1:(kc=e,!0):(kc=null,!1)}var Ep=typeof setTimeout=="function"?setTimeout:void 0,Cv=typeof clearTimeout=="function"?clearTimeout:void 0,Ap=typeof Promise=="function"?Promise:void 0,wv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ap<"u"?function(e){return Ap.resolve(null).then(e).catch(Ov)}:Ep;function Ov(e){setTimeout(function(){throw e})}function sa(e){return e==="head"}function Cp(e,t){var n=t,l=0,s=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"){if(0<l&&8>l){n=l;var h=e.ownerDocument;if(n&1&&br(h.documentElement),n&2&&br(h.body),n&4)for(n=h.head,br(n),h=n.firstChild;h;){var v=h.nextSibling,_=h.nodeName;h[Pi]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&h.rel.toLowerCase()==="stylesheet"||n.removeChild(h),h=v}}if(s===0){e.removeChild(u),wr(t);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:l=n.charCodeAt(0)-48;else l=0;n=u}while(n);wr(t)}function Pc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pc(n),Uo(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Mv(e,t,n,l){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Pi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=hn(e.nextSibling),e===null)break}return null}function Rv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=hn(e.nextSibling),e===null))return null;return e}function Nc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Dv(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var zc=null;function wp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Op(e,t,n){switch(t=Ql(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function br(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Uo(e)}var ln=new Map,Mp=new Set;function Zl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qn=J.d;J.d={f:jv,r:kv,D:Pv,C:Nv,L:zv,m:Bv,X:Uv,S:Lv,M:Hv};function jv(){var e=qn.f(),t=Bl();return e||t}function kv(e){var t=qa(e);t!==null&&t.tag===5&&t.type==="form"?Gd(t):qn.r(e)}var _i=typeof document>"u"?null:document;function Rp(e,t,n){var l=_i;if(l&&typeof t=="string"&&t){var s=Wt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Mp.has(s)||(Mp.add(s),e={rel:e,crossOrigin:n,href:t},l.querySelector(s)===null&&(t=l.createElement("link"),pt(t,"link",e),ot(t),l.head.appendChild(t)))}}function Pv(e){qn.D(e),Rp("dns-prefetch",e,null)}function Nv(e,t){qn.C(e,t),Rp("preconnect",e,t)}function zv(e,t,n){qn.L(e,t,n);var l=_i;if(l&&e&&t){var s='link[rel="preload"][as="'+Wt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Wt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Wt(n.imageSizes)+'"]')):s+='[href="'+Wt(e)+'"]';var u=s;switch(t){case"style":u=Si(e);break;case"script":u=Ti(e)}ln.has(u)||(e=x({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ln.set(u,e),l.querySelector(s)!==null||t==="style"&&l.querySelector(xr(u))||t==="script"&&l.querySelector(_r(u))||(t=l.createElement("link"),pt(t,"link",e),ot(t),l.head.appendChild(t)))}}function Bv(e,t){qn.m(e,t);var n=_i;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Wt(l)+'"][href="'+Wt(e)+'"]',u=s;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Ti(e)}if(!ln.has(u)&&(e=x({rel:"modulepreload",href:e},t),ln.set(u,e),n.querySelector(s)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_r(u)))return}l=n.createElement("link"),pt(l,"link",e),ot(l),n.head.appendChild(l)}}}function Lv(e,t,n){qn.S(e,t,n);var l=_i;if(l&&e){var s=Ya(l).hoistableStyles,u=Si(e);t=t||"default";var h=s.get(u);if(!h){var v={loading:0,preload:null};if(h=l.querySelector(xr(u)))v.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ln.get(u))&&Bc(e,n);var _=h=l.createElement("link");ot(_),pt(_,"link",e),_._p=new Promise(function(D,H){_.onload=D,_.onerror=H}),_.addEventListener("load",function(){v.loading|=1}),_.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Kl(h,t,l)}h={type:"stylesheet",instance:h,count:1,state:v},s.set(u,h)}}}function Uv(e,t){qn.X(e,t);var n=_i;if(n&&e){var l=Ya(n).hoistableScripts,s=Ti(e),u=l.get(s);u||(u=n.querySelector(_r(s)),u||(e=x({src:e,async:!0},t),(t=ln.get(s))&&Lc(e,t),u=n.createElement("script"),ot(u),pt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(s,u))}}function Hv(e,t){qn.M(e,t);var n=_i;if(n&&e){var l=Ya(n).hoistableScripts,s=Ti(e),u=l.get(s);u||(u=n.querySelector(_r(s)),u||(e=x({src:e,async:!0,type:"module"},t),(t=ln.get(s))&&Lc(e,t),u=n.createElement("script"),ot(u),pt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(s,u))}}function Dp(e,t,n,l){var s=(s=re.current)?Zl(s):null;if(!s)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Si(n.href),n=Ya(s).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Si(n.href);var u=Ya(s).hoistableStyles,h=u.get(e);if(h||(s=s.ownerDocument||s,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=s.querySelector(xr(e)))&&!u._p&&(h.instance=u,h.state.loading=5),ln.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ln.set(e,n),u||qv(s,e,n,h.state))),t&&l===null)throw Error(o(528,""));return h}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ti(n),n=Ya(s).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Si(e){return'href="'+Wt(e)+'"'}function xr(e){return'link[rel="stylesheet"]['+e+"]"}function jp(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function qv(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),pt(t,"link",n),ot(t),e.head.appendChild(t))}function Ti(e){return'[src="'+Wt(e)+'"]'}function _r(e){return"script[async]"+e}function kp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Wt(n.href)+'"]');if(l)return t.instance=l,ot(l),l;var s=x({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ot(l),pt(l,"style",s),Kl(l,n.precedence,e),t.instance=l;case"stylesheet":s=Si(n.href);var u=e.querySelector(xr(s));if(u)return t.state.loading|=4,t.instance=u,ot(u),u;l=jp(n),(s=ln.get(s))&&Bc(l,s),u=(e.ownerDocument||e).createElement("link"),ot(u);var h=u;return h._p=new Promise(function(v,_){h.onload=v,h.onerror=_}),pt(u,"link",l),t.state.loading|=4,Kl(u,n.precedence,e),t.instance=u;case"script":return u=Ti(n.src),(s=e.querySelector(_r(u)))?(t.instance=s,ot(s),s):(l=n,(s=ln.get(u))&&(l=x({},n),Lc(l,s)),e=e.ownerDocument||e,s=e.createElement("script"),ot(s),pt(s,"link",l),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Kl(l,n.precedence,e));return t.instance}function Kl(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=l.length?l[l.length-1]:null,u=s,h=0;h<l.length;h++){var v=l[h];if(v.dataset.precedence===t)u=v;else if(u!==s)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Bc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var $l=null;function Pp(e,t,n){if($l===null){var l=new Map,s=$l=new Map;s.set(n,l)}else s=$l,l=s.get(n),l||(l=new Map,s.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var u=n[s];if(!(u[Pi]||u[vt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(t)||"";h=e+h;var v=l.get(h);v?v.push(u):l.set(h,[u])}}return l}function Np(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Yv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function zp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Sr=null;function Vv(){}function Xv(e,t,n){if(Sr===null)throw Error(o(475));var l=Sr;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var s=Si(n.href),u=e.querySelector(xr(s));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Gl.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=u,ot(u);return}u=e.ownerDocument||e,n=jp(n),(s=ln.get(s))&&Bc(n,s),u=u.createElement("link"),ot(u);var h=u;h._p=new Promise(function(v,_){h.onload=v,h.onerror=_}),pt(u,"link",n),t.instance=u}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=Gl.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function Qv(){if(Sr===null)throw Error(o(475));var e=Sr;return e.stylesheets&&e.count===0&&Uc(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Uc(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Gl(){if(this.count--,this.count===0){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Jl=null;function Uc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Jl=new Map,t.forEach(Zv,e),Jl=null,Gl.call(e))}function Zv(e,t){if(!(t.state.loading&4)){var n=Jl.get(e);if(n)var l=n.get(null);else{n=new Map,Jl.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<s.length;u++){var h=s[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),l=h)}l&&n.set(null,l)}s=t.instance,h=s.getAttribute("data-precedence"),u=n.get(h)||l,u===l&&n.set(null,s),n.set(h,s),this.count++,l=Gl.bind(this),s.addEventListener("load",l),s.addEventListener("error",l),u?u.parentNode.insertBefore(s,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Tr={$$typeof:P,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Kv(e,t,n,l,s,u,h,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=No(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.hiddenUpdates=No(null),this.identifierPrefix=l,this.onUncaughtError=s,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Bp(e,t,n,l,s,u,h,v,_,D,H,X){return e=new Kv(e,t,n,h,v,_,D,X),t=1,u===!0&&(t|=24),u=Ht(3,null,null,t),e.current=u,u.stateNode=e,t=xs(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:l,isDehydrated:n,cache:t},Es(u),e}function Lp(e){return e?(e=ei,e):ei}function Up(e,t,n,l,s,u){s=Lp(s),l.context===null?l.context=s:l.pendingContext=s,l=Gn(t),l.payload={element:n},u=u===void 0?null:u,u!==null&&(l.callback=u),n=Jn(e,l,t),n!==null&&(Qt(n,e,t),Fi(n,e,t))}function Hp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hc(e,t){Hp(e,t),(e=e.alternate)&&Hp(e,t)}function qp(e){if(e.tag===13){var t=Fa(e,67108864);t!==null&&Qt(t,e,67108864),Hc(e,67108864)}}var Il=!0;function $v(e,t,n,l){var s=z.T;z.T=null;var u=J.p;try{J.p=2,qc(e,t,n,l)}finally{J.p=u,z.T=s}}function Gv(e,t,n,l){var s=z.T;z.T=null;var u=J.p;try{J.p=8,qc(e,t,n,l)}finally{J.p=u,z.T=s}}function qc(e,t,n,l){if(Il){var s=Yc(l);if(s===null)Oc(e,t,l,Wl,n),Vp(e,l);else if(Iv(s,e,t,n,l))l.stopPropagation();else if(Vp(e,l),t&4&&-1<Jv.indexOf(e)){for(;s!==null;){var u=qa(s);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=ya(u.pendingLanes);if(h!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;h;){var _=1<<31-Ct(h);v.entanglements[1]|=_,h&=~_}_n(u),(ke&6)===0&&(Nl=Ze()+500,gr(0))}}break;case 13:v=Fa(u,2),v!==null&&Qt(v,u,2),Bl(),Hc(u,2)}if(u=Yc(l),u===null&&Oc(e,t,l,Wl,n),u===s)break;s=u}s!==null&&l.stopPropagation()}else Oc(e,t,l,null,n)}}function Yc(e){return e=Ko(e),Vc(e)}var Wl=null;function Vc(e){if(Wl=null,e=Ha(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Wl=e,null}function Yp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($e()){case Fe:return 2;case lt:return 8;case At:case Cn:return 32;case cn:return 268435456;default:return 32}default:return 32}}var Xc=!1,ca=null,ua=null,fa=null,Er=new Map,Ar=new Map,da=[],Jv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vp(e,t){switch(e){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(t.pointerId)}}function Cr(e,t,n,l,s,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:u,targetContainers:[s]},t!==null&&(t=qa(t),t!==null&&qp(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Iv(e,t,n,l,s){switch(t){case"focusin":return ca=Cr(ca,e,t,n,l,s),!0;case"dragenter":return ua=Cr(ua,e,t,n,l,s),!0;case"mouseover":return fa=Cr(fa,e,t,n,l,s),!0;case"pointerover":var u=s.pointerId;return Er.set(u,Cr(Er.get(u)||null,e,t,n,l,s)),!0;case"gotpointercapture":return u=s.pointerId,Ar.set(u,Cr(Ar.get(u)||null,e,t,n,l,s)),!0}return!1}function Xp(e){var t=Ha(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,Xg(e.priority,function(){if(n.tag===13){var l=Xt();l=zo(l);var s=Fa(n,l);s!==null&&Qt(s,n,l),Hc(n,l)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yc(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Zo=l,n.target.dispatchEvent(l),Zo=null}else return t=qa(n),t!==null&&qp(t),e.blockedOn=n,!1;t.shift()}return!0}function Qp(e,t,n){Fl(e)&&n.delete(t)}function Wv(){Xc=!1,ca!==null&&Fl(ca)&&(ca=null),ua!==null&&Fl(ua)&&(ua=null),fa!==null&&Fl(fa)&&(fa=null),Er.forEach(Qp),Ar.forEach(Qp)}function eo(e,t){e.blockedOn===t&&(e.blockedOn=null,Xc||(Xc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Wv)))}var to=null;function Zp(e){to!==e&&(to=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){to===e&&(to=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],s=e[t+2];if(typeof l!="function"){if(Vc(l||n)===null)continue;break}var u=qa(n);u!==null&&(e.splice(t,3),t-=3,Vs(u,{pending:!0,data:s,method:n.method,action:l},l,s))}}))}function wr(e){function t(_){return eo(_,e)}ca!==null&&eo(ca,e),ua!==null&&eo(ua,e),fa!==null&&eo(fa,e),Er.forEach(t),Ar.forEach(t);for(var n=0;n<da.length;n++){var l=da[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<da.length&&(n=da[0],n.blockedOn===null);)Xp(n),n.blockedOn===null&&da.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var s=n[l],u=n[l+1],h=s[kt]||null;if(typeof u=="function")h||Zp(n);else if(h){var v=null;if(u&&u.hasAttribute("formAction")){if(s=u,h=u[kt]||null)v=h.formAction;else if(Vc(s)!==null)continue}else v=h.action;typeof v=="function"?n[l+1]=v:(n.splice(l,3),l-=3),Zp(n)}}}function Qc(e){this._internalRoot=e}no.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,l=Xt();Up(n,l,e,t,null,null)},no.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Up(e.current,2,null,e,null,null),Bl(),t[Ua]=null}};function no(e){this._internalRoot=e}no.prototype.unstable_scheduleHydration=function(e){if(e){var t=cf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<da.length&&t!==0&&t<da[n].priority;n++);da.splice(n,0,e),n===0&&Xp(e)}};var Kp=a.version;if(Kp!=="19.1.0")throw Error(o(527,Kp,"19.1.0"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=y(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Fv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{un=ao.inject(Fv),ft=ao}catch{}}return Mr.createRoot=function(e,t){if(!c(e))throw Error(o(299));var n=!1,l="",s=ch,u=uh,h=fh,v=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=Bp(e,1,!1,null,null,n,l,s,u,h,v,null),e[Ua]=t.current,wc(e),new Qc(t)},Mr.hydrateRoot=function(e,t,n){if(!c(e))throw Error(o(299));var l=!1,s="",u=ch,h=uh,v=fh,_=null,D=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks),n.formState!==void 0&&(D=n.formState)),t=Bp(e,1,!0,t,n??null,l,s,u,h,v,_,D),t.context=Lp(null),n=t.current,l=Xt(),l=zo(l),s=Gn(l),s.callback=null,Jn(n,s,l),n=l,t.current.lanes=n,ki(t,n),_n(t),e[Ua]=t.current,wc(e),new no(t)},Mr.version="19.1.0",Mr}var iy;function c0(){if(iy)return $c.exports;iy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),$c.exports=s0(),$c.exports}var u0=c0();let f0="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",d0=(i=21)=>{let a="",r=i|0;for(;r--;)a+=f0[Math.random()*64|0];return a};function gn(i){for(var a=arguments.length,r=Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=arguments[o];throw Error("[Immer] minified error nr: "+i+(r.length?" "+r.map(function(c){return"'"+c+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ci(i){return!!i&&!!i[Gt]}function La(i){var a;return!!i&&(function(r){if(!r||typeof r!="object")return!1;var o=Object.getPrototypeOf(r);if(o===null)return!0;var c=Object.hasOwnProperty.call(o,"constructor")&&o.constructor;return c===Object||typeof c=="function"&&Function.toString.call(c)===x0}(i)||Array.isArray(i)||!!i[dy]||!!(!((a=i.constructor)===null||a===void 0)&&a[dy])||zu(i)||Bu(i))}function Ur(i,a,r){r===void 0&&(r=!1),Mi(i)===0?(r?Object.keys:Yu)(i).forEach(function(o){r&&typeof o=="symbol"||a(o,i[o],i)}):i.forEach(function(o,c){return a(c,o,i)})}function Mi(i){var a=i[Gt];return a?a.i>3?a.i-4:a.i:Array.isArray(i)?1:zu(i)?2:Bu(i)?3:0}function vu(i,a){return Mi(i)===2?i.has(a):Object.prototype.hasOwnProperty.call(i,a)}function h0(i,a){return Mi(i)===2?i.get(a):i[a]}function Zy(i,a,r){var o=Mi(i);o===2?i.set(a,r):o===3?i.add(r):i[a]=r}function p0(i,a){return i===a?i!==0||1/i==1/a:i!=i&&a!=a}function zu(i){return v0&&i instanceof Map}function Bu(i){return b0&&i instanceof Set}function Na(i){return i.o||i.t}function Lu(i){if(Array.isArray(i))return Array.prototype.slice.call(i);var a=_0(i);delete a[Gt];for(var r=Yu(a),o=0;o<r.length;o++){var c=r[o],f=a[c];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(a[c]={configurable:!0,writable:!0,enumerable:f.enumerable,value:i[c]})}return Object.create(Object.getPrototypeOf(i),a)}function Uu(i,a){return a===void 0&&(a=!1),Hu(i)||Ci(i)||!La(i)||(Mi(i)>1&&(i.set=i.add=i.clear=i.delete=y0),Object.freeze(i),a&&Ur(i,function(r,o){return Uu(o,!0)},!0)),i}function y0(){gn(2)}function Hu(i){return i==null||typeof i!="object"||Object.isFrozen(i)}function Tn(i){var a=S0[i];return a||gn(18,i),a}function ry(){return Hr}function Wc(i,a){a&&(Tn("Patches"),i.u=[],i.s=[],i.v=a)}function vo(i){bu(i),i.p.forEach(g0),i.p=null}function bu(i){i===Hr&&(Hr=i.l)}function ly(i){return Hr={p:[],l:Hr,h:i,m:!0,_:0}}function g0(i){var a=i[Gt];a.i===0||a.i===1?a.j():a.g=!0}function Fc(i,a){a._=a.p.length;var r=a.p[0],o=i!==void 0&&i!==r;return a.h.O||Tn("ES5").S(a,i,o),o?(r[Gt].P&&(vo(a),gn(4)),La(i)&&(i=bo(a,i),a.l||xo(a,i)),a.u&&Tn("Patches").M(r[Gt].t,i,a.u,a.s)):i=bo(a,r,[]),vo(a),a.u&&a.v(a.u,a.s),i!==Ky?i:void 0}function bo(i,a,r){if(Hu(a))return a;var o=a[Gt];if(!o)return Ur(a,function(p,y){return oy(i,o,a,p,y,r)},!0),a;if(o.A!==i)return a;if(!o.P)return xo(i,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var c=o.i===4||o.i===5?o.o=Lu(o.k):o.o,f=c,d=!1;o.i===3&&(f=new Set(c),c.clear(),d=!0),Ur(f,function(p,y){return oy(i,o,c,p,y,r,d)}),xo(i,c,!1),r&&i.u&&Tn("Patches").N(o,r,i.u,i.s)}return o.o}function oy(i,a,r,o,c,f,d){if(Ci(c)){var p=bo(i,c,f&&a&&a.i!==3&&!vu(a.R,o)?f.concat(o):void 0);if(Zy(r,o,p),!Ci(p))return;i.m=!1}else d&&r.add(c);if(La(c)&&!Hu(c)){if(!i.h.D&&i._<1)return;bo(i,c),a&&a.A.l||xo(i,c)}}function xo(i,a,r){r===void 0&&(r=!1),!i.l&&i.h.D&&i.m&&Uu(a,r)}function eu(i,a){var r=i[Gt];return(r?Na(r):i)[a]}function sy(i,a){if(a in i)for(var r=Object.getPrototypeOf(i);r;){var o=Object.getOwnPropertyDescriptor(r,a);if(o)return o;r=Object.getPrototypeOf(r)}}function xu(i){i.P||(i.P=!0,i.l&&xu(i.l))}function tu(i){i.o||(i.o=Lu(i.t))}function _u(i,a,r){var o=zu(a)?Tn("MapSet").F(a,r):Bu(a)?Tn("MapSet").T(a,r):i.O?function(c,f){var d=Array.isArray(c),p={i:d?1:0,A:f?f.A:ry(),P:!1,I:!1,R:{},l:f,t:c,k:null,o:null,j:null,C:!1},y=p,m=Su;d&&(y=[p],m=Nr);var x=Proxy.revocable(y,m),b=x.revoke,S=x.proxy;return p.k=S,p.j=b,S}(a,r):Tn("ES5").J(a,r);return(r?r.A:ry()).p.push(o),o}function m0(i){return Ci(i)||gn(22,i),function a(r){if(!La(r))return r;var o,c=r[Gt],f=Mi(r);if(c){if(!c.P&&(c.i<4||!Tn("ES5").K(c)))return c.t;c.I=!0,o=cy(r,f),c.I=!1}else o=cy(r,f);return Ur(o,function(d,p){c&&h0(c.t,d)===p||Zy(o,d,a(p))}),f===3?new Set(o):o}(i)}function cy(i,a){switch(a){case 2:return new Map(i);case 3:return Array.from(i)}return Lu(i)}var uy,Hr,qu=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",v0=typeof Map<"u",b0=typeof Set<"u",fy=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Ky=qu?Symbol.for("immer-nothing"):((uy={})["immer-nothing"]=!0,uy),dy=qu?Symbol.for("immer-draftable"):"__$immer_draftable",Gt=qu?Symbol.for("immer-state"):"__$immer_state",x0=""+Object.prototype.constructor,Yu=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(i){return Object.getOwnPropertyNames(i).concat(Object.getOwnPropertySymbols(i))}:Object.getOwnPropertyNames,_0=Object.getOwnPropertyDescriptors||function(i){var a={};return Yu(i).forEach(function(r){a[r]=Object.getOwnPropertyDescriptor(i,r)}),a},S0={},Su={get:function(i,a){if(a===Gt)return i;var r=Na(i);if(!vu(r,a))return function(c,f,d){var p,y=sy(f,d);return y?"value"in y?y.value:(p=y.get)===null||p===void 0?void 0:p.call(c.k):void 0}(i,r,a);var o=r[a];return i.I||!La(o)?o:o===eu(i.t,a)?(tu(i),i.o[a]=_u(i.A.h,o,i)):o},has:function(i,a){return a in Na(i)},ownKeys:function(i){return Reflect.ownKeys(Na(i))},set:function(i,a,r){var o=sy(Na(i),a);if(o!=null&&o.set)return o.set.call(i.k,r),!0;if(!i.P){var c=eu(Na(i),a),f=c==null?void 0:c[Gt];if(f&&f.t===r)return i.o[a]=r,i.R[a]=!1,!0;if(p0(r,c)&&(r!==void 0||vu(i.t,a)))return!0;tu(i),xu(i)}return i.o[a]===r&&(r!==void 0||a in i.o)||Number.isNaN(r)&&Number.isNaN(i.o[a])||(i.o[a]=r,i.R[a]=!0),!0},deleteProperty:function(i,a){return eu(i.t,a)!==void 0||a in i.t?(i.R[a]=!1,tu(i),xu(i)):delete i.R[a],i.o&&delete i.o[a],!0},getOwnPropertyDescriptor:function(i,a){var r=Na(i),o=Reflect.getOwnPropertyDescriptor(r,a);return o&&{writable:!0,configurable:i.i!==1||a!=="length",enumerable:o.enumerable,value:r[a]}},defineProperty:function(){gn(11)},getPrototypeOf:function(i){return Object.getPrototypeOf(i.t)},setPrototypeOf:function(){gn(12)}},Nr={};Ur(Su,function(i,a){Nr[i]=function(){return arguments[0]=arguments[0][0],a.apply(this,arguments)}}),Nr.deleteProperty=function(i,a){return Nr.set.call(this,i,a,void 0)},Nr.set=function(i,a,r){return Su.set.call(this,i[0],a,r,i[0])};var T0=function(){function i(r){var o=this;this.O=fy,this.D=!0,this.produce=function(c,f,d){if(typeof c=="function"&&typeof f!="function"){var p=f;f=c;var y=o;return function(j){var B=this;j===void 0&&(j=p);for(var U=arguments.length,C=Array(U>1?U-1:0),P=1;P<U;P++)C[P-1]=arguments[P];return y.produce(j,function(Y){var Q;return(Q=f).call.apply(Q,[B,Y].concat(C))})}}var m;if(typeof f!="function"&&gn(6),d!==void 0&&typeof d!="function"&&gn(7),La(c)){var x=ly(o),b=_u(o,c,void 0),S=!0;try{m=f(b),S=!1}finally{S?vo(x):bu(x)}return typeof Promise<"u"&&m instanceof Promise?m.then(function(j){return Wc(x,d),Fc(j,x)},function(j){throw vo(x),j}):(Wc(x,d),Fc(m,x))}if(!c||typeof c!="object"){if((m=f(c))===void 0&&(m=c),m===Ky&&(m=void 0),o.D&&Uu(m,!0),d){var T=[],w=[];Tn("Patches").M(c,m,T,w),d(T,w)}return m}gn(21,c)},this.produceWithPatches=function(c,f){if(typeof c=="function")return function(m){for(var x=arguments.length,b=Array(x>1?x-1:0),S=1;S<x;S++)b[S-1]=arguments[S];return o.produceWithPatches(m,function(T){return c.apply(void 0,[T].concat(b))})};var d,p,y=o.produce(c,f,function(m,x){d=m,p=x});return typeof Promise<"u"&&y instanceof Promise?y.then(function(m){return[m,d,p]}):[y,d,p]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var a=i.prototype;return a.createDraft=function(r){La(r)||gn(8),Ci(r)&&(r=m0(r));var o=ly(this),c=_u(this,r,void 0);return c[Gt].C=!0,bu(o),c},a.finishDraft=function(r,o){var c=r&&r[Gt],f=c.A;return Wc(f,o),Fc(void 0,f)},a.setAutoFreeze=function(r){this.D=r},a.setUseProxies=function(r){r&&!fy&&gn(20),this.O=r},a.applyPatches=function(r,o){var c;for(c=o.length-1;c>=0;c--){var f=o[c];if(f.path.length===0&&f.op==="replace"){r=f.value;break}}c>-1&&(o=o.slice(c+1));var d=Tn("Patches").$;return Ci(r)?d(r,o):this.produce(r,function(p){return d(p,o)})},i}(),Jt=new T0,E0=Jt.produce;Jt.produceWithPatches.bind(Jt);Jt.setAutoFreeze.bind(Jt);Jt.setUseProxies.bind(Jt);Jt.applyPatches.bind(Jt);Jt.createDraft.bind(Jt);Jt.finishDraft.bind(Jt);class A0{constructor(a){const r=C0();this.c=1,this.s0=r(" "),this.s1=r(" "),this.s2=r(" "),this.s0-=r(a),this.s0<0&&(this.s0+=1),this.s1-=r(a),this.s1<0&&(this.s1+=1),this.s2-=r(a),this.s2<0&&(this.s2+=1)}next(){const a=2091639*this.s0+this.c*23283064365386963e-26;return this.s0=this.s1,this.s1=this.s2,this.s2=a-(this.c=Math.trunc(a))}}function C0(){let i=4022871197;return function(r){const o=r.toString();for(let c=0;c<o.length;c++){i+=o.charCodeAt(c);let f=.02519603282416938*i;i=f>>>0,f-=i,f*=i,i=f>>>0,f-=i,i+=f*4294967296}return(i>>>0)*23283064365386963e-26}}function hy(i,a){return a.c=i.c,a.s0=i.s0,a.s1=i.s1,a.s2=i.s2,a}function $y(i,a){const r=new A0(i),o=r.next.bind(r);return a&&hy(a,r),o.state=()=>hy(r,{}),o}class py{constructor(a){this.state=a||{seed:"0"},this.used=!1}static seed(){return Date.now().toString(36).slice(-10)}isUsed(){return this.used}getState(){return this.state}_random(){this.used=!0;const a=this.state,r=a.prngstate?"":a.seed,o=$y(r,a.prngstate),c=o();return this.state={...a,prngstate:o.state()},c}api(){const a=this._random.bind(this),r={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},o={};for(const f in r){const d=r[f];o[f]=p=>p===void 0?Math.floor(a()*d)+1:Array.from({length:p}).map(()=>Math.floor(a()*d)+1)}function c(f=6,d){return d===void 0?Math.floor(a()*f)+1:Array.from({length:d}).map(()=>Math.floor(a()*f)+1)}return{...o,Die:c,Number:()=>a(),Shuffle:f=>{const d=[...f];let p=f.length,y=0;const m=Array.from({length:p});for(;p;){const x=Math.trunc(p*a());m[y++]=d[x],d[x]=d[--p]}return m},_private:this}}}const w0={name:"random",noClient:({api:i})=>i._private.isUsed(),flush:({api:i})=>i._private.getState(),api:({data:i})=>new py(i).api(),setup:({game:i})=>{let{seed:a}=i;return a===void 0&&(a=py.seed()),{seed:a}},playerView:()=>{}};var nu,yy;function O0(){if(yy)return nu;yy=1;var i="[object Object]";function a(S){var T=!1;if(S!=null&&typeof S.toString!="function")try{T=!!(S+"")}catch{}return T}function r(S,T){return function(w){return S(T(w))}}var o=Function.prototype,c=Object.prototype,f=o.toString,d=c.hasOwnProperty,p=f.call(Object),y=c.toString,m=r(Object.getPrototypeOf,Object);function x(S){return!!S&&typeof S=="object"}function b(S){if(!x(S)||y.call(S)!=i||a(S))return!1;var T=m(S);if(T===null)return!0;var w=d.call(T,"constructor")&&T.constructor;return typeof w=="function"&&w instanceof w&&f.call(w)==p}return nu=b,nu}O0();const qr="MAKE_MOVE",Co="GAME_EVENT",wo="REDO",Vu="RESET",Xu="SYNC",Oo="UNDO",Qu="UPDATE",Zu="PATCH",Gy="PLUGIN",Mo="STRIP_TRANSIENTS",Jy=(i,a,r,o)=>({type:qr,payload:{type:i,args:a,playerID:r,credentials:o}}),Br=(i,a,r,o)=>({type:Co,payload:{type:i,args:a,playerID:r,credentials:o}}),Iy=(i,a,r,o)=>({type:Co,payload:{type:i,args:a,playerID:r,credentials:o},automatic:!0}),Wy=i=>({type:Xu,state:i.state,log:i.log,initialState:i.initialState,clientOnly:!0}),Fy=(i,a,r,o)=>({type:Zu,prevStateID:i,stateID:a,patch:r,deltalog:o,clientOnly:!0}),eg=(i,a)=>({type:Qu,state:i,deltalog:a,clientOnly:!0}),tg=i=>({type:Vu,state:i,clientOnly:!0}),ng=(i,a)=>({type:Oo,payload:{type:null,args:null,playerID:i,credentials:a}}),ag=(i,a)=>({type:wo,payload:{type:null,args:null,playerID:i,credentials:a}}),M0=(i,a,r,o)=>({type:Gy,payload:{type:i,args:a,playerID:r,credentials:o}}),ig=()=>({type:Mo});var R0=Object.freeze({__proto__:null,makeMove:Jy,gameEvent:Br,automaticGameEvent:Iy,sync:Wy,patch:Fy,update:eg,reset:tg,undo:ng,redo:ag,plugin:M0,stripTransients:ig});const De="INVALID_MOVE",D0={name:"plugin-immer",fnWrap:i=>(a,...r)=>{let o=!1;const c=E0(a.G,f=>{const d=i({...a,G:f},...r);if(d===De){o=!0;return}return d});return o?De:c}};var Tt;(function(i){i.MOVE="MOVE",i.GAME_ON_END="GAME_ON_END",i.PHASE_ON_BEGIN="PHASE_ON_BEGIN",i.PHASE_ON_END="PHASE_ON_END",i.TURN_ON_BEGIN="TURN_ON_BEGIN",i.TURN_ON_MOVE="TURN_ON_MOVE",i.TURN_ON_END="TURN_ON_END"})(Tt||(Tt={}));var Vn;(function(i){i.CalledOutsideHook="Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.",i.EndTurnInOnEnd="`endTurn` is disallowed in `onEnd` hooks  the turn is already ending.",i.MaxTurnEndings=`Maximum number of turn endings exceeded for this update.
This likely means game code is triggering an infinite loop.`,i.PhaseEventInOnEnd="`setPhase` & `endPhase` are disallowed in a phases `onEnd` hook  the phase is already ending.\nIf youre trying to dynamically choose the next phase when a phase ends, use the phases `next` trigger.",i.StageEventInOnEnd="`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.",i.StageEventInPhaseBegin="`setStage`, `endStage` & `setActivePlayers` are disallowed in a phases `onBegin` hook.\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.",i.StageEventInTurnBegin="`setStage` & `endStage` are disallowed in `turn.onBegin`.\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead."})(Vn||(Vn={}));class j0{constructor(a,r,o){this.flow=a,this.playerID=o,this.dispatch=[],this.initialTurn=r.turn,this.updateTurnContext(r,void 0),this.maxEndedTurnsPerAction=r.numPlayers*100}api(){const a={_private:this};for(const r of this.flow.eventNames)a[r]=(...o)=>{this.dispatch.push({type:r,args:o,phase:this.currentPhase,turn:this.currentTurn,calledFrom:this.currentMethod,error:new Error("Events Plugin Error")})};return a}isUsed(){return this.dispatch.length>0}updateTurnContext(a,r){this.currentPhase=a.phase,this.currentTurn=a.turn,this.currentMethod=r}unsetCurrentMethod(){this.currentMethod=void 0}update(a){const r=a,o=({stack:c},f)=>({...r,plugins:{...r.plugins,events:{...r.plugins.events,data:{error:f+`
`+c}}}});e:for(let c=0;c<this.dispatch.length;c++){const f=this.dispatch[c],d=f.turn!==a.ctx.turn;if(this.currentTurn-this.initialTurn>=this.maxEndedTurnsPerAction)return o(f.error,Vn.MaxTurnEndings);if(f.calledFrom===void 0)return o(f.error,Vn.CalledOutsideHook);if(a.ctx.gameover)break e;switch(f.type){case"endStage":case"setStage":case"setActivePlayers":{switch(f.calledFrom){case Tt.TURN_ON_END:case Tt.PHASE_ON_END:return o(f.error,Vn.StageEventInOnEnd);case Tt.PHASE_ON_BEGIN:return o(f.error,Vn.StageEventInPhaseBegin);case Tt.TURN_ON_BEGIN:if(f.type==="setActivePlayers")break;return o(f.error,Vn.StageEventInTurnBegin)}if(d)continue e;break}case"endTurn":{if(f.calledFrom===Tt.TURN_ON_END||f.calledFrom===Tt.PHASE_ON_END)return o(f.error,Vn.EndTurnInOnEnd);if(d)continue e;break}case"endPhase":case"setPhase":{if(f.calledFrom===Tt.PHASE_ON_END)return o(f.error,Vn.PhaseEventInOnEnd);if(f.phase!==a.ctx.phase)continue e;break}}const y=Iy(f.type,f.args,this.playerID);a=this.flow.processEvent(a,y)}return a}}const Ku={name:"events",noClient:({api:i})=>i._private.isUsed(),isInvalid:({data:i})=>i.error||!1,fnWrap:(i,a)=>(r,...o)=>{const c=r.events;c&&c._private.updateTurnContext(r.ctx,a);const f=i(r,...o);return c&&c._private.unsetCurrentMethod(),f},dangerouslyFlushRawState:({state:i,api:a})=>a._private.update(i),api:({game:i,ctx:a,playerID:r})=>new j0(i.flow,a,r).api()},k0={name:"log",flush:()=>({}),api:({data:i})=>({setMetadata:a=>{i.metadata=a}}),setup:()=>({})},P0={name:"plugin-serializable",fnWrap:i=>(a,...r)=>i(a,...r)},N0=(...i)=>console.error(...i);function je(i){N0("ERROR:",i)}const $u=[D0,w0,k0,P0],Vr=[...$u,Ku],z0=(i,a,r)=>(r.game.plugins.filter(o=>o.action!==void 0).filter(o=>o.name===a.payload.type).forEach(o=>{const c=o.name,f=i.plugins[c]||{data:{}},d=o.action(f.data,a.payload);i={...i,plugins:{...i.plugins,[c]:{...f,data:d}}}}),i),wi=({plugins:i})=>Object.entries(i||{}).reduce((a,[r,{api:o}])=>(a[r]=o,a),{}),rg=(i,a,r)=>[...$u,...r,Ku].filter(o=>o.fnWrap!==void 0).reduce((o,{fnWrap:c})=>c(o,a),i),B0=(i,a)=>([...Vr,...a.game.plugins].filter(r=>r.setup!==void 0).forEach(r=>{const o=r.name,c=r.setup({G:i.G,ctx:i.ctx,game:a.game});i={...i,plugins:{...i.plugins,[o]:{data:c}}}}),i),Tu=(i,a)=>([...Vr,...a.game.plugins].filter(r=>r.api!==void 0).forEach(r=>{const o=r.name,c=i.plugins[o]||{data:{}},f=r.api({G:i.G,ctx:i.ctx,data:c.data,game:a.game,playerID:a.playerID});i={...i,plugins:{...i.plugins,[o]:{...c,api:f}}}}),i),L0=(i,a)=>([...$u,...a.game.plugins,Ku].reverse().forEach(r=>{const o=r.name,c=i.plugins[o]||{data:{}};if(r.flush){const f=r.flush({G:i.G,ctx:i.ctx,game:a.game,api:c.api,data:c.data});i={...i,plugins:{...i.plugins,[r.name]:{data:f}}}}else if(r.dangerouslyFlushRawState){i=r.dangerouslyFlushRawState({state:i,game:a.game,api:c.api,data:c.data});const f=i.plugins[o].data;i={...i,plugins:{...i.plugins,[r.name]:{data:f}}}}}),i),U0=(i,a)=>[...Vr,...a.game.plugins].filter(r=>r.noClient!==void 0).map(r=>{const o=r.name,c=i.plugins[o];return c?r.noClient({G:i.G,ctx:i.ctx,game:a.game,api:c.api,data:c.data}):!1}).includes(!0),H0=(i,a)=>[...Vr,...a.game.plugins].filter(o=>o.isInvalid!==void 0).map(o=>{const{name:c}=o,f=i.plugins[c],d=o.isInvalid({G:i.G,ctx:i.ctx,game:a.game,data:f&&f.data});return d?{plugin:c,message:d}:!1}).find(o=>o)||!1,lg=(i,a)=>{const r=L0(i,a),o=H0(r,a);if(!o)return[r];const{plugin:c,message:f}=o;return je(`${c} plugin declared action invalid:
${f}`),[i,o]},og=({G:i,ctx:a,plugins:r={}},{game:o,playerID:c})=>([...Vr,...o.plugins].forEach(({name:f,playerView:d})=>{if(!d)return;const{data:p}=r[f]||{data:{}},y=d({G:i,ctx:a,game:o,data:p,playerID:c});r={...r,[f]:{data:y}}}),r);function _o(i,a=!1){i.moveLimit&&(a&&(i.minMoves=i.moveLimit),i.maxMoves=i.moveLimit,delete i.moveLimit)}function So(i,a){let r={},o=[],c=null,f={},d={};if(Array.isArray(a)){const y={};a.forEach(m=>y[m]=To.NULL),r=y}else{if(_o(a),a.next&&(c=a.next),a.revert&&(o=[...i._prevActivePlayers,{activePlayers:i.activePlayers,_activePlayersMinMoves:i._activePlayersMinMoves,_activePlayersMaxMoves:i._activePlayersMaxMoves,_activePlayersNumMoves:i._activePlayersNumMoves}]),a.currentPlayer!==void 0&&io(r,f,d,i.currentPlayer,a.currentPlayer),a.others!==void 0)for(let y=0;y<i.playOrder.length;y++){const m=i.playOrder[y];m!==i.currentPlayer&&io(r,f,d,m,a.others)}if(a.all!==void 0)for(let y=0;y<i.playOrder.length;y++){const m=i.playOrder[y];io(r,f,d,m,a.all)}if(a.value)for(const y in a.value)io(r,f,d,y,a.value[y]);if(a.minMoves)for(const y in r)f[y]===void 0&&(f[y]=a.minMoves);if(a.maxMoves)for(const y in r)d[y]===void 0&&(d[y]=a.maxMoves)}Object.keys(r).length===0&&(r=null),Object.keys(f).length===0&&(f=null),Object.keys(d).length===0&&(d=null);const p={};for(const y in r)p[y]=0;return{...i,activePlayers:r,_activePlayersMinMoves:f,_activePlayersMaxMoves:d,_activePlayersNumMoves:p,_prevActivePlayers:o,_nextActivePlayers:c}}function q0(i){let{activePlayers:a,_activePlayersMinMoves:r,_activePlayersMaxMoves:o,_activePlayersNumMoves:c,_prevActivePlayers:f,_nextActivePlayers:d}=i;if(a&&Object.keys(a).length===0)if(d)i=So(i,d),{activePlayers:a,_activePlayersMinMoves:r,_activePlayersMaxMoves:o,_activePlayersNumMoves:c,_prevActivePlayers:f}=i;else if(f.length>0){const p=f.length-1;({activePlayers:a,_activePlayersMinMoves:r,_activePlayersMaxMoves:o,_activePlayersNumMoves:c}=f[p]),f=f.slice(0,p)}else a=null,r=null,o=null;return{...i,activePlayers:a,_activePlayersMinMoves:r,_activePlayersMaxMoves:o,_activePlayersNumMoves:c,_prevActivePlayers:f}}function io(i,a,r,o,c){(typeof c!="object"||c===To.NULL)&&(c={stage:c}),c.stage!==void 0&&(_o(c),i[o]=c.stage,c.minMoves&&(a[o]=c.minMoves),c.maxMoves&&(r[o]=c.maxMoves))}function Eu(i,a){return i[a]+""}function Y0(i,a){let{G:r,ctx:o}=i;const{numPlayers:c}=o,d={...wi(i),G:r,ctx:o},p=a.order;let y=[...Array.from({length:c})].map((S,T)=>T+"");p.playOrder!==void 0&&(y=p.playOrder(d));const m=p.first(d),x=typeof m;x!=="number"&&je(`invalid value returned by turn.order.first  expected number got ${x} ${m}.`);const b=Eu(y,m);return o={...o,currentPlayer:b,playOrderPos:m,playOrder:y},o=So(o,a.activePlayers||{}),o}function V0(i,a,r,o){const c=r.order;let{G:f,ctx:d}=i,p=d.playOrderPos,y=!1;if(o&&o!==!0)typeof o!="object"&&je(`invalid argument to endTurn: ${o}`),Object.keys(o).forEach(m=>{switch(m){case"remove":a=Eu(d.playOrder,p);break;case"next":p=d.playOrder.indexOf(o.next),a=o.next;break;default:je(`invalid argument to endTurn: ${m}`)}});else{const x={...wi(i),G:f,ctx:d},b=c.next(x),S=typeof b;b!==void 0&&S!=="number"&&je(`invalid value returned by turn.order.next  expected number or undefined got ${S} ${b}.`),b===void 0?y=!0:(p=b,a=Eu(d.playOrder,p))}return d={...d,playOrderPos:p,currentPlayer:a},{endPhase:y,ctx:d}}const X0={DEFAULT:{first:({ctx:i})=>i.turn===0?i.playOrderPos:(i.playOrderPos+1)%i.playOrder.length,next:({ctx:i})=>(i.playOrderPos+1)%i.playOrder.length}},To={NULL:null};var au={},Yn={},gy;function sg(){if(gy)return Yn;gy=1,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.Pointer=Yn.escapeToken=Yn.unescapeToken=void 0;function i(o){return o.replace(/~1/g,"/").replace(/~0/g,"~")}Yn.unescapeToken=i;function a(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}Yn.escapeToken=a;var r=function(){function o(c){c===void 0&&(c=[""]),this.tokens=c}return o.fromJSON=function(c){var f=c.split("/").map(i);if(f[0]!=="")throw new Error("Invalid JSON Pointer: ".concat(c));return new o(f)},o.prototype.toString=function(){return this.tokens.map(a).join("/")},o.prototype.evaluate=function(c){for(var f=null,d="",p=c,y=1,m=this.tokens.length;y<m;y++)f=p,d=this.tokens[y],!(d=="__proto__"||d=="constructor"||d=="prototype")&&(p=(f||{})[d]);return{parent:f,key:d,value:p}},o.prototype.get=function(c){return this.evaluate(c).value},o.prototype.set=function(c,f){var d=this.evaluate(c);d.parent&&(d.parent[d.key]=f)},o.prototype.push=function(c){this.tokens.push(c)},o.prototype.add=function(c){var f=this.tokens.concat(String(c));return new o(f)},o}();return Yn.Pointer=r,Yn}var Ve={},iu={},my;function cg(){return my||(my=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.clone=i.objectType=i.hasOwnProperty=void 0,i.hasOwnProperty=Object.prototype.hasOwnProperty;function a(c){return c===void 0?"undefined":c===null?"null":Array.isArray(c)?"array":typeof c}i.objectType=a;function r(c){return c!=null&&typeof c=="object"}function o(c){if(!r(c))return c;if(c.constructor==Array){for(var f=c.length,d=new Array(f),p=0;p<f;p++)d[p]=o(c[p]);return d}if(c.constructor==Date){var y=new Date(+c);return y}var m={};for(var x in c)i.hasOwnProperty.call(c,x)&&(m[x]=o(c[x]));return m}i.clone=o}(iu)),iu}var Ot={},vy;function ug(){if(vy)return Ot;vy=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.diffAny=Ot.diffObjects=Ot.diffArrays=Ot.intersection=Ot.subtract=Ot.isDestructive=void 0;var i=cg();function a(x){var b=x.op;return b==="remove"||b==="replace"||b==="copy"||b==="move"}Ot.isDestructive=a;function r(x,b){var S={};for(var T in x)i.hasOwnProperty.call(x,T)&&x[T]!==void 0&&(S[T]=1);for(var w in b)i.hasOwnProperty.call(b,w)&&b[w]!==void 0&&delete S[w];return Object.keys(S)}Ot.subtract=r;function o(x){for(var b=x.length,S={},T=0;T<b;T++){var w=x[T];for(var j in w)i.hasOwnProperty.call(w,j)&&w[j]!==void 0&&(S[j]=(S[j]||0)+1)}for(var j in S)S[j]<b&&delete S[j];return Object.keys(S)}Ot.intersection=o;function c(x){return x.op==="add"}function f(x){return x.op==="remove"}function d(x,b){return{operations:x.operations.concat(b),cost:x.cost+1}}function p(x,b,S,T){T===void 0&&(T=m);var w={"0,0":{operations:[],cost:0}};function j(Y,Q){var me="".concat(Y,",").concat(Q),se=w[me];if(se===void 0){if(Y>0&&Q>0&&!T(x[Y-1],b[Q-1],S.add(String(Y-1))).length)se=j(Y-1,Q-1);else{var he=[];if(Y>0){var ee=j(Y-1,Q),$={op:"remove",index:Y-1};he.push(d(ee,$))}if(Q>0){var de=j(Y,Q-1),xe={op:"add",index:Y-1,value:b[Q-1]};he.push(d(de,xe))}if(Y>0&&Q>0){var He=j(Y-1,Q-1),at={op:"replace",index:Y-1,original:x[Y-1],value:b[Q-1]};he.push(d(He,at))}var ne=he.sort(function(z,J){return z.cost-J.cost})[0];se=ne}w[me]=se}return se}var B=isNaN(x.length)||x.length<=0?0:x.length,U=isNaN(b.length)||b.length<=0?0:b.length,C=j(B,U).operations,P=C.reduce(function(Y,Q){var me=Y[0],se=Y[1];if(c(Q)){var he=Q.index+1+se,ee=he<B+se?String(he):"-",$={op:Q.op,path:S.add(ee).toString(),value:Q.value};return[me.concat($),se+1]}else if(f(Q)){var $={op:Q.op,path:S.add(String(Q.index+se)).toString()};return[me.concat($),se-1]}else{var de=S.add(String(Q.index+se)),xe=T(Q.original,Q.value,de);return[me.concat.apply(me,xe),se]}},[[],0])[0];return P}Ot.diffArrays=p;function y(x,b,S,T){T===void 0&&(T=m);var w=[];return r(x,b).forEach(function(j){w.push({op:"remove",path:S.add(j).toString()})}),r(b,x).forEach(function(j){w.push({op:"add",path:S.add(j).toString(),value:b[j]})}),o([x,b]).forEach(function(j){w.push.apply(w,T(x[j],b[j],S.add(j)))}),w}Ot.diffObjects=y;function m(x,b,S,T){if(T===void 0&&(T=m),x===b)return[];var w=(0,i.objectType)(x),j=(0,i.objectType)(b);return w=="array"&&j=="array"?p(x,b,S,T):w=="object"&&j=="object"?y(x,b,S,T):[{op:"replace",path:S.toString(),value:b}]}return Ot.diffAny=m,Ot}var by;function Q0(){if(by)return Ve;by=1;var i=Ve&&Ve.__extends||function(){var B=function(U,C){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,Y){P.__proto__=Y}||function(P,Y){for(var Q in Y)Object.prototype.hasOwnProperty.call(Y,Q)&&(P[Q]=Y[Q])},B(U,C)};return function(U,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");B(U,C);function P(){this.constructor=U}U.prototype=C===null?Object.create(C):(P.prototype=C.prototype,new P)}}();Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.apply=Ve.InvalidOperationError=Ve.test=Ve.copy=Ve.move=Ve.replace=Ve.remove=Ve.add=Ve.TestError=Ve.MissingError=void 0;var a=sg(),r=cg(),o=ug(),c=function(B){i(U,B);function U(C){var P=B.call(this,"Value required at path: ".concat(C))||this;return P.path=C,P.name="MissingError",P}return U}(Error);Ve.MissingError=c;var f=function(B){i(U,B);function U(C,P){var Y=B.call(this,"Test failed: ".concat(C," != ").concat(P))||this;return Y.actual=C,Y.expected=P,Y.name="TestError",Y}return U}(Error);Ve.TestError=f;function d(B,U,C){if(Array.isArray(B))if(U=="-")B.push(C);else{var P=parseInt(U,10);B.splice(P,0,C)}else B[U]=C}function p(B,U){if(Array.isArray(B)){var C=parseInt(U,10);B.splice(C,1)}else delete B[U]}function y(B,U){var C=a.Pointer.fromJSON(U.path).evaluate(B);return C.parent===void 0?new c(U.path):(d(C.parent,C.key,(0,r.clone)(U.value)),null)}Ve.add=y;function m(B,U){var C=a.Pointer.fromJSON(U.path).evaluate(B);return C.value===void 0?new c(U.path):(p(C.parent,C.key),null)}Ve.remove=m;function x(B,U){var C=a.Pointer.fromJSON(U.path).evaluate(B);if(C.parent===null)return new c(U.path);if(Array.isArray(C.parent)){if(parseInt(C.key,10)>=C.parent.length)return new c(U.path)}else if(C.value===void 0)return new c(U.path);return C.parent[C.key]=(0,r.clone)(U.value),null}Ve.replace=x;function b(B,U){var C=a.Pointer.fromJSON(U.from).evaluate(B);if(C.value===void 0)return new c(U.from);var P=a.Pointer.fromJSON(U.path).evaluate(B);return P.parent===void 0?new c(U.path):(p(C.parent,C.key),d(P.parent,P.key,C.value),null)}Ve.move=b;function S(B,U){var C=a.Pointer.fromJSON(U.from).evaluate(B);if(C.value===void 0)return new c(U.from);var P=a.Pointer.fromJSON(U.path).evaluate(B);return P.parent===void 0?new c(U.path):(d(P.parent,P.key,(0,r.clone)(C.value)),null)}Ve.copy=S;function T(B,U){var C=a.Pointer.fromJSON(U.path).evaluate(B);return(0,o.diffAny)(C.value,U.value,new a.Pointer).length?new f(C.value,U.value):null}Ve.test=T;var w=function(B){i(U,B);function U(C){var P=B.call(this,"Invalid operation: ".concat(C.op))||this;return P.operation=C,P.name="InvalidOperationError",P}return U}(Error);Ve.InvalidOperationError=w;function j(B,U){switch(U.op){case"add":return y(B,U);case"remove":return m(B,U);case"replace":return x(B,U);case"move":return b(B,U);case"copy":return S(B,U);case"test":return T(B,U)}return new w(U)}return Ve.apply=j,Ve}var xy;function Z0(){return xy||(xy=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.createTests=i.createPatch=i.applyPatch=i.Pointer=void 0;var a=sg();Object.defineProperty(i,"Pointer",{enumerable:!0,get:function(){return a.Pointer}});var r=Q0(),o=ug();function c(m,x){return x.map(function(b){return(0,r.apply)(m,b)})}i.applyPatch=c;function f(m){function x(b,S,T){var w=m(b,S,T);return Array.isArray(w)?w:(0,o.diffAny)(b,S,T,x)}return x}function d(m,x,b){var S=new a.Pointer;return(b?f(b):o.diffAny)(m,x,S)}i.createPatch=d;function p(m,x){var b=a.Pointer.fromJSON(x).evaluate(m);if(b!==void 0)return{op:"test",path:x,value:b.value}}function y(m,x){var b=new Array;return x.filter(o.isDestructive).forEach(function(S){var T=p(m,S.path);if(T&&b.push(T),"from"in S){var w=p(m,S.from);w&&b.push(w)}}),b}i.createTests=y}(au)),au}var fg=Z0();function K0({moves:i,phases:a,endIf:r,onEnd:o,turn:c,events:f,plugins:d}){i===void 0&&(i={}),f===void 0&&(f={}),d===void 0&&(d=[]),a===void 0&&(a={}),r||(r=()=>{}),o||(o=({G:M})=>M),c||(c={});const p={...a};""in p&&je("cannot specify phase with empty name"),p[""]={};const y={},m=new Set;let x=null;Object.keys(i).forEach(M=>m.add(M));const b=(M,L)=>{const K=rg(M,L,d);return ge=>{const ce=wi(ge);return K({...ce,G:ge.G,ctx:ge.ctx,playerID:ge.playerID})}},S=M=>L=>{const K=wi(L);return M({...K,G:L.G,ctx:L.ctx})},T={onEnd:b(o,Tt.GAME_ON_END),endIf:S(r)};for(const M in p){const L=p[M];if(L.start===!0&&(x=M),L.moves!==void 0)for(const K of Object.keys(L.moves))y[M+"."+K]=L.moves[K],m.add(K);L.endIf===void 0&&(L.endIf=()=>{}),L.onBegin===void 0&&(L.onBegin=({G:K})=>K),L.onEnd===void 0&&(L.onEnd=({G:K})=>K),L.turn===void 0&&(L.turn=c),L.turn.order===void 0&&(L.turn.order=X0.DEFAULT),L.turn.onBegin===void 0&&(L.turn.onBegin=({G:K})=>K),L.turn.onEnd===void 0&&(L.turn.onEnd=({G:K})=>K),L.turn.endIf===void 0&&(L.turn.endIf=()=>!1),L.turn.onMove===void 0&&(L.turn.onMove=({G:K})=>K),L.turn.stages===void 0&&(L.turn.stages={}),_o(L.turn,!0);for(const K in L.turn.stages){const ce=L.turn.stages[K].moves||{};for(const oe of Object.keys(ce)){const Xe=M+"."+K+"."+oe;y[Xe]=ce[oe],m.add(oe)}}if(L.wrapped={onBegin:b(L.onBegin,Tt.PHASE_ON_BEGIN),onEnd:b(L.onEnd,Tt.PHASE_ON_END),endIf:S(L.endIf)},L.turn.wrapped={onMove:b(L.turn.onMove,Tt.TURN_ON_MOVE),onBegin:b(L.turn.onBegin,Tt.TURN_ON_BEGIN),onEnd:b(L.turn.onEnd,Tt.TURN_ON_END),endIf:S(L.turn.endIf)},typeof L.next!="function"){const{next:K}=L;L.next=()=>K||null}L.wrapped.next=S(L.next)}function w(M){return M.phase?p[M.phase]:p[""]}function j(M){return M}function B(M,L){const K=new Set,ge=new Set;for(let ce=0;ce<L.length;ce++){const{fn:oe,arg:Xe,...Le}=L[ce];if(oe===xe){ge.clear();const lt=M.ctx.phase;if(K.has(lt)){const At={...M.ctx,phase:null};return{...M,ctx:At}}K.add(lt)}const Ze=[];if(M=oe(M,{...Le,arg:Xe,next:Ze}),oe===de)break;const $e=he(M);if($e){L.push({fn:de,arg:$e,turn:M.ctx.turn,phase:M.ctx.phase,automatic:!0});continue}const Fe=ee(M);if(Fe){L.push({fn:xe,arg:Fe,turn:M.ctx.turn,phase:M.ctx.phase,automatic:!0});continue}if([j,me,se].includes(oe)){const lt=$(M);if(lt){L.push({fn:He,arg:lt,turn:M.ctx.turn,phase:M.ctx.phase,automatic:!0});continue}}L.push(...Ze)}return M}function U(M,{next:L}){return L.push({fn:C}),M}function C(M,{next:L}){let{G:K,ctx:ge}=M;return K=w(ge).wrapped.onBegin(M),L.push({fn:P}),{...M,G:K,ctx:ge}}function P(M,{currentPlayer:L}){let{ctx:K}=M;const ge=w(K);L?(K={...K,currentPlayer:L},ge.turn.activePlayers&&(K=So(K,ge.turn.activePlayers))):K=Y0(M,ge.turn);const ce=K.turn+1;K={...K,turn:ce,numMoves:0,_prevActivePlayers:[]};const oe=ge.turn.wrapped.onBegin({...M,ctx:K});return{...M,G:oe,ctx:K,_undo:[],_redo:[]}}function Y(M,{arg:L,next:K,phase:ge}){const ce=w({phase:ge});let{ctx:oe}=M;if(L&&L.next)if(L.next in p)oe={...oe,phase:L.next};else return je("invalid phase: "+L.next),M;else oe={...oe,phase:ce.wrapped.next(M)||null};return M={...M,ctx:oe},K.push({fn:C}),M}function Q(M,{arg:L,currentPlayer:K,next:ge}){let{G:ce,ctx:oe}=M;const Xe=w(oe),{endPhase:Le,ctx:Ze}=V0(M,K,Xe.turn,L);return oe=Ze,M={...M,G:ce,ctx:oe},Le?ge.push({fn:xe,turn:oe.turn,phase:oe.phase}):ge.push({fn:P,currentPlayer:oe.currentPlayer}),M}function me(M,{arg:L,playerID:K}){if((typeof L=="string"||L===To.NULL)&&(L={stage:L}),typeof L!="object")return M;_o(L);let{ctx:ge}=M,{activePlayers:ce,_activePlayersMinMoves:oe,_activePlayersMaxMoves:Xe,_activePlayersNumMoves:Le}=ge;return L.stage!==void 0&&(ce===null&&(ce={}),ce[K]=L.stage,Le[K]=0,L.minMoves&&(oe===null&&(oe={}),oe[K]=L.minMoves),L.maxMoves&&(Xe===null&&(Xe={}),Xe[K]=L.maxMoves)),ge={...ge,activePlayers:ce,_activePlayersMinMoves:oe,_activePlayersMaxMoves:Xe,_activePlayersNumMoves:Le},{...M,ctx:ge}}function se(M,{arg:L}){return{...M,ctx:So(M.ctx,L)}}function he(M){return T.endIf(M)}function ee(M){return w(M.ctx).wrapped.endIf(M)}function $(M){const L=w(M.ctx),K=M.ctx.numMoves||0;return L.turn.maxMoves&&K>=L.turn.maxMoves?!0:L.turn.wrapped.endIf(M)}function de(M,{arg:L,phase:K}){M=xe(M,{}),L===void 0&&(L=!0),M={...M,ctx:{...M.ctx,gameover:L}};const ge=T.onEnd(M);return{...M,G:ge}}function xe(M,{arg:L,next:K,turn:ge,automatic:ce}){M=He(M,{turn:ge,force:!0,automatic:!0});const{phase:oe,turn:Xe}=M.ctx;if(K&&K.push({fn:Y,arg:L,phase:oe}),oe===null)return M;const Ze=w(M.ctx).wrapped.onEnd(M),$e={...M.ctx,phase:null},Fe=Br("endPhase",L),{_stateID:lt}=M,At={action:Fe,_stateID:lt,turn:Xe,phase:oe};ce&&(At.automatic=!0);const Cn=[...M.deltalog||[],At];return{...M,G:Ze,ctx:$e,deltalog:Cn}}function He(M,{arg:L,next:K,turn:ge,force:ce,automatic:oe,playerID:Xe}){if(ge!==M.ctx.turn)return M;const{currentPlayer:Le,numMoves:Ze,phase:$e,turn:Fe}=M.ctx,lt=w(M.ctx),At=Ze||0;if(!ce&&lt.turn.minMoves&&At<lt.turn.minMoves)return`${lt.turn.minMoves}`,M;const Cn=lt.turn.wrapped.onEnd(M);K&&K.push({fn:Q,arg:L,currentPlayer:Le});let cn={...M.ctx,activePlayers:null};if(L&&L.remove){Xe=Xe||Le;const mt=cn.playOrder.filter(Po=>Po!=Xe),Ct=cn.playOrderPos>mt.length-1?0:cn.playOrderPos;if(cn={...cn,playOrder:mt,playOrderPos:Ct},mt.length===0)return K.push({fn:xe,turn:Fe,phase:$e}),M}const Di=Br("endTurn",L),{_stateID:Xr}=M,un={action:Di,_stateID:Xr,turn:Fe,phase:$e};oe&&(un.automatic=!0);const ft=[...M.deltalog||[],un];return{...M,G:Cn,ctx:cn,deltalog:ft,_undo:[],_redo:[]}}function at(M,{arg:L,next:K,automatic:ge,playerID:ce}){ce=ce||M.ctx.currentPlayer;let{ctx:oe,_stateID:Xe}=M,{activePlayers:Le,_activePlayersNumMoves:Ze,_activePlayersMinMoves:$e,_activePlayersMaxMoves:Fe,phase:lt,turn:At}=oe;const Cn=Le!==null&&ce in Le,cn=w(oe);if(!L&&Cn){const mt=cn.turn.stages[Le[ce]];mt&&mt.next&&(L=mt.next)}if(K&&K.push({fn:me,arg:L,playerID:ce}),!Cn)return M;const Di=Ze[ce]||0;if($e&&$e[ce]&&Di<$e[ce])return`${$e[ce]}`,M;Le={...Le},delete Le[ce],$e&&($e={...$e},delete $e[ce]),Fe&&(Fe={...Fe},delete Fe[ce]),oe=q0({...oe,activePlayers:Le,_activePlayersMinMoves:$e,_activePlayersMaxMoves:Fe});const un={action:Br("endStage",L),_stateID:Xe,turn:At,phase:lt};ge&&(un.automatic=!0);const ft=[...M.deltalog||[],un];return{...M,ctx:oe,deltalog:ft}}function ne(M,L,K){const ge=w(M),ce=ge.turn.stages,{activePlayers:oe}=M;if(oe&&oe[K]!==void 0&&oe[K]!==To.NULL&&ce[oe[K]]!==void 0&&ce[oe[K]].moves!==void 0){const Le=ce[oe[K]].moves;if(L in Le)return Le[L]}else if(ge.moves){if(L in ge.moves)return ge.moves[L]}else if(L in i)return i[L];return null}function z(M,L){const{playerID:K,type:ge}=L,{currentPlayer:ce,activePlayers:oe,_activePlayersMaxMoves:Xe}=M.ctx,Le=ne(M.ctx,ge,K),Ze=!Le||typeof Le=="function"||Le.noLimit!==!0;let{numMoves:$e,_activePlayersNumMoves:Fe}=M.ctx;Ze&&(K===ce&&$e++,oe&&Fe[K]++),M={...M,ctx:{...M.ctx,numMoves:$e,_activePlayersNumMoves:Fe}},Xe&&Fe[K]>=Xe[K]&&(M=at(M,{playerID:K,automatic:!0}));const At=w(M.ctx).turn.wrapped.onMove({...M,playerID:K});return M={...M,G:At},B(M,[{fn:j}])}function J(M,L,K){return B(M,[{fn:at,arg:K,playerID:L}])}function ie(M,L){return B(M,[{fn:at,playerID:L}])}function we(M,L,K){return B(M,[{fn:se,arg:K}])}function E(M,L,K){return B(M,[{fn:xe,phase:M.ctx.phase,turn:M.ctx.turn,arg:{next:K}}])}function Z(M){return B(M,[{fn:xe,phase:M.ctx.phase,turn:M.ctx.turn}])}function F(M,L,K){return B(M,[{fn:He,turn:M.ctx.turn,phase:M.ctx.phase,arg:K}])}function I(M,L,K){return B(M,[{fn:He,turn:M.ctx.turn,phase:M.ctx.phase,force:!0,arg:K}])}function le(M,L,K){return B(M,[{fn:de,turn:M.ctx.turn,phase:M.ctx.phase,arg:K}])}const Se={endStage:ie,setStage:J,endTurn:F,pass:I,endPhase:Z,setPhase:E,endGame:le,setActivePlayers:we},re=[];f.endTurn!==!1&&re.push("endTurn"),f.pass!==!1&&re.push("pass"),f.endPhase!==!1&&re.push("endPhase"),f.setPhase!==!1&&re.push("setPhase"),f.endGame!==!1&&re.push("endGame"),f.setActivePlayers!==!1&&re.push("setActivePlayers"),f.endStage!==!1&&re.push("endStage"),f.setStage!==!1&&re.push("setStage");function Et(M,L){const{type:K,playerID:ge,args:ce}=L.payload;return typeof Se[K]!="function"?M:Se[K](M,ge,...Array.isArray(ce)?ce:[ce])}function qe(M,L,K){return L.activePlayers?K in L.activePlayers:L.currentPlayer===K}return{ctx:M=>({numPlayers:M,turn:0,currentPlayer:"0",playOrder:[...Array.from({length:M})].map((L,K)=>K+""),playOrderPos:0,phase:x,activePlayers:null}),init:M=>B(M,[{fn:U}]),isPlayerActive:qe,eventHandlers:Se,eventNames:Object.keys(Se),enabledEventNames:re,moveMap:y,moveNames:[...m.values()],processMove:z,processEvent:Et,getMove:ne}}function $0(i){return i.processMove!==void 0}function Ro(i){if($0(i))return i;if(i.name===void 0&&(i.name="default"),i.deltaState===void 0&&(i.deltaState=!1),i.disableUndo===void 0&&(i.disableUndo=!1),i.setup===void 0&&(i.setup=()=>({})),i.moves===void 0&&(i.moves={}),i.playerView===void 0&&(i.playerView=({G:r})=>r),i.plugins===void 0&&(i.plugins=[]),i.plugins.forEach(r=>{if(r.name===void 0)throw new Error("Plugin missing name attribute");if(r.name.includes(" "))throw new Error(r.name+": Plugin name must not include spaces")}),i.name.includes(" "))throw new Error(i.name+": Game name must not include spaces");const a=K0(i);return{...i,flow:a,moveNames:a.moveNames,pluginNames:i.plugins.map(r=>r.name),processMove:(r,o)=>{let c=a.getMove(r.ctx,o.type,o.playerID);if(dg(c)&&(c=c.move),c instanceof Function){const f=rg(c,Tt.MOVE,i.plugins);let d=[];o.args!==void 0&&(d=Array.isArray(o.args)?o.args:[o.args]);const p={...wi(r),G:r.G,ctx:r.ctx,playerID:o.playerID};return f(p,...d)}return je(`invalid move object: ${o.type}`),r.G}}}function dg(i){return i instanceof Object&&i.move!==void 0}var Au;(function(i){i.UnauthorizedAction="update/unauthorized_action",i.MatchNotFound="update/match_not_found",i.PatchFailed="update/patch_failed"})(Au||(Au={}));var St;(function(i){i.StaleStateId="action/stale_state_id",i.UnavailableMove="action/unavailable_move",i.InvalidMove="action/invalid_move",i.InactivePlayer="action/inactive_player",i.GameOver="action/gameover",i.ActionDisabled="action/action_disabled",i.ActionInvalid="action/action_invalid",i.PluginActionInvalid="action/plugin_invalid"})(St||(St={}));const ro=i=>i.payload.playerID!==null&&i.payload.playerID!==void 0,G0=(i,a,r)=>{function o(f){return f.undoable!==void 0}function c(f){return f instanceof Function}return o(r)?c(r.undoable)?r.undoable({G:i,ctx:a}):r.undoable:!0};function _y(i,a){if(a.game.disableUndo)return i;const r={G:i.G,ctx:i.ctx,plugins:i.plugins,playerID:a.action.payload.playerID||i.ctx.currentPlayer};return a.action.type==="MAKE_MOVE"&&(r.moveType=a.action.payload.type),{...i,_undo:[...i._undo,r],_redo:[]}}function ru(i,a,r){const o={action:a,_stateID:i._stateID,turn:i.ctx.turn,phase:i.ctx.phase},c=i.plugins.log.data.metadata;return c!==void 0&&(o.metadata=c),typeof r=="object"&&r.redact===!0?o.redact=!0:typeof r=="object"&&r.redact instanceof Function&&(o.redact=r.redact({G:i.G,ctx:i.ctx})),{...i,deltalog:[o]}}function lu(i,a,r){const[o,c]=lg(i,r);return c?[o,Mt(a,St.PluginActionInvalid,c)]:[o]}function hg(i){if(!i)return[null,void 0];const{transients:a,...r}=i;return[r,a]}function Mt(i,a,r){return{...i,transients:{error:{type:a,payload:r}}}}const pg=i=>a=>r=>{const o=a(r);switch(r.type){case Mo:return o;default:{const[,c]=hg(i.getState());return typeof c<"u"?(i.dispatch(ig()),{...o,transients:c}):o}}};function Gu({game:i,isClient:a}){return i=Ro(i),(r=null,o)=>{let[c]=hg(r);switch(o.type){case Mo:return c;case Co:{if(c={...c,deltalog:[]},a)return c;if(c.ctx.gameover!==void 0)return je("cannot call event after game end"),Mt(c,St.GameOver);if(ro(o)&&!i.flow.isPlayerActive(c.G,c.ctx,o.payload.playerID))return je(`disallowed event: ${o.payload.type}`),Mt(c,St.InactivePlayer);c=Tu(c,{game:i,playerID:o.payload.playerID});let f=i.flow.processEvent(c,o),d;return[f,d]=lu(f,c,{game:i}),d||(f=_y(f,{game:i,action:o}),{...f,_stateID:c._stateID+1})}case qr:{const f=c={...c,deltalog:[]},d=i.flow.getMove(c.ctx,o.payload.type,o.payload.playerID||c.ctx.currentPlayer);if(d===null)return je(`disallowed move: ${o.payload.type}`),Mt(c,St.UnavailableMove);if(a&&d.client===!1)return c;if(c.ctx.gameover!==void 0)return je("cannot make move after game end"),Mt(c,St.GameOver);if(ro(o)&&!i.flow.isPlayerActive(c.G,c.ctx,o.payload.playerID))return je(`disallowed move: ${o.payload.type}`),Mt(c,St.InactivePlayer);c=Tu(c,{game:i,playerID:o.payload.playerID});const p=i.processMove(c,o.payload);if(p===De)return je(`invalid move: ${o.payload.type} args: ${o.payload.args}`),Mt(c,St.InvalidMove);const y={...c,G:p};if(a&&U0(y,{game:i}))return c;if(c=y,a){let x;return[c,x]=lu(c,f,{game:i}),x||{...c,_stateID:c._stateID+1}}c=ru(c,o,d),c=i.flow.processMove(c,o.payload);let m;return[c,m]=lu(c,f,{game:i}),m||(c=_y(c,{game:i,action:o}),{...c,_stateID:c._stateID+1})}case Vu:case Qu:case Xu:return o.state;case Oo:{if(c={...c,deltalog:[]},i.disableUndo)return je("Undo is not enabled"),Mt(c,St.ActionDisabled);const{G:f,ctx:d,_undo:p,_redo:y,_stateID:m}=c;if(p.length<2)return je("No moves to undo"),Mt(c,St.ActionInvalid);const x=p[p.length-1],b=p[p.length-2];if(ro(o)&&o.payload.playerID!==x.playerID)return je("Cannot undo other players' moves"),Mt(c,St.ActionInvalid);if(x.moveType){const S=i.flow.getMove(b.ctx,x.moveType,x.playerID);if(!G0(f,d,S))return je("Move cannot be undone"),Mt(c,St.ActionInvalid)}return c=ru(c,o),{...c,G:b.G,ctx:b.ctx,plugins:b.plugins,_stateID:m+1,_undo:p.slice(0,-1),_redo:[x,...y]}}case wo:{if(c={...c,deltalog:[]},i.disableUndo)return je("Redo is not enabled"),Mt(c,St.ActionDisabled);const{_undo:f,_redo:d,_stateID:p}=c;if(d.length===0)return je("No moves to redo"),Mt(c,St.ActionInvalid);const y=d[0];return ro(o)&&o.payload.playerID!==y.playerID?(je("Cannot redo other players' moves"),Mt(c,St.ActionInvalid)):(c=ru(c,o),{...c,G:y.G,ctx:y.ctx,plugins:y.plugins,_stateID:p+1,_undo:[...f,y],_redo:d.slice(1)})}case Gy:return z0(c,o,{game:i});case Zu:{const f=c,d=JSON.parse(JSON.stringify(f)),p=fg.applyPatch(d,o.patch);return p.some(m=>m!==null)?(je(`Patch ${JSON.stringify(o.patch)} apply failed`),Mt(f,Au.PatchFailed,p)):d}default:return c}}}var ou={},Sy;function J0(){return Sy||(Sy=1,function(i,a){if(i.setImmediate)return;var r=1,o={},c=!1,f=i.document,d;function p(C){typeof C!="function"&&(C=new Function(""+C));for(var P=new Array(arguments.length-1),Y=0;Y<P.length;Y++)P[Y]=arguments[Y+1];var Q={callback:C,args:P};return o[r]=Q,d(r),r++}function y(C){delete o[C]}function m(C){var P=C.callback,Y=C.args;switch(Y.length){case 0:P();break;case 1:P(Y[0]);break;case 2:P(Y[0],Y[1]);break;case 3:P(Y[0],Y[1],Y[2]);break;default:P.apply(a,Y);break}}function x(C){if(c)setTimeout(x,0,C);else{var P=o[C];if(P){c=!0;try{m(P)}finally{y(C),c=!1}}}}function b(){d=function(C){process.nextTick(function(){x(C)})}}function S(){if(i.postMessage&&!i.importScripts){var C=!0,P=i.onmessage;return i.onmessage=function(){C=!1},i.postMessage("","*"),i.onmessage=P,C}}function T(){var C="setImmediate$"+Math.random()+"$",P=function(Y){Y.source===i&&typeof Y.data=="string"&&Y.data.indexOf(C)===0&&x(+Y.data.slice(C.length))};i.addEventListener?i.addEventListener("message",P,!1):i.attachEvent("onmessage",P),d=function(Y){i.postMessage(C+Y,"*")}}function w(){var C=new MessageChannel;C.port1.onmessage=function(P){var Y=P.data;x(Y)},d=function(P){C.port2.postMessage(P)}}function j(){var C=f.documentElement;d=function(P){var Y=f.createElement("script");Y.onreadystatechange=function(){x(P),Y.onreadystatechange=null,C.removeChild(Y),Y=null},C.appendChild(Y)}}function B(){d=function(C){setTimeout(x,0,C)}}var U=Object.getPrototypeOf&&Object.getPrototypeOf(i);U=U&&U.setTimeout?U:i,{}.toString.call(i.process)==="[object process]"?b():S()?T():i.MessageChannel?w():f&&"onreadystatechange"in f.createElement("script")?j():B(),U.setImmediate=p,U.clearImmediate=y}(typeof self>"u"?typeof $p>"u"?ou:$p:self)),ou}J0();class I0{constructor({enumerate:a,seed:r}){this.enumerateFn=a,this.seed=r,this.iterationCounter=0,this._opts={}}addOpt({key:a,range:r,initial:o}){this._opts[a]={range:r,value:o}}getOpt(a){return this._opts[a].value}setOpt(a,r){a in this._opts&&(this._opts[a].value=r)}opts(){return this._opts}enumerate(a,r,o){return this.enumerateFn(a,r,o).map(f=>{if("payload"in f)return f;if("move"in f)return Jy(f.move,f.args,o);if("event"in f)return Br(f.event,f.args,o)})}random(a){let r;if(this.seed!==void 0){const o=this.prngstate?"":this.seed,c=$y(o,this.prngstate);r=c(),this.prngstate=c.state()}else r=Math.random();if(a)if(Array.isArray(a)){const o=Math.floor(r*a.length);return a[o]}else return Math.floor(r*a);return r}}const W0=25;class F0 extends I0{constructor({enumerate:a,seed:r,objectives:o,game:c,iterations:f,playoutDepth:d,iterationCallback:p}){super({enumerate:a,seed:r}),o===void 0&&(o=()=>({})),this.objectives=o,this.iterationCallback=p||(()=>{}),this.reducer=Gu({game:c}),this.iterations=f,this.playoutDepth=d,this.addOpt({key:"async",initial:!1}),this.addOpt({key:"iterations",initial:typeof f=="number"?f:1e3,range:{min:1,max:2e3}}),this.addOpt({key:"playoutDepth",initial:typeof d=="number"?d:50,range:{min:1,max:100}})}createNode({state:a,parentAction:r,parent:o,playerID:c}){const{G:f,ctx:d}=a;let p=[],y=[];if(c!==void 0)p=this.enumerate(f,d,c),y=this.objectives(f,d,c);else if(d.activePlayers)for(const m in d.activePlayers)p.push(...this.enumerate(f,d,m)),y.push(this.objectives(f,d,m));else p=this.enumerate(f,d,d.currentPlayer),y=this.objectives(f,d,d.currentPlayer);return{state:a,parent:o,parentAction:r,actions:p,objectives:y,children:[],visits:0,value:0}}select(a){if(a.actions.length>0||a.children.length===0)return a;let r=null,o=0;for(const c of a.children){const f=c.visits+Number.EPSILON,d=c.value/f+Math.sqrt(2*Math.log(a.visits)/f);(r==null||d>o)&&(o=d,r=c)}return this.select(r)}expand(a){const r=a.actions;if(r.length===0||a.state.ctx.gameover!==void 0)return a;const o=this.random(r.length),c=r[o];a.actions.splice(o,1);const f=this.reducer(a.state,c),d=this.createNode({state:f,parentAction:c,parent:a});return a.children.push(d),d}playout({state:a}){let r=this.getOpt("playoutDepth");typeof this.playoutDepth=="function"&&(r=this.playoutDepth(a.G,a.ctx));for(let o=0;o<r&&a.ctx.gameover===void 0;o++){const{G:c,ctx:f}=a;let d=f.currentPlayer;f.activePlayers&&(d=Object.keys(f.activePlayers)[0]);const p=this.enumerate(c,f,d),y=this.objectives(c,f,d),m=Object.keys(y).reduce((S,T)=>{const w=y[T];return w.checker(c,f)?S+w.weight:S},0);if(m>0)return{score:m};if(!p||p.length===0)return;const x=this.random(p.length);a=this.reducer(a,p[x])}return a.ctx.gameover}backpropagate(a,r={}){a.visits++,r.score!==void 0&&(a.value+=r.score),r.draw===!0&&(a.value+=.5),a.parentAction&&r.winner===a.parentAction.payload.playerID&&a.value++,a.parent&&this.backpropagate(a.parent,r)}play(a,r){const o=this.createNode({state:a,playerID:r});let c=this.getOpt("iterations");typeof this.iterations=="function"&&(c=this.iterations(a.G,a.ctx));const f=()=>{let d=null;for(const m of o.children)(d==null||m.visits>d.visits)&&(d=m);return{action:d&&d.parentAction,metadata:o}};return new Promise(d=>{const p=()=>{for(let y=0;y<W0&&this.iterationCounter<c;y++){const m=this.select(o),x=this.expand(m),b=this.playout(x);this.backpropagate(x,b),this.iterationCounter++}this.iterationCallback({iterationCounter:this.iterationCounter,numIterations:c,metadata:o})};if(this.iterationCounter=0,this.getOpt("async")){const y=()=>{this.iterationCounter<c?(p(),setImmediate(y)):d(f())};y()}else{for(;this.iterationCounter<c;)p();d(f())}})}}function Yr(i){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Yr(i)}function eb(i,a){if(Yr(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var o=r.call(i,a);if(Yr(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(i)}function tb(i){var a=eb(i,"string");return Yr(a)=="symbol"?a:a+""}function nb(i,a,r){return(a=tb(a))in i?Object.defineProperty(i,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[a]=r,i}function Ty(i,a){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);a&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),r.push.apply(r,o)}return r}function Ey(i){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Ty(Object(r),!0).forEach(function(o){nb(i,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Ty(Object(r)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(r,o))})}return i}function Kt(i){return"Minified Redux error #"+i+"; visit https://redux.js.org/Errors?code="+i+" for the full message or use the non-minified dev environment for full errors. "}var Ay=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Cy=function(){return Math.random().toString(36).substring(7).split("").join(".")},wy={INIT:"@@redux/INIT"+Cy(),REPLACE:"@@redux/REPLACE"+Cy()};function ab(i){if(typeof i!="object"||i===null)return!1;for(var a=i;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(i)===a}function Ju(i,a,r){var o;if(typeof a=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Kt(0));if(typeof a=="function"&&typeof r>"u"&&(r=a,a=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Kt(1));return r(Ju)(i,a)}if(typeof i!="function")throw new Error(Kt(2));var c=i,f=a,d=[],p=d,y=!1;function m(){p===d&&(p=d.slice())}function x(){if(y)throw new Error(Kt(3));return f}function b(j){if(typeof j!="function")throw new Error(Kt(4));if(y)throw new Error(Kt(5));var B=!0;return m(),p.push(j),function(){if(B){if(y)throw new Error(Kt(6));B=!1,m();var C=p.indexOf(j);p.splice(C,1),d=null}}}function S(j){if(!ab(j))throw new Error(Kt(7));if(typeof j.type>"u")throw new Error(Kt(8));if(y)throw new Error(Kt(9));try{y=!0,f=c(f,j)}finally{y=!1}for(var B=d=p,U=0;U<B.length;U++){var C=B[U];C()}return j}function T(j){if(typeof j!="function")throw new Error(Kt(10));c=j,S({type:wy.REPLACE})}function w(){var j,B=b;return j={subscribe:function(C){if(typeof C!="object"||C===null)throw new Error(Kt(11));function P(){C.next&&C.next(x())}P();var Y=B(P);return{unsubscribe:Y}}},j[Ay]=function(){return this},j}return S({type:wy.INIT}),o={dispatch:S,subscribe:b,getState:x,replaceReducer:T},o[Ay]=w,o}function yg(){for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return a.length===0?function(o){return o}:a.length===1?a[0]:a.reduce(function(o,c){return function(){return o(c.apply(void 0,arguments))}})}function gg(){for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return function(o){return function(){var c=o.apply(void 0,arguments),f=function(){throw new Error(Kt(15))},d={getState:c.getState,dispatch:function(){return f.apply(void 0,arguments)}},p=a.map(function(y){return y(d)});return f=yg.apply(void 0,p)(c.dispatch),Ey(Ey({},c),{},{dispatch:f})}}}function mg({game:i,numPlayers:a,setupData:r}){i=Ro(i),a||(a=2);const o=i.flow.ctx(a);let c={G:{},ctx:o,plugins:{}};c=B0(c,{game:i}),c=Tu(c,{game:i,playerID:void 0});const f=wi(c);c.G=i.setup({...f,ctx:c.ctx},r);let d={...c,_undo:[],_redo:[],_stateID:0};return d=i.flow.init(d),[d]=lg(d,{game:i}),i.disableUndo||(d._undo=[{G:d.G,ctx:d.ctx,plugins:d.plugins}]),d}let Iu=class{constructor({transportDataCallback:a,gameName:r,playerID:o,matchID:c,credentials:f,numPlayers:d}){this.connectionStatusCallback=()=>{},this.isConnected=!1,this.transportDataCallback=a,this.gameName=r||"default",this.playerID=o||null,this.matchID=c||"default",this.credentials=f,this.numPlayers=d||2}subscribeToConnectionStatus(a){this.connectionStatusCallback=a}setConnectionStatus(a){this.isConnected=a,this.connectionStatusCallback()}notifyClient(a){this.transportDataCallback(a)}};class ib extends Iu{connect(){}disconnect(){}sendAction(){}sendChatMessage(){}requestSync(){}updateCredentials(){}updateMatchID(){}updatePlayerID(){}}const rb=i=>new ib(i);class lb{constructor(){this.debugPanel=null,this.currentClient=null,this.clients=new Map,this.subscribers=new Map}register(a){this.clients.set(a,a),this.mountDebug(a),this.notifySubscribers()}unregister(a){if(this.clients.delete(a),this.currentClient===a){this.unmountDebug();for(const[r]of this.clients){if(this.debugPanel)break;this.mountDebug(r)}}this.notifySubscribers()}subscribe(a){const r=Symbol();return this.subscribers.set(r,a),a(this.getState()),()=>{this.subscribers.delete(r)}}switchPlayerID(a){if(this.currentClient.multiplayer){for(const[r]of this.clients)if(r.playerID===a&&r.debugOpt!==!1&&r.multiplayer===this.currentClient.multiplayer){this.switchToClient(r);return}}this.currentClient.updatePlayerID(a),this.notifySubscribers()}switchToClient(a){a!==this.currentClient&&(this.unmountDebug(),this.mountDebug(a),this.notifySubscribers())}notifySubscribers(){const a=this.getState();this.subscribers.forEach(r=>{r(a)})}getState(){return{client:this.currentClient,debuggableClients:this.getDebuggableClients()}}getDebuggableClients(){return[...this.clients.values()].filter(a=>a.debugOpt!==!1)}mountDebug(a){if(a.debugOpt===!1||this.debugPanel!==null||typeof document>"u")return;let r,o=document.body;a.debugOpt&&a.debugOpt!==!0&&(r=a.debugOpt.impl||r,o=a.debugOpt.target||o),r&&(this.currentClient=a,this.debugPanel=new r({target:o,props:{clientManager:this}}))}unmountDebug(){this.debugPanel.$destroy(),this.debugPanel=null,this.currentClient=null}}const ob=new lb;function Cu(i,a,r){return!r&&i==null&&(i=a.getState().ctx.currentPlayer),i}function Wu(i,a,r,o,c,f){const d={};for(const p of a)d[p]=(...y)=>{const m=R0[i](p,y,Cu(o,r,f),c);r.dispatch(m)};return d}const sb=Wu.bind(null,"makeMove"),cb=Wu.bind(null,"gameEvent"),ub=Wu.bind(null,"plugin");class fb{constructor({game:a,debug:r,numPlayers:o,multiplayer:c,matchID:f,playerID:d,credentials:p,enhancer:y}){this.game=Ro(a),this.playerID=d,this.matchID=f||"default",this.credentials=p,this.multiplayer=c,this.debugOpt=r,this.manager=ob,this.gameStateOverride=null,this.subscribers={},this._running=!1,this.reducer=Gu({game:this.game,isClient:c!==void 0}),this.initialState=null,c||(this.initialState=mg({game:this.game,numPlayers:o})),this.reset=()=>{this.store.dispatch(tg(this.initialState))},this.undo=()=>{const T=ng(Cu(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(T)},this.redo=()=>{const T=ag(Cu(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(T)},this.log=[];const S=gg(pg,()=>T=>w=>{const j=T(w);return this.notifySubscribers(),j},T=>w=>j=>{const B=T.getState(),U=w(j);return!("clientOnly"in j)&&j.type!==Mo&&this.transport.sendAction(B,j),U},T=>w=>j=>{const B=w(j),U=T.getState();switch(j.type){case qr:case Co:case Oo:case wo:{const C=U.deltalog;this.log=[...this.log,...C];break}case Vu:{this.log=[];break}case Zu:case Qu:{let C=-1;this.log.length>0&&(C=this.log[this.log.length-1]._stateID);let P=j.deltalog||[];P=P.filter(Y=>Y._stateID>C),this.log=[...this.log,...P];break}case Xu:{this.initialState=j.initialState,this.log=j.log||[];break}}return B});y=y!==void 0?yg(S,y):S,this.store=Ju(this.reducer,this.initialState,y),c||(c=rb),this.transport=c({transportDataCallback:T=>this.receiveTransportData(T),gameKey:a,game:this.game,matchID:f,playerID:d,credentials:p,gameName:this.game.name,numPlayers:o}),this.createDispatchers(),this.chatMessages=[],this.sendChatMessage=T=>{this.transport.sendChatMessage(this.matchID,{id:d0(7),sender:this.playerID,payload:T})}}receiveMatchData(a){this.matchData=a,this.notifySubscribers()}receiveChatMessage(a){this.chatMessages=[...this.chatMessages,a],this.notifySubscribers()}receiveTransportData(a){const[r]=a.args;if(r===this.matchID)switch(a.type){case"sync":{const[,o]=a.args,c=Wy(o);this.receiveMatchData(o.filteredMetadata),this.store.dispatch(c);break}case"update":{const[,o,c]=a.args,f=this.store.getState();if(o._stateID>=f._stateID){const d=eg(o,c);this.store.dispatch(d)}break}case"patch":{const[,o,c,f,d]=a.args,p=this.store.getState()._stateID;if(o!==p)break;const y=Fy(o,c,f,d);this.store.dispatch(y),this.store.getState()._stateID===p&&this.transport.requestSync();break}case"matchData":{const[,o]=a.args;this.receiveMatchData(o);break}case"chat":{const[,o]=a.args;this.receiveChatMessage(o);break}}}notifySubscribers(){Object.values(this.subscribers).forEach(a=>a(this.getState()))}overrideGameState(a){this.gameStateOverride=a,this.notifySubscribers()}start(){this.transport.connect(),this._running=!0,this.manager.register(this)}stop(){this.transport.disconnect(),this._running=!1,this.manager.unregister(this)}subscribe(a){const r=Object.keys(this.subscribers).length;return this.subscribers[r]=a,this.transport.subscribeToConnectionStatus(()=>this.notifySubscribers()),(this._running||!this.multiplayer)&&a(this.getState()),()=>{delete this.subscribers[r]}}getInitialState(){return this.initialState}getState(){let a=this.store.getState();if(this.gameStateOverride!==null&&(a=this.gameStateOverride),a===null)return a;let r=!0;const o=this.game.flow.isPlayerActive(a.G,a.ctx,this.playerID);return this.multiplayer&&!o&&(r=!1),!this.multiplayer&&this.playerID!==null&&this.playerID!==void 0&&!o&&(r=!1),a.ctx.gameover!==void 0&&(r=!1),this.multiplayer||(a={...a,G:this.game.playerView({G:a.G,ctx:a.ctx,playerID:this.playerID}),plugins:og(a,this)}),{...a,log:this.log,isActive:r,isConnected:this.transport.isConnected}}createDispatchers(){this.moves=sb(this.game.moveNames,this.store,this.playerID,this.credentials,this.multiplayer),this.events=cb(this.game.flow.enabledEventNames,this.store,this.playerID,this.credentials,this.multiplayer),this.plugins=ub(this.game.pluginNames,this.store,this.playerID,this.credentials,this.multiplayer)}updatePlayerID(a){this.playerID=a,this.createDispatchers(),this.transport.updatePlayerID(a),this.notifySubscribers()}updateMatchID(a){this.matchID=a,this.createDispatchers(),this.transport.updateMatchID(a),this.notifySubscribers()}updateCredentials(a){this.credentials=a,this.createDispatchers(),this.transport.updateCredentials(a),this.notifySubscribers()}}function db(i){return new fb(i)}const vg=(i,a)=>{if(!i||typeof i!="string")throw new Error(`Expected ${a} string, got "${i}".`)},ka=i=>vg(i,"game name"),Rr=i=>vg(i,"match ID"),Dr=(i,a)=>{if(!i)throw new Error(`Expected body, got ${i}.`);for(const r in a){const o=a[r],c=Array.isArray(o)?o:[o],f=i[r];if(!c.includes(typeof f)){const d=c.join("|");throw new TypeError(`Expected body.${r} to be of type ${d}, got ${f}.`)}}};class hb extends Error{constructor(a,r){super(a),this.details=r}}class pb{constructor({server:a=""}={}){this.server=a.replace(/\/$/,"")}async request(a,r){const o=await fetch(this.server+a,r);if(!o.ok){let c;try{c=await o.clone().json()}catch{try{c=await o.text()}catch(f){c=f.message}}throw new hb(`HTTP status ${o.status}`,c)}return o.json()}async post(a,r){let o={method:"post",body:JSON.stringify(r.body),headers:{"Content-Type":"application/json"}};return r.init&&(o={...o,...r.init,headers:{...o.headers,...r.init.headers}}),this.request(a,o)}async listGames(a){return this.request("/games",a)}async listMatches(a,r,o){ka(a);let c="";if(r){const f=[],{isGameover:d,updatedBefore:p,updatedAfter:y}=r;d!==void 0&&f.push(`isGameover=${d}`),p&&f.push(`updatedBefore=${p}`),y&&f.push(`updatedAfter=${y}`),f.length>0&&(c="?"+f.join("&"))}return this.request(`/games/${a}${c}`,o)}async getMatch(a,r,o){return ka(a),Rr(r),this.request(`/games/${a}/${r}`,o)}async createMatch(a,r,o){return ka(a),Dr(r,{numPlayers:"number"}),this.post(`/games/${a}/create`,{body:r,init:o})}async joinMatch(a,r,o,c){return ka(a),Rr(r),Dr(o,{playerID:["string","undefined"],playerName:"string"}),this.post(`/games/${a}/${r}/join`,{body:o,init:c})}async leaveMatch(a,r,o,c){ka(a),Rr(r),Dr(o,{playerID:"string",credentials:"string"}),await this.post(`/games/${a}/${r}/leave`,{body:o,init:c})}async updatePlayer(a,r,o,c){ka(a),Rr(r),Dr(o,{playerID:"string",credentials:"string"}),await this.post(`/games/${a}/${r}/update`,{body:o,init:c})}async playAgain(a,r,o,c){return ka(a),Rr(r),Dr(o,{playerID:"string",credentials:"string"}),this.post(`/games/${a}/${r}/playAgain`,{body:o,init:c})}}var su={exports:{}},cu,Oy;function yb(){if(Oy)return cu;Oy=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return cu=i,cu}var uu,My;function gb(){if(My)return uu;My=1;var i=yb();function a(){}function r(){}return r.resetWarningCache=a,uu=function(){function o(d,p,y,m,x,b){if(b!==i){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}o.isRequired=o;function c(){return o}var f={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:c,element:o,elementType:o,instanceOf:c,node:o,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:r,resetWarningCache:a};return f.PropTypes=f,f},uu}var Ry;function mb(){return Ry||(Ry=1,su.exports=gb()()),su.exports}var vb=mb();const Sn=Pu(vb);var pn={},lo={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Dy;function bb(){if(Dy)return lo;Dy=1,lo.parse=c,lo.serialize=f;var i=decodeURIComponent,a=encodeURIComponent,r=/; */,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function c(p,y){if(typeof p!="string")throw new TypeError("argument str must be a string");for(var m={},x=y||{},b=p.split(r),S=x.decode||i,T=0;T<b.length;T++){var w=b[T],j=w.indexOf("=");if(!(j<0)){var B=w.substr(0,j).trim(),U=w.substr(++j,w.length).trim();U[0]=='"'&&(U=U.slice(1,-1)),m[B]==null&&(m[B]=d(U,S))}}return m}function f(p,y,m){var x=m||{},b=x.encode||a;if(typeof b!="function")throw new TypeError("option encode is invalid");if(!o.test(p))throw new TypeError("argument name is invalid");var S=b(y);if(S&&!o.test(S))throw new TypeError("argument val is invalid");var T=p+"="+S;if(x.maxAge!=null){var w=x.maxAge-0;if(isNaN(w))throw new Error("maxAge should be a Number");T+="; Max-Age="+Math.floor(w)}if(x.domain){if(!o.test(x.domain))throw new TypeError("option domain is invalid");T+="; Domain="+x.domain}if(x.path){if(!o.test(x.path))throw new TypeError("option path is invalid");T+="; Path="+x.path}if(x.expires){if(typeof x.expires.toUTCString!="function")throw new TypeError("option expires is invalid");T+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(T+="; HttpOnly"),x.secure&&(T+="; Secure"),x.sameSite){var j=typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite;switch(j){case!0:T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"strict":T+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return T}function d(p,y){try{return y(p)}catch{return p}}return lo}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var fu,jy;function xb(){if(jy)return fu;jy=1;var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(f){if(f==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(f)}function c(){try{if(!Object.assign)return!1;var f=new String("abc");if(f[5]="de",Object.getOwnPropertyNames(f)[0]==="5")return!1;for(var d={},p=0;p<10;p++)d["_"+String.fromCharCode(p)]=p;var y=Object.getOwnPropertyNames(d).map(function(x){return d[x]});if(y.join("")!=="0123456789")return!1;var m={};return"abcdefghijklmnopqrst".split("").forEach(function(x){m[x]=x}),Object.keys(Object.assign({},m)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return fu=c()?Object.assign:function(f,d){for(var p,y=o(f),m,x=1;x<arguments.length;x++){p=Object(arguments[x]);for(var b in p)a.call(p,b)&&(y[b]=p[b]);if(i){m=i(p);for(var S=0;S<m.length;S++)r.call(p,m[S])&&(y[m[S]]=p[m[S]])}}return y},fu}var ky;function _b(){if(ky)return pn;ky=1;var i={};Object.defineProperty(pn,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};pn.load=b,pn.loadAll=S,pn.select=T,pn.save=w,pn.remove=j,pn.setRawCookie=B,pn.plugToRequest=U;var r=bb(),o=d(r),c=xb(),f=d(c);function d(C){return C&&C.__esModule?C:{default:C}}var p=typeof document>"u"||typeof process<"u"&&i&&!1,y={},m=void 0;function x(){return m&&!m.headersSent}function b(C,P){var Y=p?y:o.default.parse(document.cookie),Q=Y&&Y[C];if(typeof P>"u"&&(P=!Q||Q[0]!=="{"&&Q[0]!=="["),!P)try{Q=JSON.parse(Q)}catch{}return Q}function S(C){var P=p?y:o.default.parse(document.cookie),Y=P;if(typeof C>"u"&&(C=!Y||Y[0]!=="{"&&Y[0]!=="["),!C)try{Y=JSON.parse(Y)}catch{}return Y}function T(C){var P=p?y:o.default.parse(document.cookie);return P?C?Object.keys(P).reduce(function(Y,Q){if(!C.test(Q))return Y;var me={};return me[Q]=P[Q],(0,f.default)({},Y,me)},{}):P:{}}function w(C,P,Y){y[C]=P,(typeof P>"u"?"undefined":a(P))==="object"&&(y[C]=JSON.stringify(P)),p||(document.cookie=o.default.serialize(C,y[C],Y)),x()&&m.cookie&&m.cookie(C,P,Y)}function j(C,P){delete y[C],typeof P>"u"?P={}:typeof P=="string"?P={path:P}:P=(0,f.default)({},P),typeof document<"u"&&(P.expires=new Date(1970,1,1,0,0,1),P.maxAge=0,document.cookie=o.default.serialize(C,"",P)),x()&&m.clearCookie&&m.clearCookie(C,P)}function B(C){C?y=o.default.parse(C):y={}}function U(C,P){return C.cookie?y=C.cookie:C.cookies?y=C.cookies:C.headers&&C.headers.cookie?B(C.headers.cookie):y={},m=P,function(){m=null,y={}}}return pn.default={setRawCookie:B,load:b,loadAll:S,select:T,save:w,remove:j,plugToRequest:U},pn}var Sb=_b();const Py=Pu(Sb);var Eo;(function(i){i[i.SYNC=0]="SYNC",i[i.ASYNC=1]="ASYNC"})(Eo||(Eo={}));function Pa(i){return i.type()===Eo.SYNC}class Tb{type(){return Eo.SYNC}connect(){}createMatch(a,r){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(a,r);console.error("The database connector does not implement a createMatch method.")}listMatches(a){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(a);console.error("The database connector does not implement a listMatches method.")}}const Eb=({game:i,unlisted:a,setupData:r,numPlayers:o})=>{const c={gameName:i.name,unlisted:!0,players:{},createdAt:Date.now(),updatedAt:Date.now()};for(let f=0;f<o;f++)c.players[f]={id:f};return c},Ab=({game:i,numPlayers:a,setupData:r,unlisted:o})=>{(!a||typeof a!="number")&&(a=2);const c=i.validateSetupData&&i.validateSetupData(r,a);if(c!==void 0)return{setupDataError:c};const f=Eb({game:i,numPlayers:a,setupData:r,unlisted:o}),d=mg({game:i,numPlayers:a,setupData:r});return{metadata:f,initialState:d}},Ny=i=>Object.values(i.players).map(a=>{const{credentials:r,...o}=a;return o}),Cb=i=>{const{credentials:a,...r}=i.payload;return{...i,payload:r}};class wb{constructor(a,r,o,c){this.game=Ro(a),this.storageAPI=r,this.transportAPI=o,this.subscribeCallback=()=>{},this.auth=c}subscribe(a){this.subscribeCallback=a}async onUpdate(a,r,o,c){if(!a||!a.payload)return{error:"missing action or action payload"};let f;if(Pa(this.storageAPI)?{metadata:f}=this.storageAPI.fetch(o,{metadata:!0}):{metadata:f}=await this.storageAPI.fetch(o,{metadata:!0}),this.auth&&!await this.auth.authenticateCredentials({playerID:c,credentials:a.payload.credentials,metadata:f}))return{error:"unauthorized action"};const d=Cb(a),p=o;let y;if(Pa(this.storageAPI)?{state:y}=this.storageAPI.fetch(p,{state:!0}):{state:y}=await this.storageAPI.fetch(p,{state:!0}),y===void 0)return je(`game not found, matchID=[${p}]`),{error:"game not found"};if(y.ctx.gameover!==void 0){je(`game over - matchID=[${p}] - playerID=[${c}] - action[${d.payload.type}]`);return}const m=Gu({game:this.game}),x=gg(pg),b=Ju(m,y,x);if(d.type==Oo||d.type==wo){const U=y.ctx.activePlayers!==null,C=y.ctx.currentPlayer===c;if(!U&&!C||U&&(y.ctx.activePlayers[c]===void 0||Object.keys(y.ctx.activePlayers).length>1)){je(`playerID=[${c}] cannot undo / redo right now`);return}}if(!this.game.flow.isPlayerActive(y.G,y.ctx,c)){je(`player not active - playerID=[${c}] - action[${d.payload.type}]`);return}const S=d.type==qr?this.game.flow.getMove(y.ctx,d.payload.type,c):null;if(d.type==qr&&!S){je(`move not processed - canPlayerMakeMove=false - playerID=[${c}] - action[${d.payload.type}]`);return}if(y._stateID!==r&&!(S&&dg(S)&&S.ignoreStaleStateID)){je(`invalid stateID, was=[${r}], expected=[${y._stateID}] - playerID=[${c}] - action[${d.payload.type}]`);return}const T=b.getState();b.dispatch(d),y=b.getState(),this.subscribeCallback({state:y,action:d,matchID:o}),this.game.deltaState?this.transportAPI.sendAll({type:"patch",args:[o,r,T,y]}):this.transportAPI.sendAll({type:"update",args:[o,y]});const{deltalog:w,...j}=y;let B;if(f&&(f.gameover===void 0||f.gameover===null)&&(B={...f,updatedAt:Date.now()},y.ctx.gameover!==void 0&&(B.gameover=y.ctx.gameover)),Pa(this.storageAPI))this.storageAPI.setState(p,j,w),B&&this.storageAPI.setMetadata(p,B);else{const U=[this.storageAPI.setState(p,j,w)];B&&U.push(this.storageAPI.setMetadata(p,B)),await Promise.all(U)}}async onSync(a,r,o,c=2){const f=a,d={state:!0,metadata:!0,log:!0,initialState:!0},p=Pa(this.storageAPI)?this.storageAPI.fetch(f,d):await this.storageAPI.fetch(f,d);let{state:y,initialState:m,log:x,metadata:b}=p;if(this.auth&&r!==void 0&&r!==null&&!await this.auth.authenticateCredentials({playerID:r,credentials:o,metadata:b}))return{error:"unauthorized"};if(y===void 0){const w=Ab({game:this.game,unlisted:!0,numPlayers:c,setupData:void 0});if("setupDataError"in w)return{error:"game requires setupData"};m=y=w.initialState,b=w.metadata,this.subscribeCallback({state:y,matchID:a}),Pa(this.storageAPI)?this.storageAPI.createMatch(f,{initialState:m,metadata:b}):await this.storageAPI.createMatch(f,{initialState:m,metadata:b})}const S=b?Ny(b):void 0,T={state:y,log:x,filteredMetadata:S,initialState:m};this.transportAPI.send({playerID:r,type:"sync",args:[a,T]})}async onConnectionChange(a,r,o,c){const f=a;if(r==null)return;let d;if(Pa(this.storageAPI)?{metadata:d}=this.storageAPI.fetch(f,{metadata:!0}):{metadata:d}=await this.storageAPI.fetch(f,{metadata:!0}),d===void 0)return je(`metadata not found for matchID=[${f}]`),{error:"metadata not found"};if(d.players[r]===void 0)return je(`Player not in the match, matchID=[${f}] playerID=[${r}]`),{error:"player not in the match"};if(this.auth&&!await this.auth.authenticateCredentials({playerID:r,credentials:o,metadata:d}))return{error:"unauthorized"};d.players[r].isConnected=c;const p=Ny(d);this.transportAPI.sendAll({type:"matchData",args:[a,p]}),Pa(this.storageAPI)?this.storageAPI.setMetadata(f,d):await this.storageAPI.setMetadata(f,d)}async onChatMessage(a,r,o){const c=a;if(this.auth){const{metadata:f}=await this.storageAPI.fetch(c,{metadata:!0});if(!(r&&typeof r.sender=="string"))return{error:"unauthorized"};if(!await this.auth.authenticateCredentials({playerID:r.sender,credentials:o,metadata:f}))return{error:"unauthorized"}}this.transportAPI.sendAll({type:"chat",args:[a,r]})}}const oo=(i,a,r)=>({...r,G:i.playerView({G:r.G,ctx:r.ctx,playerID:a}),plugins:og(r,{playerID:a,game:i}),deltalog:void 0,_undo:[],_redo:[]}),Ob=i=>(a,r)=>{switch(r.type){case"patch":{const[o,c,f,d]=r.args,p=du(d.deltalog,a),y=oo(i,a,d),m=d._stateID,x=oo(i,a,f),b=fg.createPatch(x,y);return{type:"patch",args:[o,c,m,b,p]}}case"update":{const[o,c]=r.args,f=du(c.deltalog,a),d=oo(i,a,c);return{type:"update",args:[o,d,f]}}case"sync":{const[o,c]=r.args,f=oo(i,a,c.state),d=du(c.log,a),p={...c,state:f,log:d};return{type:"sync",args:[o,p]}}default:return r}};function du(i,a){return i===void 0?i:i.map(r=>{if(a!==null&&+a==+r.action.payload.playerID||r.redact!==!0)return r;const o={...r.action.payload,args:null},c={...r,action:{...r.action,payload:o}},{redact:f,...d}=c;return d})}const An=Object.create(null);An.open="0";An.close="1";An.ping="2";An.pong="3";An.message="4";An.upgrade="5";An.noop="6";const po=Object.create(null);Object.keys(An).forEach(i=>{po[An[i]]=i});const wu={type:"error",data:"parser error"},bg=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",xg=typeof ArrayBuffer=="function",_g=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,Fu=({type:i,data:a},r,o)=>bg&&a instanceof Blob?r?o(a):zy(a,o):xg&&(a instanceof ArrayBuffer||_g(a))?r?o(a):zy(new Blob([a]),o):o(An[i]+(a||"")),zy=(i,a)=>{const r=new FileReader;return r.onload=function(){const o=r.result.split(",")[1];a("b"+(o||""))},r.readAsDataURL(i)};function By(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}let hu;function Mb(i,a){if(bg&&i.data instanceof Blob)return i.data.arrayBuffer().then(By).then(a);if(xg&&(i.data instanceof ArrayBuffer||_g(i.data)))return a(By(i.data));Fu(i,!1,r=>{hu||(hu=new TextEncoder),a(hu.encode(r))})}const Ly="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<Ly.length;i++)zr[Ly.charCodeAt(i)]=i;const Rb=i=>{let a=i.length*.75,r=i.length,o,c=0,f,d,p,y;i[i.length-1]==="="&&(a--,i[i.length-2]==="="&&a--);const m=new ArrayBuffer(a),x=new Uint8Array(m);for(o=0;o<r;o+=4)f=zr[i.charCodeAt(o)],d=zr[i.charCodeAt(o+1)],p=zr[i.charCodeAt(o+2)],y=zr[i.charCodeAt(o+3)],x[c++]=f<<2|d>>4,x[c++]=(d&15)<<4|p>>2,x[c++]=(p&3)<<6|y&63;return m},Db=typeof ArrayBuffer=="function",ef=(i,a)=>{if(typeof i!="string")return{type:"message",data:Sg(i,a)};const r=i.charAt(0);return r==="b"?{type:"message",data:jb(i.substring(1),a)}:po[r]?i.length>1?{type:po[r],data:i.substring(1)}:{type:po[r]}:wu},jb=(i,a)=>{if(Db){const r=Rb(i);return Sg(r,a)}else return{base64:!0,data:i}},Sg=(i,a)=>{switch(a){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}},Tg="",kb=(i,a)=>{const r=i.length,o=new Array(r);let c=0;i.forEach((f,d)=>{Fu(f,!1,p=>{o[d]=p,++c===r&&a(o.join(Tg))})})},Pb=(i,a)=>{const r=i.split(Tg),o=[];for(let c=0;c<r.length;c++){const f=ef(r[c],a);if(o.push(f),f.type==="error")break}return o};function Nb(){return new TransformStream({transform(i,a){Mb(i,r=>{const o=r.length;let c;if(o<126)c=new Uint8Array(1),new DataView(c.buffer).setUint8(0,o);else if(o<65536){c=new Uint8Array(3);const f=new DataView(c.buffer);f.setUint8(0,126),f.setUint16(1,o)}else{c=new Uint8Array(9);const f=new DataView(c.buffer);f.setUint8(0,127),f.setBigUint64(1,BigInt(o))}i.data&&typeof i.data!="string"&&(c[0]|=128),a.enqueue(c),a.enqueue(r)})}})}let pu;function so(i){return i.reduce((a,r)=>a+r.length,0)}function co(i,a){if(i[0].length===a)return i.shift();const r=new Uint8Array(a);let o=0;for(let c=0;c<a;c++)r[c]=i[0][o++],o===i[0].length&&(i.shift(),o=0);return i.length&&o<i[0].length&&(i[0]=i[0].slice(o)),r}function zb(i,a){pu||(pu=new TextDecoder);const r=[];let o=0,c=-1,f=!1;return new TransformStream({transform(d,p){for(r.push(d);;){if(o===0){if(so(r)<1)break;const y=co(r,1);f=(y[0]&128)===128,c=y[0]&127,c<126?o=3:c===126?o=1:o=2}else if(o===1){if(so(r)<2)break;const y=co(r,2);c=new DataView(y.buffer,y.byteOffset,y.length).getUint16(0),o=3}else if(o===2){if(so(r)<8)break;const y=co(r,8),m=new DataView(y.buffer,y.byteOffset,y.length),x=m.getUint32(0);if(x>Math.pow(2,21)-1){p.enqueue(wu);break}c=x*Math.pow(2,32)+m.getUint32(4),o=3}else{if(so(r)<c)break;const y=co(r,c);p.enqueue(ef(f?y:pu.decode(y),a)),o=0}if(c===0||c>i){p.enqueue(wu);break}}}})}const Eg=4;function nt(i){if(i)return Bb(i)}function Bb(i){for(var a in nt.prototype)i[a]=nt.prototype[a];return i}nt.prototype.on=nt.prototype.addEventListener=function(i,a){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(a),this};nt.prototype.once=function(i,a){function r(){this.off(i,r),a.apply(this,arguments)}return r.fn=a,this.on(i,r),this};nt.prototype.off=nt.prototype.removeListener=nt.prototype.removeAllListeners=nt.prototype.removeEventListener=function(i,a){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+i];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var o,c=0;c<r.length;c++)if(o=r[c],o===a||o.fn===a){r.splice(c,1);break}return r.length===0&&delete this._callbacks["$"+i],this};nt.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var a=new Array(arguments.length-1),r=this._callbacks["$"+i],o=1;o<arguments.length;o++)a[o-1]=arguments[o];if(r){r=r.slice(0);for(var o=0,c=r.length;o<c;++o)r[o].apply(this,a)}return this};nt.prototype.emitReserved=nt.prototype.emit;nt.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};nt.prototype.hasListeners=function(i){return!!this.listeners(i).length};const Do=typeof Promise=="function"&&typeof Promise.resolve=="function"?a=>Promise.resolve().then(a):(a,r)=>r(a,0),on=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Lb="arraybuffer";function Ag(i,...a){return a.reduce((r,o)=>(i.hasOwnProperty(o)&&(r[o]=i[o]),r),{})}const Ub=on.setTimeout,Hb=on.clearTimeout;function jo(i,a){a.useNativeTimers?(i.setTimeoutFn=Ub.bind(on),i.clearTimeoutFn=Hb.bind(on)):(i.setTimeoutFn=on.setTimeout.bind(on),i.clearTimeoutFn=on.clearTimeout.bind(on))}const qb=1.33;function Yb(i){return typeof i=="string"?Vb(i):Math.ceil((i.byteLength||i.size)*qb)}function Vb(i){let a=0,r=0;for(let o=0,c=i.length;o<c;o++)a=i.charCodeAt(o),a<128?r+=1:a<2048?r+=2:a<55296||a>=57344?r+=3:(o++,r+=4);return r}function Cg(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Xb(i){let a="";for(let r in i)i.hasOwnProperty(r)&&(a.length&&(a+="&"),a+=encodeURIComponent(r)+"="+encodeURIComponent(i[r]));return a}function Qb(i){let a={},r=i.split("&");for(let o=0,c=r.length;o<c;o++){let f=r[o].split("=");a[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return a}class Zb extends Error{constructor(a,r,o){super(a),this.description=r,this.context=o,this.type="TransportError"}}class tf extends nt{constructor(a){super(),this.writable=!1,jo(this,a),this.opts=a,this.query=a.query,this.socket=a.socket,this.supportsBinary=!a.forceBase64}onError(a,r,o){return super.emitReserved("error",new Zb(a,r,o)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(a){this.readyState==="open"&&this.write(a)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(a){const r=ef(a,this.socket.binaryType);this.onPacket(r)}onPacket(a){super.emitReserved("packet",a)}onClose(a){this.readyState="closed",super.emitReserved("close",a)}pause(a){}createUri(a,r={}){return a+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const a=this.opts.hostname;return a.indexOf(":")===-1?a:"["+a+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(a){const r=Xb(a);return r.length?"?"+r:""}}class Kb extends tf{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(a){this.readyState="pausing";const r=()=>{this.readyState="paused",a()};if(this._polling||!this.writable){let o=0;this._polling&&(o++,this.once("pollComplete",function(){--o||r()})),this.writable||(o++,this.once("drain",function(){--o||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(a){const r=o=>{if(this.readyState==="opening"&&o.type==="open"&&this.onOpen(),o.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(o)};Pb(a,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const a=()=>{this.write([{type:"close"}])};this.readyState==="open"?a():this.once("open",a)}write(a){this.writable=!1,kb(a,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const a=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Cg()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(a,r)}}let wg=!1;try{wg=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const $b=wg;function Gb(){}class Jb extends Kb{constructor(a){if(super(a),typeof location<"u"){const r=location.protocol==="https:";let o=location.port;o||(o=r?"443":"80"),this.xd=typeof location<"u"&&a.hostname!==location.hostname||o!==a.port}}doWrite(a,r){const o=this.request({method:"POST",data:a});o.on("success",r),o.on("error",(c,f)=>{this.onError("xhr post error",c,f)})}doPoll(){const a=this.request();a.on("data",this.onData.bind(this)),a.on("error",(r,o)=>{this.onError("xhr poll error",r,o)}),this.pollXhr=a}}class En extends nt{constructor(a,r,o){super(),this.createRequest=a,jo(this,o),this._opts=o,this._method=o.method||"GET",this._uri=r,this._data=o.data!==void 0?o.data:null,this._create()}_create(){var a;const r=Ag(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const o=this._xhr=this.createRequest(r);try{o.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let c in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(c)&&o.setRequestHeader(c,this._opts.extraHeaders[c])}}catch{}if(this._method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}(a=this._opts.cookieJar)===null||a===void 0||a.addCookies(o),"withCredentials"in o&&(o.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(o.timeout=this._opts.requestTimeout),o.onreadystatechange=()=>{var c;o.readyState===3&&((c=this._opts.cookieJar)===null||c===void 0||c.parseCookies(o.getResponseHeader("set-cookie"))),o.readyState===4&&(o.status===200||o.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof o.status=="number"?o.status:0)},0))},o.send(this._data)}catch(c){this.setTimeoutFn(()=>{this._onError(c)},0);return}typeof document<"u"&&(this._index=En.requestsCount++,En.requests[this._index]=this)}_onError(a){this.emitReserved("error",a,this._xhr),this._cleanup(!0)}_cleanup(a){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Gb,a)try{this._xhr.abort()}catch{}typeof document<"u"&&delete En.requests[this._index],this._xhr=null}}_onLoad(){const a=this._xhr.responseText;a!==null&&(this.emitReserved("data",a),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}En.requestsCount=0;En.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Uy);else if(typeof addEventListener=="function"){const i="onpagehide"in on?"pagehide":"unload";addEventListener(i,Uy,!1)}}function Uy(){for(let i in En.requests)En.requests.hasOwnProperty(i)&&En.requests[i].abort()}const Ib=function(){const i=Og({xdomain:!1});return i&&i.responseType!==null}();class Wb extends Jb{constructor(a){super(a);const r=a&&a.forceBase64;this.supportsBinary=Ib&&!r}request(a={}){return Object.assign(a,{xd:this.xd},this.opts),new En(Og,this.uri(),a)}}function Og(i){const a=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!a||$b))return new XMLHttpRequest}catch{}if(!a)try{return new on[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Mg=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Fb extends tf{get name(){return"websocket"}doOpen(){const a=this.uri(),r=this.opts.protocols,o=Mg?{}:Ag(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(a,r,o)}catch(c){return this.emitReserved("error",c)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=a=>this.onClose({description:"websocket connection closed",context:a}),this.ws.onmessage=a=>this.onData(a.data),this.ws.onerror=a=>this.onError("websocket error",a)}write(a){this.writable=!1;for(let r=0;r<a.length;r++){const o=a[r],c=r===a.length-1;Fu(o,this.supportsBinary,f=>{try{this.doWrite(o,f)}catch{}c&&Do(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const a=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Cg()),this.supportsBinary||(r.b64=1),this.createUri(a,r)}}const yu=on.WebSocket||on.MozWebSocket;class ex extends Fb{createSocket(a,r,o){return Mg?new yu(a,r,o):r?new yu(a,r):new yu(a)}doWrite(a,r){this.ws.send(r)}}class tx extends tf{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(a){return this.emitReserved("error",a)}this._transport.closed.then(()=>{this.onClose()}).catch(a=>{this.onError("webtransport error",a)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(a=>{const r=zb(Number.MAX_SAFE_INTEGER,this.socket.binaryType),o=a.readable.pipeThrough(r).getReader(),c=Nb();c.readable.pipeTo(a.writable),this._writer=c.writable.getWriter();const f=()=>{o.read().then(({done:p,value:y})=>{p||(this.onPacket(y),f())}).catch(p=>{})};f();const d={type:"open"};this.query.sid&&(d.data=`{"sid":"${this.query.sid}"}`),this._writer.write(d).then(()=>this.onOpen())})})}write(a){this.writable=!1;for(let r=0;r<a.length;r++){const o=a[r],c=r===a.length-1;this._writer.write(o).then(()=>{c&&Do(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var a;(a=this._transport)===null||a===void 0||a.close()}}const nx={websocket:ex,webtransport:tx,polling:Wb},ax=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ix=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ou(i){if(i.length>8e3)throw"URI too long";const a=i,r=i.indexOf("["),o=i.indexOf("]");r!=-1&&o!=-1&&(i=i.substring(0,r)+i.substring(r,o).replace(/:/g,";")+i.substring(o,i.length));let c=ax.exec(i||""),f={},d=14;for(;d--;)f[ix[d]]=c[d]||"";return r!=-1&&o!=-1&&(f.source=a,f.host=f.host.substring(1,f.host.length-1).replace(/;/g,":"),f.authority=f.authority.replace("[","").replace("]","").replace(/;/g,":"),f.ipv6uri=!0),f.pathNames=rx(f,f.path),f.queryKey=lx(f,f.query),f}function rx(i,a){const r=/\/{2,9}/g,o=a.replace(r,"/").split("/");return(a.slice(0,1)=="/"||a.length===0)&&o.splice(0,1),a.slice(-1)=="/"&&o.splice(o.length-1,1),o}function lx(i,a){const r={};return a.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(o,c,f){c&&(r[c]=f)}),r}const Mu=typeof addEventListener=="function"&&typeof removeEventListener=="function",yo=[];Mu&&addEventListener("offline",()=>{yo.forEach(i=>i())},!1);class pa extends nt{constructor(a,r){if(super(),this.binaryType=Lb,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,a&&typeof a=="object"&&(r=a,a=null),a){const o=Ou(a);r.hostname=o.host,r.secure=o.protocol==="https"||o.protocol==="wss",r.port=o.port,o.query&&(r.query=o.query)}else r.host&&(r.hostname=Ou(r.host).host);jo(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(o=>{const c=o.prototype.name;this.transports.push(c),this._transportsByName[c]=o}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Qb(this.opts.query)),Mu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},yo.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(a){const r=Object.assign({},this.opts.query);r.EIO=Eg,r.transport=a,this.id&&(r.sid=this.id);const o=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[a]);return new this._transportsByName[a](o)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const a=this.opts.rememberUpgrade&&pa.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(a);r.open(),this.setTransport(r)}setTransport(a){this.transport&&this.transport.removeAllListeners(),this.transport=a,a.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",pa.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",a),this.emitReserved("heartbeat"),a.type){case"open":this.onHandshake(JSON.parse(a.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=a.data,this._onError(r);break;case"message":this.emitReserved("data",a.data),this.emitReserved("message",a.data);break}}onHandshake(a){this.emitReserved("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this._pingInterval=a.pingInterval,this._pingTimeout=a.pingTimeout,this._maxPayload=a.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const a=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+a,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},a),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const a=this._getWritablePackets();this.transport.send(a),this._prevBufferLen=a.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let o=0;o<this.writeBuffer.length;o++){const c=this.writeBuffer[o].data;if(c&&(r+=Yb(c)),o>0&&r>this._maxPayload)return this.writeBuffer.slice(0,o);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const a=Date.now()>this._pingTimeoutTime;return a&&(this._pingTimeoutTime=0,Do(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),a}write(a,r,o){return this._sendPacket("message",a,r,o),this}send(a,r,o){return this._sendPacket("message",a,r,o),this}_sendPacket(a,r,o,c){if(typeof r=="function"&&(c=r,r=void 0),typeof o=="function"&&(c=o,o=null),this.readyState==="closing"||this.readyState==="closed")return;o=o||{},o.compress=o.compress!==!1;const f={type:a,data:r,options:o};this.emitReserved("packetCreate",f),this.writeBuffer.push(f),c&&this.once("flush",c),this.flush()}close(){const a=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),a()},o=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():a()}):this.upgrading?o():a()),this}_onError(a){if(pa.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",a),this._onClose("transport error",a)}_onClose(a,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Mu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const o=yo.indexOf(this._offlineEventListener);o!==-1&&yo.splice(o,1)}this.readyState="closed",this.id=null,this.emitReserved("close",a,r),this.writeBuffer=[],this._prevBufferLen=0}}}pa.protocol=Eg;class ox extends pa{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let a=0;a<this._upgrades.length;a++)this._probe(this._upgrades[a])}_probe(a){let r=this.createTransport(a),o=!1;pa.priorWebsocketSuccess=!1;const c=()=>{o||(r.send([{type:"ping",data:"probe"}]),r.once("packet",b=>{if(!o)if(b.type==="pong"&&b.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;pa.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{o||this.readyState!=="closed"&&(x(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const S=new Error("probe error");S.transport=r.name,this.emitReserved("upgradeError",S)}}))};function f(){o||(o=!0,x(),r.close(),r=null)}const d=b=>{const S=new Error("probe error: "+b);S.transport=r.name,f(),this.emitReserved("upgradeError",S)};function p(){d("transport closed")}function y(){d("socket closed")}function m(b){r&&b.name!==r.name&&f()}const x=()=>{r.removeListener("open",c),r.removeListener("error",d),r.removeListener("close",p),this.off("close",y),this.off("upgrading",m)};r.once("open",c),r.once("error",d),r.once("close",p),this.once("close",y),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&a!=="webtransport"?this.setTimeoutFn(()=>{o||r.open()},200):r.open()}onHandshake(a){this._upgrades=this._filterUpgrades(a.upgrades),super.onHandshake(a)}_filterUpgrades(a){const r=[];for(let o=0;o<a.length;o++)~this.transports.indexOf(a[o])&&r.push(a[o]);return r}}let sx=class extends ox{constructor(a,r={}){const o=typeof a=="object"?a:r;(!o.transports||o.transports&&typeof o.transports[0]=="string")&&(o.transports=(o.transports||["polling","websocket","webtransport"]).map(c=>nx[c]).filter(c=>!!c)),super(a,o)}};function cx(i,a="",r){let o=i;r=r||typeof location<"u"&&location,i==null&&(i=r.protocol+"//"+r.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=r.protocol+i:i=r.host+i),/^(https?|wss?):\/\//.test(i)||(typeof r<"u"?i=r.protocol+"//"+i:i="https://"+i),o=Ou(i)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";const f=o.host.indexOf(":")!==-1?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+f+":"+o.port+a,o.href=o.protocol+"://"+f+(r&&r.port===o.port?"":":"+o.port),o}const ux=typeof ArrayBuffer=="function",fx=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,Rg=Object.prototype.toString,dx=typeof Blob=="function"||typeof Blob<"u"&&Rg.call(Blob)==="[object BlobConstructor]",hx=typeof File=="function"||typeof File<"u"&&Rg.call(File)==="[object FileConstructor]";function nf(i){return ux&&(i instanceof ArrayBuffer||fx(i))||dx&&i instanceof Blob||hx&&i instanceof File}function go(i,a){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let r=0,o=i.length;r<o;r++)if(go(i[r]))return!0;return!1}if(nf(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return go(i.toJSON(),!0);for(const r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&go(i[r]))return!0;return!1}function px(i){const a=[],r=i.data,o=i;return o.data=Ru(r,a),o.attachments=a.length,{packet:o,buffers:a}}function Ru(i,a){if(!i)return i;if(nf(i)){const r={_placeholder:!0,num:a.length};return a.push(i),r}else if(Array.isArray(i)){const r=new Array(i.length);for(let o=0;o<i.length;o++)r[o]=Ru(i[o],a);return r}else if(typeof i=="object"&&!(i instanceof Date)){const r={};for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=Ru(i[o],a));return r}return i}function yx(i,a){return i.data=Du(i.data,a),delete i.attachments,i}function Du(i,a){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<a.length)return a[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let r=0;r<i.length;r++)i[r]=Du(i[r],a);else if(typeof i=="object")for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&(i[r]=Du(i[r],a));return i}const gx=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],mx=5;var Ae;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})(Ae||(Ae={}));class vx{constructor(a){this.replacer=a}encode(a){return(a.type===Ae.EVENT||a.type===Ae.ACK)&&go(a)?this.encodeAsBinary({type:a.type===Ae.EVENT?Ae.BINARY_EVENT:Ae.BINARY_ACK,nsp:a.nsp,data:a.data,id:a.id}):[this.encodeAsString(a)]}encodeAsString(a){let r=""+a.type;return(a.type===Ae.BINARY_EVENT||a.type===Ae.BINARY_ACK)&&(r+=a.attachments+"-"),a.nsp&&a.nsp!=="/"&&(r+=a.nsp+","),a.id!=null&&(r+=a.id),a.data!=null&&(r+=JSON.stringify(a.data,this.replacer)),r}encodeAsBinary(a){const r=px(a),o=this.encodeAsString(r.packet),c=r.buffers;return c.unshift(o),c}}function Hy(i){return Object.prototype.toString.call(i)==="[object Object]"}class af extends nt{constructor(a){super(),this.reviver=a}add(a){let r;if(typeof a=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(a);const o=r.type===Ae.BINARY_EVENT;o||r.type===Ae.BINARY_ACK?(r.type=o?Ae.EVENT:Ae.ACK,this.reconstructor=new bx(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(nf(a)||a.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(a),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+a)}decodeString(a){let r=0;const o={type:Number(a.charAt(0))};if(Ae[o.type]===void 0)throw new Error("unknown packet type "+o.type);if(o.type===Ae.BINARY_EVENT||o.type===Ae.BINARY_ACK){const f=r+1;for(;a.charAt(++r)!=="-"&&r!=a.length;);const d=a.substring(f,r);if(d!=Number(d)||a.charAt(r)!=="-")throw new Error("Illegal attachments");o.attachments=Number(d)}if(a.charAt(r+1)==="/"){const f=r+1;for(;++r&&!(a.charAt(r)===","||r===a.length););o.nsp=a.substring(f,r)}else o.nsp="/";const c=a.charAt(r+1);if(c!==""&&Number(c)==c){const f=r+1;for(;++r;){const d=a.charAt(r);if(d==null||Number(d)!=d){--r;break}if(r===a.length)break}o.id=Number(a.substring(f,r+1))}if(a.charAt(++r)){const f=this.tryParse(a.substr(r));if(af.isPayloadValid(o.type,f))o.data=f;else throw new Error("invalid payload")}return o}tryParse(a){try{return JSON.parse(a,this.reviver)}catch{return!1}}static isPayloadValid(a,r){switch(a){case Ae.CONNECT:return Hy(r);case Ae.DISCONNECT:return r===void 0;case Ae.CONNECT_ERROR:return typeof r=="string"||Hy(r);case Ae.EVENT:case Ae.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&gx.indexOf(r[0])===-1);case Ae.ACK:case Ae.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class bx{constructor(a){this.packet=a,this.buffers=[],this.reconPack=a}takeBinaryData(a){if(this.buffers.push(a),this.buffers.length===this.reconPack.attachments){const r=yx(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const xx=Object.freeze(Object.defineProperty({__proto__:null,Decoder:af,Encoder:vx,get PacketType(){return Ae},protocol:mx},Symbol.toStringTag,{value:"Module"}));function yn(i,a,r){return i.on(a,r),function(){i.off(a,r)}}const _x=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Dg extends nt{constructor(a,r,o){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=a,this.nsp=r,o&&o.auth&&(this.auth=o.auth),this._opts=Object.assign({},o),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const a=this.io;this.subs=[yn(a,"open",this.onopen.bind(this)),yn(a,"packet",this.onpacket.bind(this)),yn(a,"error",this.onerror.bind(this)),yn(a,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...a){return a.unshift("message"),this.emit.apply(this,a),this}emit(a,...r){var o,c,f;if(_x.hasOwnProperty(a))throw new Error('"'+a.toString()+'" is a reserved event name');if(r.unshift(a),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const d={type:Ae.EVENT,data:r};if(d.options={},d.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const x=this.ids++,b=r.pop();this._registerAckCallback(x,b),d.id=x}const p=(c=(o=this.io.engine)===null||o===void 0?void 0:o.transport)===null||c===void 0?void 0:c.writable,y=this.connected&&!(!((f=this.io.engine)===null||f===void 0)&&f._hasPingExpired());return this.flags.volatile&&!p||(y?(this.notifyOutgoingListeners(d),this.packet(d)):this.sendBuffer.push(d)),this.flags={},this}_registerAckCallback(a,r){var o;const c=(o=this.flags.timeout)!==null&&o!==void 0?o:this._opts.ackTimeout;if(c===void 0){this.acks[a]=r;return}const f=this.io.setTimeoutFn(()=>{delete this.acks[a];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===a&&this.sendBuffer.splice(p,1);r.call(this,new Error("operation has timed out"))},c),d=(...p)=>{this.io.clearTimeoutFn(f),r.apply(this,p)};d.withError=!0,this.acks[a]=d}emitWithAck(a,...r){return new Promise((o,c)=>{const f=(d,p)=>d?c(d):o(p);f.withError=!0,r.push(f),this.emit(a,...r)})}_addToQueue(a){let r;typeof a[a.length-1]=="function"&&(r=a.pop());const o={id:this._queueSeq++,tryCount:0,pending:!1,args:a,flags:Object.assign({fromQueue:!0},this.flags)};a.push((c,...f)=>o!==this._queue[0]?void 0:(c!==null?o.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(c)):(this._queue.shift(),r&&r(null,...f)),o.pending=!1,this._drainQueue())),this._queue.push(o),this._drainQueue()}_drainQueue(a=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!a||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(a){a.nsp=this.nsp,this.io._packet(a)}onopen(){typeof this.auth=="function"?this.auth(a=>{this._sendConnectPacket(a)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(a){this.packet({type:Ae.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},a):a})}onerror(a){this.connected||this.emitReserved("connect_error",a)}onclose(a,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",a,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(a=>{if(!this.sendBuffer.some(o=>String(o.id)===a)){const o=this.acks[a];delete this.acks[a],o.withError&&o.call(this,new Error("socket has been disconnected"))}})}onpacket(a){if(a.nsp===this.nsp)switch(a.type){case Ae.CONNECT:a.data&&a.data.sid?this.onconnect(a.data.sid,a.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ae.EVENT:case Ae.BINARY_EVENT:this.onevent(a);break;case Ae.ACK:case Ae.BINARY_ACK:this.onack(a);break;case Ae.DISCONNECT:this.ondisconnect();break;case Ae.CONNECT_ERROR:this.destroy();const o=new Error(a.data.message);o.data=a.data.data,this.emitReserved("connect_error",o);break}}onevent(a){const r=a.data||[];a.id!=null&&r.push(this.ack(a.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(a){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const o of r)o.apply(this,a)}super.emit.apply(this,a),this._pid&&a.length&&typeof a[a.length-1]=="string"&&(this._lastOffset=a[a.length-1])}ack(a){const r=this;let o=!1;return function(...c){o||(o=!0,r.packet({type:Ae.ACK,id:a,data:c}))}}onack(a){const r=this.acks[a.id];typeof r=="function"&&(delete this.acks[a.id],r.withError&&a.data.unshift(null),r.apply(this,a.data))}onconnect(a,r){this.id=a,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(a=>this.emitEvent(a)),this.receiveBuffer=[],this.sendBuffer.forEach(a=>{this.notifyOutgoingListeners(a),this.packet(a)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(a=>a()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ae.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(a){return this.flags.compress=a,this}get volatile(){return this.flags.volatile=!0,this}timeout(a){return this.flags.timeout=a,this}onAny(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(a),this}prependAny(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(a),this}offAny(a){if(!this._anyListeners)return this;if(a){const r=this._anyListeners;for(let o=0;o<r.length;o++)if(a===r[o])return r.splice(o,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(a),this}prependAnyOutgoing(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(a),this}offAnyOutgoing(a){if(!this._anyOutgoingListeners)return this;if(a){const r=this._anyOutgoingListeners;for(let o=0;o<r.length;o++)if(a===r[o])return r.splice(o,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(a){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const o of r)o.apply(this,a.data)}}}function Ri(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}Ri.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var a=Math.random(),r=Math.floor(a*this.jitter*i);i=(Math.floor(a*10)&1)==0?i-r:i+r}return Math.min(i,this.max)|0};Ri.prototype.reset=function(){this.attempts=0};Ri.prototype.setMin=function(i){this.ms=i};Ri.prototype.setMax=function(i){this.max=i};Ri.prototype.setJitter=function(i){this.jitter=i};class ju extends nt{constructor(a,r){var o;super(),this.nsps={},this.subs=[],a&&typeof a=="object"&&(r=a,a=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,jo(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((o=r.randomizationFactor)!==null&&o!==void 0?o:.5),this.backoff=new Ri({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=a;const c=r.parser||xx;this.encoder=new c.Encoder,this.decoder=new c.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(a){return arguments.length?(this._reconnection=!!a,a||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(a){return a===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=a,this)}reconnectionDelay(a){var r;return a===void 0?this._reconnectionDelay:(this._reconnectionDelay=a,(r=this.backoff)===null||r===void 0||r.setMin(a),this)}randomizationFactor(a){var r;return a===void 0?this._randomizationFactor:(this._randomizationFactor=a,(r=this.backoff)===null||r===void 0||r.setJitter(a),this)}reconnectionDelayMax(a){var r;return a===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=a,(r=this.backoff)===null||r===void 0||r.setMax(a),this)}timeout(a){return arguments.length?(this._timeout=a,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(a){if(~this._readyState.indexOf("open"))return this;this.engine=new sx(this.uri,this.opts);const r=this.engine,o=this;this._readyState="opening",this.skipReconnect=!1;const c=yn(r,"open",function(){o.onopen(),a&&a()}),f=p=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",p),a?a(p):this.maybeReconnectOnOpen()},d=yn(r,"error",f);if(this._timeout!==!1){const p=this._timeout,y=this.setTimeoutFn(()=>{c(),f(new Error("timeout")),r.close()},p);this.opts.autoUnref&&y.unref(),this.subs.push(()=>{this.clearTimeoutFn(y)})}return this.subs.push(c),this.subs.push(d),this}connect(a){return this.open(a)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const a=this.engine;this.subs.push(yn(a,"ping",this.onping.bind(this)),yn(a,"data",this.ondata.bind(this)),yn(a,"error",this.onerror.bind(this)),yn(a,"close",this.onclose.bind(this)),yn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(a){try{this.decoder.add(a)}catch(r){this.onclose("parse error",r)}}ondecoded(a){Do(()=>{this.emitReserved("packet",a)},this.setTimeoutFn)}onerror(a){this.emitReserved("error",a)}socket(a,r){let o=this.nsps[a];return o?this._autoConnect&&!o.active&&o.connect():(o=new Dg(this,a,r),this.nsps[a]=o),o}_destroy(a){const r=Object.keys(this.nsps);for(const o of r)if(this.nsps[o].active)return;this._close()}_packet(a){const r=this.encoder.encode(a);for(let o=0;o<r.length;o++)this.engine.write(r[o],a.options)}cleanup(){this.subs.forEach(a=>a()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(a,r){var o;this.cleanup(),(o=this.engine)===null||o===void 0||o.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",a,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const a=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const o=this.setTimeoutFn(()=>{a.skipReconnect||(this.emitReserved("reconnect_attempt",a.backoff.attempts),!a.skipReconnect&&a.open(c=>{c?(a._reconnecting=!1,a.reconnect(),this.emitReserved("reconnect_error",c)):a.onreconnect()}))},r);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}}onreconnect(){const a=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",a)}}const jr={};function mo(i,a){typeof i=="object"&&(a=i,i=void 0),a=a||{};const r=cx(i,a.path||"/socket.io"),o=r.source,c=r.id,f=r.path,d=jr[c]&&f in jr[c].nsps,p=a.forceNew||a["force new connection"]||a.multiplex===!1||d;let y;return p?y=new ju(o,a):(jr[c]||(jr[c]=new ju(o,a)),y=jr[c]),r.query&&!a.query&&(a.query=r.queryKey),y.socket(r.path,a)}Object.assign(mo,{Manager:ju,Socket:Dg,io:mo,connect:mo});class jg extends Tb{constructor(){super(),this.state=new Map,this.initial=new Map,this.metadata=new Map,this.log=new Map}createMatch(a,r){this.initial.set(a,r.initialState),this.setState(a,r.initialState),this.setMetadata(a,r.metadata)}setMetadata(a,r){this.metadata.set(a,r)}setState(a,r,o){if(o&&o.length>0){const c=this.log.get(a)||[];this.log.set(a,[...c,...o])}this.state.set(a,r)}fetch(a,r){const o={};return r.state&&(o.state=this.state.get(a)),r.metadata&&(o.metadata=this.metadata.get(a)),r.log&&(o.log=this.log.get(a)||[]),r.initialState&&(o.initialState=this.initial.get(a)),o}wipe(a){this.state.delete(a),this.metadata.delete(a)}listMatches(a){return[...this.metadata.entries()].filter(([,r])=>a?!(a.gameName!==void 0&&r.gameName!==a.gameName||a.where!==void 0&&(a.where.isGameover!==void 0&&r.gameover!==void 0!==a.where.isGameover||a.where.updatedBefore!==void 0&&r.updatedAt>=a.where.updatedBefore||a.where.updatedAfter!==void 0&&r.updatedAt<=a.where.updatedAfter)):!0).map(([r])=>r)}}class Sx extends Map{constructor(a){super(),this.key=a,(JSON.parse(localStorage.getItem(this.key))||[]).forEach(o=>this.set(...o))}sync(){const a=[...this.entries()];localStorage.setItem(this.key,JSON.stringify(a))}set(a,r){return super.set(a,r),this.sync(),this}delete(a){const r=super.delete(a);return this.sync(),r}}class Tx extends jg{constructor(a="bgio"){super();const r=o=>new Sx(`${a}_${o}`);this.state=r("state"),this.initial=r("initial"),this.metadata=r("metadata"),this.log=r("log")}}function Ex(i,a){if(i.ctx.gameover!==void 0)return null;if(i.ctx.activePlayers){for(const r of Object.keys(a))if(r in i.ctx.activePlayers)return r}else if(i.ctx.currentPlayer in a)return i.ctx.currentPlayer;return null}class Ax extends wb{constructor({game:a,bots:r,storageKey:o,persist:c}){const f={},d={};if(a&&a.ai&&r)for(const b in r){const S=r[b];d[b]=new S({game:a,enumerate:a.ai.enumerate,seed:a.seed})}const p=({playerID:b,...S})=>{const T=f[b];T!==void 0&&T(y(b,S))},y=Ob(a),m={send:p,sendAll:b=>{for(const S in f)p({playerID:S,...b})}},x=c?new Tx(o):new jg;super(a,x,m),this.connect=(b,S)=>{f[b]=S},this.subscribe(({state:b,matchID:S})=>{if(!r)return;const T=Ex(b,d);T!==null&&setTimeout(async()=>{const w=await d[T].play(b,T);await this.onUpdate(w.action,b._stateID,S,w.action.payload.playerID)},100)})}}class Cx extends Iu{constructor({master:a,...r}){super(r),this.master=a}sendChatMessage(a,r){const o=[a,r,this.credentials];this.master.onChatMessage(...o)}sendAction(a,r){this.master.onUpdate(r,a._stateID,this.matchID,this.playerID)}requestSync(){this.master.onSync(this.matchID,this.playerID,this.credentials,this.numPlayers)}connect(){this.setConnectionStatus(!0),this.master.connect(this.playerID,a=>this.notifyClient(a)),this.requestSync()}disconnect(){this.setConnectionStatus(!1)}updateMatchID(a){this.matchID=a,this.connect()}updatePlayerID(a){this.playerID=a,this.connect()}updateCredentials(a){this.credentials=a,this.connect()}}const qy=new Map;function wx({bots:i,persist:a,storageKey:r}={}){return o=>{const{gameKey:c,game:f}=o;let d;const p=qy.get(c);return p&&p.bots===i&&p.storageKey===r&&p.persist===a&&(d=p.master),d||(d=new Ax({game:f,bots:i,persist:a,storageKey:r}),qy.set(c,{master:d,bots:i,persist:a,storageKey:r})),new Cx({master:d,...o})}}const Yy=mo;class Ox extends Iu{constructor({socket:a,socketOpts:r,server:o,...c}){super(c),this.server=o,this.socket=a,this.socketOpts=r}sendAction(a,r){const o=[r,a._stateID,this.matchID,this.playerID];this.socket.emit("update",...o)}sendChatMessage(a,r){const o=[a,r,this.credentials];this.socket.emit("chat",...o)}connect(){if(!this.socket)if(this.server){let a=this.server;a.search(/^https?:\/\//)==-1&&(a="http://"+this.server),a.slice(-1)!="/"&&(a=a+"/"),this.socket=Yy(a+this.gameName,this.socketOpts)}else this.socket=Yy("/"+this.gameName,this.socketOpts);this.socket.on("patch",(a,r,o,c,f)=>{this.notifyClient({type:"patch",args:[a,r,o,c,f]})}),this.socket.on("update",(a,r,o)=>{this.notifyClient({type:"update",args:[a,r,o]})}),this.socket.on("sync",(a,r)=>{this.notifyClient({type:"sync",args:[a,r]})}),this.socket.on("matchData",(a,r)=>{this.notifyClient({type:"matchData",args:[a,r]})}),this.socket.on("chat",(a,r)=>{this.notifyClient({type:"chat",args:[a,r]})}),this.socket.on("connect",()=>{this.requestSync(),this.setConnectionStatus(!0)}),this.socket.on("disconnect",()=>{this.setConnectionStatus(!1)})}disconnect(){this.socket.close(),this.socket=null,this.setConnectionStatus(!1)}requestSync(){if(this.socket){const a=[this.matchID,this.playerID,this.credentials,this.numPlayers];this.socket.emit("sync",...a)}}updateMatchID(a){this.matchID=a,this.requestSync()}updatePlayerID(a){this.playerID=a,this.requestSync()}updateCredentials(a){this.credentials=a,this.requestSync()}}function Vy({server:i,socketOpts:a}={}){return r=>new Ox({server:i,socketOpts:a,...r})}function kg(i){var a;const{game:r,numPlayers:o,board:c,multiplayer:f,enhancer:d}=i;let{loading:p,debug:y}=i;return p===void 0&&(p=()=>W.createElement("div",{className:"bgio-loading"},"connecting...")),a=class extends W.Component{constructor(x){super(x),y===void 0&&(y=x.debug),this.client=db({game:r,debug:y,numPlayers:o,multiplayer:f,matchID:x.matchID,playerID:x.playerID,credentials:x.credentials,enhancer:d})}componentDidMount(){this.unsubscribe=this.client.subscribe(()=>this.forceUpdate()),this.client.start()}componentWillUnmount(){this.client.stop(),this.unsubscribe()}componentDidUpdate(x){this.props.matchID!=x.matchID&&this.client.updateMatchID(this.props.matchID),this.props.playerID!=x.playerID&&this.client.updatePlayerID(this.props.playerID),this.props.credentials!=x.credentials&&this.client.updateCredentials(this.props.credentials)}render(){const x=this.client.getState();if(x===null)return W.createElement(p);let b=null;return c&&(b=W.createElement(c,{...x,...this.props,isMultiplayer:!!f,moves:this.client.moves,events:this.client.events,matchID:this.client.matchID,playerID:this.client.playerID,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,log:this.client.log,matchData:this.client.matchData,sendChatMessage:this.client.sendChatMessage,chatMessages:this.client.chatMessages})),W.createElement("div",{className:"bgio-client"},b)}},a.propTypes={matchID:Sn.string,playerID:Sn.string,credentials:Sn.string,debug:Sn.any},a.defaultProps={matchID:"default",playerID:null,credentials:null,debug:!0},a}class Mx{constructor({server:a,gameComponents:r,playerName:o,playerCredentials:c}){this.client=new pb({server:a}),this.gameComponents=r,this.playerName=o||"Visitor",this.playerCredentials=c,this.matches=[]}async refresh(){try{this.matches=[];const a=await this.client.listGames();for(const r of a){if(!this._getGameComponents(r))continue;const{matches:o}=await this.client.listMatches(r);this.matches.push(...o)}}catch(a){throw new Error("failed to retrieve list of matches ("+a+")")}}_getMatchInstance(a){for(const r of this.matches)if(r.matchID===a)return r}_getGameComponents(a){for(const r of this.gameComponents)if(r.game.name===a)return r}_findPlayer(a){for(const r of this.matches)if(r.players.some(o=>o.name===a))return r}async join(a,r,o){try{let c=this._findPlayer(this.playerName);if(c)throw new Error("player has already joined "+c.matchID);if(c=this._getMatchInstance(r),!c)throw new Error("game instance "+r+" not found");const f=await this.client.joinMatch(a,r,{playerID:o,playerName:this.playerName});c.players[Number.parseInt(o)].name=this.playerName,this.playerCredentials=f.playerCredentials}catch(c){throw new Error("failed to join match "+r+" ("+c+")")}}async leave(a,r){try{const o=this._getMatchInstance(r);if(!o)throw new Error("match instance not found");for(const c of o.players)if(c.name===this.playerName){await this.client.leaveMatch(a,r,{playerID:c.id.toString(),credentials:this.playerCredentials}),delete c.name,delete this.playerCredentials;return}throw new Error("player not found in match")}catch(o){throw new Error("failed to leave match "+r+" ("+o+")")}}async disconnect(){const a=this._findPlayer(this.playerName);a&&await this.leave(a.gameName,a.matchID),this.matches=[],this.playerName="Visitor"}async create(a,r){try{const o=this._getGameComponents(a);if(!o)throw new Error("game not found");if(r<o.game.minPlayers||r>o.game.maxPlayers)throw new Error("invalid number of players "+r);await this.client.createMatch(a,{numPlayers:r})}catch(o){throw new Error("failed to create match for "+a+" ("+o+")")}}}function Rx(i){return new Mx(i)}class Pg extends W.Component{constructor(){super(...arguments),this.state={playerName:this.props.playerName,nameErrorMsg:""},this.onClickEnter=()=>{this.state.playerName!==""&&this.props.onEnter(this.state.playerName)},this.onKeyPress=a=>{a.key==="Enter"&&this.onClickEnter()},this.onChangePlayerName=a=>{const r=a.target.value.trim();this.setState({playerName:r,nameErrorMsg:r.length>0?"":"empty player name"})}}render(){return W.createElement("div",null,W.createElement("p",{className:"phase-title"},"Choose a player name:"),W.createElement("input",{type:"text",value:this.state.playerName,onChange:this.onChangePlayerName,onKeyPress:this.onKeyPress}),W.createElement("span",{className:"buttons"},W.createElement("button",{className:"buttons",onClick:this.onClickEnter},"Enter")),W.createElement("br",null),W.createElement("span",{className:"error-msg"},this.state.nameErrorMsg,W.createElement("br",null)))}}Pg.defaultProps={playerName:""};class Dx extends W.Component{constructor(){super(...arguments),this._createSeat=a=>a.name||"[free]",this._createButtonJoin=(a,r)=>W.createElement("button",{key:"button-join-"+a.matchID,onClick:()=>this.props.onClickJoin(a.gameName,a.matchID,""+r)},"Join"),this._createButtonLeave=a=>W.createElement("button",{key:"button-leave-"+a.matchID,onClick:()=>this.props.onClickLeave(a.gameName,a.matchID)},"Leave"),this._createButtonPlay=(a,r)=>W.createElement("button",{key:"button-play-"+a.matchID,onClick:()=>this.props.onClickPlay(a.gameName,{matchID:a.matchID,playerID:""+r,numPlayers:a.players.length})},"Play"),this._createButtonSpectate=a=>W.createElement("button",{key:"button-spectate-"+a.matchID,onClick:()=>this.props.onClickPlay(a.gameName,{matchID:a.matchID,numPlayers:a.players.length})},"Spectate"),this._createInstanceButtons=a=>{const r=a.players.find(c=>c.name===this.props.playerName),o=a.players.find(c=>!c.name);return r&&o?this._createButtonLeave(a):o?this._createButtonJoin(a,o.id):r?W.createElement("div",null,[this._createButtonPlay(a,r.id),this._createButtonLeave(a)]):this._createButtonSpectate(a)}}render(){const a=this.props.match;let r="OPEN";return a.players.some(o=>!o.name)||(r="RUNNING"),W.createElement("tr",{key:"line-"+a.matchID},W.createElement("td",{key:"cell-name-"+a.matchID},a.gameName),W.createElement("td",{key:"cell-status-"+a.matchID},r),W.createElement("td",{key:"cell-seats-"+a.matchID},a.players.map(o=>this._createSeat(o)).join(", ")),W.createElement("td",{key:"cell-buttons-"+a.matchID},this._createInstanceButtons(a)))}}class jx extends W.Component{constructor(a){super(a),this.state={selectedGame:0,numPlayers:2},this._createGameNameOption=(r,o)=>W.createElement("option",{key:"name-option-"+o,value:o},r.game.name),this._createNumPlayersOption=r=>W.createElement("option",{key:"num-option-"+r,value:r},r),this._createNumPlayersRange=r=>Array.from({length:r.maxPlayers+1}).map((o,c)=>c).slice(r.minPlayers),this.onChangeNumPlayers=r=>{this.setState({numPlayers:Number.parseInt(r.target.value)})},this.onChangeSelectedGame=r=>{const o=Number.parseInt(r.target.value);this.setState({selectedGame:o,numPlayers:this.props.games[o].game.minPlayers})},this.onClickCreate=()=>{this.props.createMatch(this.props.games[this.state.selectedGame].game.name,this.state.numPlayers)};for(const r of a.games){const o=r.game;o.minPlayers||(o.minPlayers=1),o.maxPlayers||(o.maxPlayers=4),console.assert(o.maxPlayers>=o.minPlayers)}this.state={selectedGame:0,numPlayers:a.games[0].game.minPlayers}}render(){return W.createElement("div",null,W.createElement("select",{value:this.state.selectedGame,onChange:a=>this.onChangeSelectedGame(a)},this.props.games.map((a,r)=>this._createGameNameOption(a,r))),W.createElement("span",null,"Players:"),W.createElement("select",{value:this.state.numPlayers,onChange:this.onChangeNumPlayers},this._createNumPlayersRange(this.props.games[this.state.selectedGame].game).map(a=>this._createNumPlayersOption(a))),W.createElement("span",{className:"buttons"},W.createElement("button",{onClick:this.onClickCreate},"Create")))}}var Lt;(function(i){i.ENTER="enter",i.PLAY="play",i.LIST="list"})(Lt||(Lt={}));class Ng extends W.Component{constructor(a){super(a),this.state={phase:Lt.ENTER,playerName:"Visitor",runningMatch:null,errorMsg:"",credentialStore:{}},this._createConnection=r=>{const o=this.state.playerName;this.connection=Rx({server:r.lobbyServer,gameComponents:r.gameComponents,playerName:o,playerCredentials:this.state.credentialStore[o]})},this._updateCredentials=(r,o)=>{this.setState(c=>{const f=Object.assign({},c.credentialStore);return f[r]=o,{credentialStore:f}})},this._updateConnection=async()=>{await this.connection.refresh(),this.forceUpdate()},this._enterLobby=r=>{this._startRefreshInterval(),this.setState({playerName:r,phase:Lt.LIST})},this._exitLobby=async()=>{this._clearRefreshInterval(),await this.connection.disconnect(),this.setState({phase:Lt.ENTER,errorMsg:""})},this._createMatch=async(r,o)=>{try{await this.connection.create(r,o),await this.connection.refresh(),this.setState({})}catch(c){this.setState({errorMsg:c.message})}},this._joinMatch=async(r,o,c)=>{try{await this.connection.join(r,o,c),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(f){this.setState({errorMsg:f.message})}},this._leaveMatch=async(r,o)=>{try{await this.connection.leave(r,o),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(c){this.setState({errorMsg:c.message})}},this._startMatch=(r,o)=>{const c=this.connection._getGameComponents(r);if(!c){this.setState({errorMsg:"game "+r+" not supported"});return}let f;if(o.numPlayers>1&&(f=this.props.gameServer?Vy({server:this.props.gameServer}):Vy()),o.numPlayers==1){const y=c.game.maxPlayers,m={};for(let x=1;x<y;x++)m[x+""]=F0;f=wx({bots:m})}const p={app:this.props.clientFactory({game:c.game,board:c.board,debug:this.props.debug,multiplayer:f}),matchID:o.matchID,playerID:o.numPlayers>1?o.playerID:"0",credentials:this.connection.playerCredentials};this._clearRefreshInterval(),this.setState({phase:Lt.PLAY,runningMatch:p})},this._exitMatch=()=>{this._startRefreshInterval(),this.setState({phase:Lt.LIST,runningMatch:null})},this._getPhaseVisibility=r=>this.state.phase!==r?"hidden":"phase",this.renderMatches=(r,o)=>r.map(c=>{const{matchID:f,gameName:d,players:p}=c;return W.createElement(Dx,{key:"instance-"+f,match:{matchID:f,gameName:d,players:Object.values(p)},playerName:o,onClickJoin:this._joinMatch,onClickLeave:this._leaveMatch,onClickPlay:this._startMatch})}),this._createConnection(this.props)}componentDidMount(){const a=Py.load("lobbyState")||{};a.phase&&a.phase===Lt.PLAY&&(a.phase=Lt.LIST),a.phase&&a.phase!==Lt.ENTER&&this._startRefreshInterval(),this.setState({phase:a.phase||Lt.ENTER,playerName:a.playerName||"Visitor",credentialStore:a.credentialStore||{}})}componentDidUpdate(a,r){const o=this.state.playerName,c=this.state.credentialStore[o];if(r.phase!==this.state.phase||r.credentialStore[o]!==c||r.playerName!==o){this._createConnection(this.props),this._updateConnection();const f={phase:this.state.phase,playerName:o,credentialStore:this.state.credentialStore};Py.save("lobbyState",f,{path:"/"})}a.refreshInterval!==this.props.refreshInterval&&this._startRefreshInterval()}componentWillUnmount(){this._clearRefreshInterval()}_startRefreshInterval(){this._clearRefreshInterval(),this._currentInterval=setInterval(this._updateConnection,this.props.refreshInterval)}_clearRefreshInterval(){clearInterval(this._currentInterval)}render(){const{gameComponents:a,renderer:r}=this.props,{errorMsg:o,playerName:c,phase:f,runningMatch:d}=this.state;return r?r({errorMsg:o,gameComponents:a,matches:this.connection.matches,phase:f,playerName:c,runningMatch:d,handleEnterLobby:this._enterLobby,handleExitLobby:this._exitLobby,handleCreateMatch:this._createMatch,handleJoinMatch:this._joinMatch,handleLeaveMatch:this._leaveMatch,handleExitMatch:this._exitMatch,handleRefreshMatches:this._updateConnection,handleStartMatch:this._startMatch}):W.createElement("div",{id:"lobby-view",style:{padding:50}},W.createElement("div",{className:this._getPhaseVisibility(Lt.ENTER)},W.createElement(Pg,{key:c,playerName:c,onEnter:this._enterLobby})),W.createElement("div",{className:this._getPhaseVisibility(Lt.LIST)},W.createElement("p",null,"Welcome, ",c),W.createElement("div",{className:"phase-title",id:"match-creation"},W.createElement("span",null,"Create a match:"),W.createElement(jx,{games:a,createMatch:this._createMatch})),W.createElement("p",{className:"phase-title"},"Join a match:"),W.createElement("div",{id:"instances"},W.createElement("table",null,W.createElement("tbody",null,this.renderMatches(this.connection.matches,c))),W.createElement("span",{className:"error-msg"},o,W.createElement("br",null))),W.createElement("p",{className:"phase-title"},"Matches that become empty are automatically deleted.")),W.createElement("div",{className:this._getPhaseVisibility(Lt.PLAY)},d&&W.createElement(d.app,{matchID:d.matchID,playerID:d.playerID,credentials:d.credentials}),W.createElement("div",{className:"buttons",id:"match-exit"},W.createElement("button",{onClick:this._exitMatch},"Exit match"))),W.createElement("div",{className:"buttons",id:"lobby-exit"},W.createElement("button",{onClick:this._exitLobby},"Exit lobby")))}}Ng.propTypes={gameComponents:Sn.array.isRequired,lobbyServer:Sn.string,gameServer:Sn.string,debug:Sn.bool,clientFactory:Sn.func,refreshInterval:Sn.number};Ng.defaultProps={debug:!1,clientFactory:kg,refreshInterval:2e3};const kx=[{id:"sh1",name:"Hustle Hard",cost:1,type:"Action",keywords:["Draw","Tempo"],text:"Draw 2 cards, gain 1 capital.",effect:"hustle_hard",flavor:"Sleep is for IPOs. You're still bootstrapping."},{id:"sh2",name:"Bootstrap Capital",cost:0,type:"Action",keywords:["Economy"],text:"Gain 2 capital.",effect:"bootstrap_capital",flavor:"No investors. No problem."},{id:"sh3",name:"DIY Assembly",cost:2,type:"Tool",keywords:["Scrappy","Recurring"],text:"Recurring: Reduce Product costs by 1.",effect:"diy_assembly",flavor:"If you can't afford it, build it yourself."},{id:"sh4",name:"Fast Pivot",cost:2,type:"Action",keywords:["Flexibility","Product"],text:"Destroy a Product you control. Draw 2 cards. Your next Product this turn costs 2 less.",effect:"fast_pivot",flavor:"Drop what doesn't sell. Double down on what might."},{id:"sh5",name:"Freelancer Network",cost:3,type:"Employee",keywords:["Scrappy","Flexibility"],text:"When played, draw 2 cards.",effect:"freelancer_network",flavor:"Your team is everywhereand nowhere."},{id:"sh6",name:"Resourceful Solutions",cost:1,type:"Action",keywords:["Economy"],text:"Next card costs 2 less.",effect:"resourceful_solutions",flavor:"Workarounds are your bread and butter."},{id:"sh7",name:"Scrappy Marketing",cost:1,type:"Action",keywords:["Marketing","Draw"],text:"If you have a Product in play, draw 2 cards.",effect:"scrappy_marketing",flavor:"Guerilla tactics. Viral results."},{id:"sh8",name:"Midnight Oil",cost:2,type:"Action",keywords:["Hustle","Draw"],text:"Draw 3 cards, then discard 1 card.",effect:"midnight_oil",flavor:"The only thing burning brighter than your ambition is your desk lamp."},{id:"sh9",name:"Quick Learner",cost:2,type:"Employee",keywords:["Learning","Tempo"],text:"Can only be played after an Action. Copy the effect of the last Action played this turn.",effect:"quick_learner",flavor:"Give them one example, and they'll ship three prototypes."},{id:"sh10",name:"Shoestring Budget",cost:0,type:"Tool",keywords:["Economy","Recurring"],text:"Recurring: The first card you play each turn costs 1 less.",effect:"shoestring_budget",flavor:"Why buy a tool when duct tape is cheaper?"}],Px={id:"solo_hustler",name:"The Solo Hustler",color:"Red",image:"/dream_builders/assets/heroes/solo_hustler.png",starterDeck:kx,flavorText:"A first-time merchant juggling everything from design to fulfillment.",playstyle:"Fast and scrappy, focused on card draw and early tempo.",heroPower:{name:"Grind",description:"Draw 1 card. If it's a Product, reduce its cost by 1 this turn.",cost:1,effect:"solo_hustler_grind"}},Nx=[{id:"bb1",name:"Brand Vision",cost:1,type:"Action",keywords:["Draw"],text:"Draw 1 card. If you control a Product, draw 2 instead.",effect:"brand_vision",flavor:"Clarity inspires confidenceand conversions."},{id:"bb2",name:"Influencer Collab",cost:3,type:"Action",keywords:["Capital","Synergy"],text:"If you control a Product, gain 3 capital.",effect:"influencer_collab",flavor:"They post. You profit."},{id:"bb3",name:"Content Calendar",cost:2,type:"Tool",keywords:["Recurring"],text:"Recurring: Add 1 inventory to your lowest-inventory Product.",effect:"content_calendar",flavor:"Schedule it. Forget it. Grow."},{id:"bb4",name:"Viral Post",cost:2,type:"Action",keywords:["Combo","Capital"],text:"If you played another Action this turn, gain 2 capital. Otherwise, draw 1 card.",effect:"viral_post",flavor:"One share away from breakout."},{id:"bb5",name:"Email List",cost:1,type:"Tool",keywords:["Recurring","Capital"],text:"Recurring: If you control 2 or more Products, gain 1 capital.",effect:"email_list",flavor:"The most valuable pixel is the inbox."},{id:"bb6",name:"Visual Identity",cost:2,type:"Tool",keywords:["Synergy"],text:"Your Products cost 1 less if you control another Tool.",effect:"visual_identity",flavor:"Consistency breeds trust."},{id:"bb7",name:"Founder Story",cost:2,type:"Action",keywords:["Draw"],text:"Draw 2 cards. If you control an Employee, draw 3 instead.",effect:"founder_story",flavor:"People don't just buy what you dothey buy why you do it."},{id:"bb8",name:"Social Proof",cost:1,type:"Action",keywords:["Synergy"],text:"Next time you gain revenue, gain +25% extra.",effect:"social_proof",flavor:"If others love it, maybe they will too."},{id:"bb9",name:"UGC Explosion",cost:3,type:"Action",keywords:["Combo","Inventory"],text:"Add 3 inventory to each Product you control.",effect:"ugc_explosion",flavor:"Your fans become your funnel."},{id:"bb10",name:"Personal Branding",cost:2,type:"Tool",keywords:["Recurring","Draw"],text:"Recurring: Draw 1 card if you played an Action last turn.",effect:"personal_branding",flavor:"Be your own best marketing channel."}],zx={id:"brand_builder",name:"The Brand Builder",color:"White",image:"/dream_builders/assets/heroes/brand_builder.png",starterDeck:Nx,flavorText:"Believes in design, storytelling, and long-term community.",playstyle:"Synergy-focused, slow burn with strong product support.",heroPower:{name:"Engage",description:"Add 2 Inventory to a Product.",cost:2,effect:"brand_builder_engage"}},Bx=[{id:"aa1",name:"Auto Fulfill",cost:1,type:"Tool",keywords:["Efficiency","Recurring"],text:"Recurring: Gain 1 capital if you sold a Product last turn.",effect:"auto_fulfill",flavor:"Money while you sleep."},{id:"aa2",name:"Optimize Checkout",cost:2,type:"Tool",keywords:["Conversion","Product"],text:"Your Products sell for $1000 more.",effect:"optimize_checkout",flavor:"One-click to success."},{id:"aa3",name:"Analytics Dashboard",cost:1,type:"Tool",keywords:["Recurring","Insight"],text:"Recurring: Look at the top 2 cards of your deck. You may discard one.",effect:"analytics_dashboard",flavor:"Know your numbers. Own your future."},{id:"aa4",name:"Email Automation",cost:2,type:"Tool",keywords:["Recurring","Conversion"],text:"Recurring: Gain 1 capital.",effect:"email_automation",flavor:"Set it and forget it."},{id:"aa5",name:"A/B Test",cost:1,type:"Action",keywords:["Insight","Draw"],text:"Draw 2 cards. Discard 1.",effect:"ab_test",flavor:"Iterate, then dominate."},{id:"aa6",name:"Scale Systems",cost:3,type:"Tool",keywords:["Recurring","Capital"],text:"Recurring: Gain 1 capital.",effect:"scale_systems",flavor:"What works once should work always."},{id:"aa7",name:"Optimize Workflow",cost:1,type:"Action",keywords:["Efficiency"],text:"Your next card costs 2 less.",effect:"optimize_workflow",flavor:"Lean, clean, shipping machine."},{id:"aa8",name:"Custom App",cost:2,type:"Tool",keywords:["Draw","Flexibility"],text:"When played: draw 1 card. Recurring: Gain 1 capital.",effect:"custom_app",flavor:"There's a plug-in for that."},{id:"aa9",name:"Zap Everything",cost:3,type:"Action",keywords:["Capital","Efficiency"],text:"Gain 2 capital. If you control 3+ Tools, gain 1 more.",effect:"zap_everything",flavor:"Every task, zapped into history."},{id:"aa10",name:"Technical Cofounder",cost:3,type:"Employee",keywords:["Efficiency","Support"],text:"Your Tools cost 1 less.",effect:"technical_cofounder",flavor:"They code. You dream."}],Lx={id:"automation_architect",name:"The Automation Architect",color:"Blue",image:"/dream_builders/assets/heroes/automation_architect.png",starterDeck:Bx,flavorText:"A technical founder building tools that run the business for them.",playstyle:"Builds an engine of passive income over time.",heroPower:{name:"Deploy Script",description:"Gain 1 recurring Capital next turn.",cost:2,effect:"automation_architect_deploy"}},Ux=[{id:"cl1",name:"Town Hall",cost:2,type:"Action",keywords:["Draw","Teamwork"],text:"Draw 1 card for every Employee you control.",effect:"town_hall",flavor:"You don't just speakyou listen."},{id:"cl2",name:"Mutual Aid",cost:1,type:"Action",keywords:["Capital","Teamwork"],text:"Gain 2 capital.",effect:"mutual_aid",flavor:"When one wins, we all win."},{id:"cl3",name:"Hype Train",cost:3,type:"Tool",keywords:["Recurring","Combo"],text:"Recurring: If you played 2+ cards last turn, gain 1 capital.",effect:"hype_train",flavor:"Choo-choo! All aboard the growth express."},{id:"cl4",name:"Mentorship Circle",cost:2,type:"Tool",keywords:["Draw","Support"],text:"Draw an extra card at the start of your turn.",effect:"mentorship_circle",flavor:"Raise each other, rise together."},{id:"cl5",name:"Steady Fans",cost:2,type:"Tool",keywords:["Recurring"],text:"Recurring: Gain 1 capital every other turn.",effect:"steady_fans",flavor:"They're not customersthey're your people."},{id:"cl6",name:"Shared Spotlight",cost:1,type:"Action",keywords:["Draw","Combo"],text:"Draw 2 cards. If you've played 2+ cards this turn, reduce the cost of a card in your hand by 1.",effect:"shared_spotlight",flavor:"Shining together is brighter."},{id:"cl7",name:"Community Manager",cost:2,type:"Employee",keywords:["Support","Discount"],text:"Your Tools and Actions cost 1 less.",effect:"community_manager",flavor:"Bridging DMs and dreams."},{id:"cl8",name:"Live AMA",cost:2,type:"Action",keywords:["Draw"],text:"Draw 2 cards. Gain 1 capital.",effect:"live_ama",flavor:"Direct answers, instant hype."},{id:"cl9",name:"Merch Drop",cost:2,type:"Product",keywords:["Combo"],text:"Costs 1 less if you played 2+ cards this turn. Choose a Product and add +2 to its inventory.",effect:"merch_drop",flavor:"Wear the mission. Share the movement."},{id:"cl10",name:"Grassroots Launch",cost:3,type:"Action",keywords:["Launch","Combo"],text:"Add +2 inventory to all Products.",effect:"grassroots_launch",flavor:"Built with love. Launched with loyalty."}],Hx={id:"community_leader",name:"The Community Leader",color:"Green",image:"/dream_builders/assets/heroes/community_leader.png",starterDeck:Ux,flavorText:"Uses content and conversation to spark passionate growth.",playstyle:"High variance, explosive combo turns with viral momentum.",heroPower:{name:"Go Viral",description:"If you played 2+ cards this turn, add a copy of a Product in play to your inventory.",cost:1,effect:"community_leader_viral"}},qx=[{id:"sf1",name:"Legacy Playbook",cost:3,type:"Tool",keywords:["Draw","Efficiency"],text:"Draw 1 extra card at the start of your turn.",effect:"legacy_playbook",flavor:"Success leaves a paper trail."},{id:"sf2",name:"Advisory Board",cost:4,type:"Tool",keywords:["Support","Draw"],text:"Whenever you play a Product, draw 1 card.",effect:"advisory_board",flavor:"A brain trust on speed dial."},{id:"sf3",name:"Spin-Off",cost:3,type:"Product",keywords:["Combo","Product"],text:"Costs 1 less for each Product you control. Sells for 4.",effect:"spin_off",flavor:"Success breeds sequels."},{id:"sf4",name:"High-Profile Exit",cost:6,type:"Action",keywords:["Sell","Capital"],text:"Sell all your Products. Gain 2 extra capital per Product.",effect:"high_profile_exit",flavor:"Not just an exit. A spectacle."},{id:"sf5",name:"Market Surge",cost:2,type:"Action",keywords:["Capital","Combo"],text:"If you control a Product, gain 3 capital. Otherwise, draw 2 cards.",effect:"market_surge",flavor:"Front page. Full inbox."},{id:"sf6",name:"Serial Operator",cost:4,type:"Employee",keywords:["Efficiency","Product"],text:"Your Products cost 1 less.",effect:"serial_operator",flavor:"They've done it all beforeand faster this time."},{id:"sf7",name:"Investor Buzz",cost:2,type:"Action",keywords:["Capital","Marketing"],text:"Next time you gain capital, double it.",effect:"investor_buzz",flavor:"Hype is a currency."},{id:"sf8",name:"Incubator Resources",cost:3,type:"Tool",keywords:["Support","Draw"],text:"At the start of your turn, gain 1 capital or draw 1.",effect:"incubator_resources",flavor:"Guided by giants."},{id:"sf9",name:"Board of Directors",cost:5,type:"Tool",keywords:["Scaling","Recurring"],text:"Recurring: Gain 2 capital.",effect:"board_of_directors",flavor:"Big minds. Bigger margins."},{id:"sf10",name:"Black Friday Blitz",cost:4,type:"Action",keywords:["Sell","Combo"],text:"Sell a Product. If it's your third Product this turn, gain 3 extra capital.",effect:"black_friday_blitz",flavor:"The rush. The cart. The cha-ching."}],Yx={id:"serial_founder",name:"The Serial Founder",color:"Black",image:"/dream_builders/assets/heroes/serial_founder.png",starterDeck:qx,flavorText:"Veteran merchant running multiple stores and growth strategies.",playstyle:"Balanced and flexible with a powerful mid-game.",heroPower:{name:"Double Down",description:"Choose one: draw a card OR add 2 inventory to a Product.",cost:2,effect:"serial_founder_double_down"}},$t=[Px,zx,Lx,Hx,Yx],zg=[{id:"custom_dog_portrait",name:"Custom Dog Portrait",cost:3,type:"Product",text:"Every pup deserves a masterpiece.",flavor:"Your dog called. They want to hang in the Louvre.",effect:"custom_dog_portrait_sale",revenuePerSale:4500,inventory:4},{id:"holiday_mug_set",name:"Holiday Mug Set",cost:2,type:"Product",text:"Hot cocoa not included  but recommended.",flavor:"For mugs that spark joy (and caffeine).",effect:"holiday_mug_sale",revenuePerSale:3e3,inventory:6},{id:"minimalist_planner_pdf",name:"Minimalist Planner PDF",cost:1,type:"Product",text:"Declutter your day, digitally.",flavor:"Because your to-do list deserves better than sticky notes.",effect:"minimalist_planner_sale",revenuePerSale:1500,inventory:7},{id:"handmade_soy_candle",name:"Handmade Soy Candle",cost:2,type:"Product",text:"Smells like success.",flavor:"Light it up and let the vibes sell themselves.",effect:"soy_candle_sale",revenuePerSale:4500,inventory:5},{id:"cozy_sweater_bundle",name:"Cozy Sweater Bundle",cost:4,type:"Product",text:"Ugly? Never. Iconic? Always.",flavor:"One sleigh ride away from going viral.",effect:"sweater_bundle_sale",revenuePerSale:9e3,inventory:4},{id:"online_yoga_course",name:"Online Yoga Course",cost:3,type:"Product",text:"Namaste and hustle.",flavor:"Downward dog meets upward sales.",effect:"yoga_course_sale",revenuePerSale:6e3,inventory:5},{id:"ai_logo_generator",name:"AI Logo Generator",cost:3,type:"Product",text:"Because your brand deserves a glow-up.",flavor:"Where branding meets bandwidth.",effect:"ai_logo_sale",revenuePerSale:6e3,inventory:5},{id:"name_necklace",name:"Name Necklace",cost:2,type:"Product",text:"Say my name, say my name.",flavor:"If it isn't on a chain, does it even count?",effect:"name_necklace_sale",revenuePerSale:4500,inventory:6},{id:"pet_enrichment_box",name:"Pet Enrichment Box",cost:3,type:"Product",text:"For the goodest customers.",flavor:"Unbox tail-wagging happiness.",effect:"pet_box_sale",revenuePerSale:7500,inventory:4},{id:"black_friday_bundle",name:"Black Friday Bundle",cost:1,type:"Product",text:"Cha-ching season is open.",flavor:"Swipe fast or cry later.",effect:"black_friday_sale",revenuePerSale:1500,inventory:7},{id:"self_care_kit",name:"Self-Care Kit",cost:2,type:"Product",text:"Recharge your customers and yourself.",flavor:"Bubble baths are serious business.",effect:"self_care_sale",revenuePerSale:4500,inventory:5},{id:"sticker_pack",name:"Sticker Pack",cost:1,type:"Product",text:"Small, sticky joy.",flavor:"Peel. Stick. Profit.",effect:"sticker_pack_sale",revenuePerSale:1500,inventory:7},{id:"custom_tshirt_drop",name:"Custom T-Shirt Drop",cost:2,type:"Product",text:"Wear your hustle.",flavor:"Limited edition, unlimited ambition.",effect:"tshirt_drop_sale",revenuePerSale:3e3,inventory:6},{id:"vintage_desk_clock",name:"Vintage Desk Clock",cost:3,type:"Product",text:"Old-school charm, right on time.",flavor:"Time is money, but this one adds style.",effect:"desk_clock_sale",revenuePerSale:6e3,inventory:4},{id:"coffee_sampler_pack",name:"Coffee Sampler Pack",cost:2,type:"Product",text:"Taste the grind.",flavor:"Every sip brews loyalty.",effect:"coffee_sampler_sale",revenuePerSale:4500,inventory:5},{id:"digital_wedding_invite",name:"Digital Wedding Invite",cost:1,type:"Product",text:"Say 'I do' to better design.",flavor:"You had them at RSVP.",effect:"wedding_invite_sale",revenuePerSale:3e3,inventory:6},{id:"enamel_pin_collection",name:"Enamel Pin Collection",cost:2,type:"Product",text:"Tiny art, major charm.",flavor:"Collect them all  your jacket demands it.",effect:"enamel_pin_sale",revenuePerSale:4500,inventory:6},{id:"eco_friendly_tote",name:"Eco-Friendly Tote",cost:2,type:"Product",text:"Save the planet, one checkout at a time.",flavor:"Trendy, sturdy, and guilt-free.",effect:"eco_tote_sale",revenuePerSale:4500,inventory:5},{id:"freelancing_ebook",name:"E-book on Freelancing",cost:1,type:"Product",text:"You're the boss now.",flavor:"Your roadmap to inbox freedom.",effect:"freelancing_ebook_sale",revenuePerSale:1500,inventory:7},{id:"custom_phone_case",name:"Custom Phone Case",cost:2,type:"Product",text:"Style that sells itself.",flavor:"Protect your device and your vibe.",effect:"phone_case_sale",revenuePerSale:4500,inventory:5},{id:"digital_art_print",name:"Digital Art Print",cost:1,type:"Product",text:"Pixels never looked so pretty.",flavor:"One download away from dazzling.",effect:"art_print_sale",revenuePerSale:1500,inventory:6},{id:"planner_stickers",name:"Planner Stickers",cost:1,type:"Product",text:"Organized and adorable.",flavor:"Productivity with personality.",effect:"planner_stickers_sale",revenuePerSale:1500,inventory:7},{id:"pop_culture_hoodie",name:"Pop Culture Print Hoodie",cost:3,type:"Product",text:"Bold, warm, and way too relatable.",flavor:"Every meme, a masterpiece.",effect:"pop_hoodie_sale",revenuePerSale:7500,inventory:4},{id:"reusable_water_bottle",name:"Reusable Water Bottle",cost:2,type:"Product",text:"Hydration hustle.",flavor:"Stay cool while you save the world.",effect:"water_bottle_sale",revenuePerSale:4500,inventory:6},{id:"makeup_brush_set",name:"Makeup Brush Set",cost:2,type:"Product",text:"Brush up on your beauty game.",flavor:"Blend, buff, and bank profits.",effect:"makeup_brush_sale",revenuePerSale:4500,inventory:5},{id:"subscription_box_trial",name:"Subscription Box Trial",cost:2,type:"Product",text:"A surprise in every sale.",flavor:"Next month's excitement, today.",effect:"subscription_trial_sale",revenuePerSale:4500,inventory:5},{id:"budget_tracker_printable",name:"Printable Budget Tracker",cost:1,type:"Product",text:"Track it, stack it.",flavor:"Every penny has a plan.",effect:"budget_tracker_sale",revenuePerSale:3e3,inventory:6},{id:"kids_dinosaur_tee",name:"Kids' Dinosaur Tee",cost:2,type:"Product",text:"RAWR means 'thank you for your order!'",flavor:"Jurassic-sized cuteness.",effect:"dinosaur_tee_sale",revenuePerSale:4500,inventory:6},{id:"luxury_bath_bomb_set",name:"Luxury Bath Bomb Set",cost:3,type:"Product",text:"Fizz the biz.",flavor:"Turns bathtubs into profit pods.",effect:"bath_bomb_sale",revenuePerSale:7500,inventory:4},{id:"handwritten_greeting_cards",name:"Handwritten Greeting Cards",cost:1,type:"Product",text:"Snail mail never felt so good.",flavor:"A personal touch with professional margins.",effect:"greeting_cards_sale",revenuePerSale:3e3,inventory:6}],Bg=[{id:"bulk_order_deal",name:"Bulk Order Deal",cost:2,type:"Action",text:"Choose a Product. Add +2 inventory.",flavor:"Buy low, sell a lot.",effect:"add_inventory_to_product"},{id:"reorder_notification",name:"Reorder Notification",cost:1,type:"Action",text:"Choose a Product with 0 inventory. Add +3 inventory.",flavor:"Running out? Not on our watch.",effect:"add_inventory_if_empty"},{id:"dropship_restock",name:"Dropship Restock",cost:2,type:"Action",text:"All Products with less than 2 inventory gain +1.",flavor:"Your virtual shelves just got fuller.",effect:"add_inventory_to_low_stock"},{id:"warehouse_expansion",name:"Warehouse Expansion",cost:3,type:"Action",text:"Choose up to 3 Products. Add +1 inventory to each.",flavor:"More room, more boom.",effect:"multi_product_inventory_boost"},{id:"viral_unboxing",name:"Viral Unboxing Video",cost:3,type:"Action",text:"Choose a Product. Add +1 inventory and +1 sale this turn.",flavor:"Inventory's flying  and so are the views.",effect:"inventory_and_sale_boost"},{id:"supplier_collab",name:"Supplier Collab",cost:2,type:"Action",text:"Choose a Product. Add +2 inventory. Its next sale earns +1000.",flavor:"We go further when we go together.",effect:"inventory_boost_plus_revenue"},{id:"fulfillment_integration",name:"Fulfillment App Integration",cost:2,type:"Action",text:"At the start of your next 2 turns, add +1 inventory to a random Product.",flavor:"Bots don't sleep.",effect:"delayed_inventory_boost"},{id:"inventory_forecast_tool",name:"Inventory Forecast Tool",cost:1,type:"Action",text:"Draw 1. Then choose a Product to gain +1 inventory.",flavor:"Guessing is out. Planning is in.",effect:"draw_and_inventory"},{id:"last_minute_restock",name:"Last-Minute Restock",cost:1,type:"Action",text:"Choose any Product. Add +1 inventory.",flavor:"Ran out? Not today.",effect:"simple_inventory_boost"}],Oi={REVENUE_GOAL:5e5,MAX_CAPITAL:10,STARTING_HAND_SIZE:5,CARDS_DRAWN_PER_TURN:1};function jt(i,a,r){if(i.deck.length>0){const o=i.deck.pop();if(o)return i.hand.push(o),r&&a?r.push(`${a}: Drew ${o.name}`):r&&r.push(`Drew ${o.name}`),o}else r&&r.push(`${a?a+": ":""}Cannot draw - deck is empty!`)}function Ao(){return{tempSalesBoost:0,flashSaleActive:!1,nextProductBonus:0,doubleRevenueThisTurn:!1,nextActionRevenue:0,nextProductDiscount:0,nextCardDiscount:0,extraCardPlays:0,extraActionPlays:0,doubleCapitalGain:!1,recurringCapitalNextTurn:0,firstProductPlayed:!1,playedActionThisTurn:!1,playedActionLastTurn:!1,playedToolThisTurn:!1,playedActionsThisTurn:0,soldProductThisTurn:!1,soldProductLastTurn:!1,itemsSoldThisTurn:0,cardsPlayedThisTurn:0,cardsPlayedLastTurn:0,productCardsPlayedThisTurn:0,tempAppealBoosts:{},globalAppealBoost:0,productCostReduction:0,canRefreshProduct:!1,comboThreshold:2,comboActive:!1,effectsDoubled:!1,automatedSales:!1,toolEffectBonus:0,midnightOilDiscardPending:!1,fastPivotProductDestroyPending:!1,lastActionEffect:void 0,lastActionCard:void 0,delayedInventoryBoostTurns:0,soloHustlerDiscountedCard:void 0,warehouseExpansionCount:0,recentlyAffectedCardIds:[],productRevenueBoosts:{},recentlySoldProductIds:[],nextRevenueGainMultiplier:1,recentlySoldProductTimestamps:{},turnStartProductsSold:!1}}function Vx(i,a){var r;if((r=i.effectContext)!=null&&r[a]){const o=i.effectContext[a];o.soldProductLastTurn=o.soldProductThisTurn||!1,o.playedActionLastTurn=o.playedActionThisTurn||!1,o.cardsPlayedLastTurn=o.cardsPlayedThisTurn||0,o.recurringCapitalNextTurn&&o.recurringCapitalNextTurn>0&&(gt(i,a,o.recurringCapitalNextTurn),o.recurringCapitalNextTurn=0),o.tempSalesBoost=0,o.flashSaleActive=!1,o.nextProductBonus=0,o.doubleRevenueThisTurn=!1,o.nextActionRevenue=0,o.nextProductDiscount=0,o.extraCardPlays=0,o.extraActionPlays=0,o.firstProductPlayed=!1,o.playedActionThisTurn=!1,o.playedToolThisTurn=!1,o.playedActionsThisTurn=0,o.soldProductThisTurn=!1,o.itemsSoldThisTurn=0,o.cardsPlayedThisTurn=0,o.productCardsPlayedThisTurn=0,o.tempAppealBoosts={},o.globalAppealBoost=0,o.productCostReduction=0,o.canRefreshProduct=!1,o.comboActive=!1,o.effectsDoubled=!1,o.automatedSales=!1,o.toolEffectBonus=0,o.midnightOilDiscardPending=!1,o.fastPivotProductDestroyPending=!1,o.lastActionEffect=void 0,o.lastActionCard=void 0,o.soloHustlerDiscountedCard=void 0,o.warehouseExpansionCount=0,o.recentlyAffectedCardIds=[],o.productRevenueBoosts={},o.turnStartProductsSold=!1;const c=Date.now(),f=2e3;o.recentlySoldProductIds&&o.recentlySoldProductTimestamps&&(o.recentlySoldProductIds=o.recentlySoldProductIds.filter(d=>{const p=o.recentlySoldProductTimestamps[d];return p&&c-p<f?!0:(delete o.recentlySoldProductTimestamps[d],!1)}))}}function Ba(i,a){return i.effectContext||(i.effectContext={}),i.effectContext[a]||(i.effectContext[a]=Ao()),i.effectContext[a]}function gt(i,a,r){var d;const o=i.players[a],c=(d=i.effectContext)==null?void 0:d[a];let f=r;c&&c.doubleCapitalGain&&(f=r*2,c.doubleCapitalGain=!1,i.gameLog&&i.gameLog.push(`Investor Buzz: Capital gain doubled! (${r}  ${f})`)),o.capital=Math.min(10,o.capital+f)}function Xx(i,a,r){var d;const o=i.players[a],c=(d=i.effectContext)==null?void 0:d[a];let f=r;if(c&&c.nextRevenueGainMultiplier&&c.nextRevenueGainMultiplier!==1){if(f=Math.floor(r*c.nextRevenueGainMultiplier),i.gameLog){const p=Math.round((c.nextRevenueGainMultiplier-1)*100);i.gameLog.push(`Revenue boosted by ${p}%: $${r.toLocaleString()}  $${f.toLocaleString()}`)}c.nextRevenueGainMultiplier=1}o.revenue+=f}function Rt(i,a,r,o){const c=i.players[a];for(let f=0;f<r;f++)jt(c,o,i.gameLog)}function ko(i,a,r,o){const c=Ba(i,a);switch(r){case"nextProductBonus":c.nextProductBonus=o;break;case"nextCardDiscount":c.nextCardDiscount=o;break;case"nextProductDiscount":c.nextProductDiscount=o;break;case"extraActionPlays":c.extraActionPlays=(c.extraActionPlays||0)+o;break;case"extraCardPlays":c.extraCardPlays=(c.extraCardPlays||0)+o;break;case"nextActionRevenue":c.nextActionRevenue=o;break}}const gu=()=>{},Qx={hustle_hard:(i,a)=>{Rt(i,a,2,"Hustle Hard"),gt(i,a,1)},bootstrap_capital:(i,a)=>{gt(i,a,2)},diy_assembly:gu,fast_pivot:(i,a)=>{if(i.players[a].board.Products.length>0){const o=Ba(i,a);o.fastPivotProductDestroyPending=!0}},freelancer_network:(i,a)=>{Rt(i,a,2,"Freelancer Network")},resourceful_solutions:(i,a)=>{ko(i,a,"nextCardDiscount",2)},scrappy_marketing:(i,a)=>{i.players[a].board.Products.length>0&&Rt(i,a,2,"Scrappy Marketing")},midnight_oil:(i,a)=>{Rt(i,a,3,"Midnight Oil");const r=Ba(i,a);r.midnightOilDiscardPending=!0},quick_learner:gu,shoestring_budget:gu},uo=()=>{},Zx={brand_vision:(i,a)=>{const r=i.players[a];Rt(i,a,r.board.Products.length>0?2:1,"Brand Vision")},influencer_collab:(i,a)=>{i.players[a].board.Products.length>0?(gt(i,a,3),i.gameLog&&i.gameLog.push("Influencer Collab: Gained 3 capital (control a Product)")):i.gameLog&&i.gameLog.push("Influencer Collab: No effect (no Products controlled)")},content_calendar:uo,viral_post:(i,a)=>{var c;const r=(c=i.effectContext)==null?void 0:c[a];((r==null?void 0:r.playedActionsThisTurn)||0)>1?(gt(i,a,2),i.gameLog&&i.gameLog.push("Viral Post: Gained 2 capital (played another Action this turn)")):Rt(i,a,1,"Viral Post")},email_list:uo,visual_identity:uo,founder_story:(i,a)=>{const r=i.players[a];Rt(i,a,r.board.Employees.length>0?3:2,"Founder Story")},social_proof:(i,a)=>{var o;const r=(o=i.effectContext)==null?void 0:o[a];r&&(r.nextRevenueGainMultiplier=1.25,i.gameLog&&i.gameLog.push("Social Proof: Next revenue gain will be +25% extra (persists until used)"))},ugc_explosion:(i,a)=>{const o=i.players[a].board.Products.filter(c=>c.isActive!==!1);o.forEach(c=>{var f;c.inventory!==void 0&&(c.inventory+=3,(f=i.effectContext)!=null&&f[a]&&(i.effectContext[a].recentlyAffectedCardIds||(i.effectContext[a].recentlyAffectedCardIds=[]),i.effectContext[a].recentlyAffectedCardIds.push(c.id)))}),i.gameLog&&o.length>0&&i.gameLog.push(`UGC Explosion: Added 3 inventory to ${o.length} product${o.length!==1?"s":""}`)},personal_branding:uo};function fo(i,a,r){const o=r?i.board.Products.filter(c=>c.isActive!==!1&&r(c)):i.board.Products.filter(c=>c.isActive!==!1);o.length>0&&yt(i,{type:"choose_card",effect:a,cards:o.map(c=>({...c}))})}function yt(i,a){i.pendingChoices.push(a)}function Kx(i){return i.pendingChoices[0]}function _t(i){return i.pendingChoices.shift()}const Ei=()=>{},$x={auto_fulfill:Ei,optimize_checkout:Ei,analytics_dashboard:Ei,email_automation:Ei,ab_test:(i,a,r)=>{const o=i.players[a],c=o.hand.length;Rt(i,a,2,"A/B Test");const f=o.hand.length-c;if(f>0){const d=o.hand.slice(-f);d.length>0&&yt(o,{type:"choose_from_drawn_to_discard",effect:"ab_test_discard",cards:d.map(p=>({...p})),count:1,sourceCard:r?{...r}:void 0})}else i.gameLog&&i.gameLog.push("A/B Test: Drew no cards, no discard necessary.")},scale_systems:Ei,optimize_workflow:(i,a)=>{ko(i,a,"nextCardDiscount",2)},custom_app:(i,a)=>{Rt(i,a,1,"Custom App")},zap_everything:(i,a)=>{const o=i.players[a].board.Tools.length;gt(i,a,2),o>=3?(gt(i,a,1),i.gameLog&&i.gameLog.push(`Zap Everything: Gained 3 capital total (bonus for having ${o} Tools)`)):i.gameLog&&i.gameLog.push("Zap Everything: Gained 2 capital")},technical_cofounder:Ei},ho=()=>{},Gx={town_hall:(i,a)=>{Rt(i,a,i.players[a].board.Employees.length)},mutual_aid:(i,a)=>{gt(i,a,2)},hype_train:ho,mentorship_circle:ho,steady_fans:ho,shared_spotlight:(i,a)=>{var o;Rt(i,a,2);const r=(o=i.effectContext)==null?void 0:o[a];r!=null&&r.cardsPlayedThisTurn&&r.cardsPlayedThisTurn>=2&&ko(i,a,"nextCardDiscount",1)},community_manager:ho,live_ama:(i,a)=>{Rt(i,a,2),gt(i,a,1)},merch_drop:(i,a)=>{const r=i.players[a],o=r.board.Products.filter(c=>c.isActive!==!1&&c.inventory!==void 0);o.length>0?yt(r,{type:"choose_card",effect:"merch_drop_add_inventory",cards:o.map(c=>({...c}))}):i.gameLog&&i.gameLog.push("Merch Drop: No products available to boost inventory.")},grassroots_launch:(i,a)=>{i.players[a].board.Products.forEach(r=>{r.inventory!==void 0&&(r.inventory+=2)})}};let ku={};function Jx(i){ku=i}function Xn(i,a,r,o=1){var y,m;if(!r.inventory||r.inventory<o)return console.warn(`Cannot sell ${o} of ${r.name} - only ${r.inventory||0} available`),0;const c=i.players[a];let d=(r.revenuePerSale||0)*o;c.board.Tools.find(x=>x.effect==="optimize_checkout")&&(d+=1e3*o);const p=(y=i.effectContext)==null?void 0:y[a];return p&&p.productRevenueBoosts&&p.productRevenueBoosts[r.id]&&(d+=p.productRevenueBoosts[r.id]*o),r.inventory-=o,Xx(i,a,d),r.effect&&r.effect.endsWith("_sale")&&ku[r.effect]&&ku[r.effect](i,a,r),p&&(p.soldProductThisTurn=!0,p.itemsSoldThisTurn=(p.itemsSoldThisTurn||0)+o,r.id&&!p.recentlySoldProductIds&&(p.recentlySoldProductIds=[]),r.id&&!p.recentlySoldProductTimestamps&&(p.recentlySoldProductTimestamps={}),r.id&&((m=p.recentlySoldProductIds)==null||m.push(r.id),p.recentlySoldProductTimestamps&&(p.recentlySoldProductTimestamps[r.id]=Date.now()))),d}const Ai=()=>{},Ix={legacy_playbook:Ai,advisory_board:Ai,spin_off:Ai,high_profile_exit:(i,a)=>{const r=i.players[a];let o=0;r.board.Products.forEach(c=>{c.inventory&&c.inventory>0&&(Xn(i,a,c,c.inventory),o++)}),gt(i,a,o*2)},market_surge:(i,a)=>{i.players[a].board.Products.length>0?gt(i,a,3):Rt(i,a,2)},serial_operator:Ai,investor_buzz:(i,a)=>{const r=Ba(i,a);r.doubleCapitalGain=!0},incubator_resources:Ai,board_of_directors:Ai,black_friday_blitz:(i,a,r)=>{const o=i.players[a],c=o.board.Products.filter(f=>f.isActive!==!1&&f.inventory&&f.inventory>0);c.length>0?yt(o,{type:"choose_card",effect:"black_friday_blitz_sell_product",cards:c.map(f=>({...f})),sourceCard:r?{...r}:void 0}):i.gameLog&&i.gameLog.push("Black Friday Blitz: No products available to sell.")}},Re=()=>{},Wx={custom_dog_portrait_sale:Re,minimalist_planner_sale:Re,ai_logo_sale:Re,sticker_pack_sale:Re,digital_wedding_invite_sale:Re,holiday_mug_sale:Re,soy_candle_sale:Re,sweater_bundle_sale:Re,yoga_course_sale:Re,name_necklace_sale:Re,pet_box_sale:Re,self_care_sale:Re,tshirt_drop_sale:Re,coffee_sampler_sale:Re,wedding_invite_sale:Re,enamel_pin_sale:Re,eco_tote_sale:Re,freelancing_ebook_sale:Re,phone_case_sale:Re,art_print_sale:Re,planner_stickers_sale:Re,pop_hoodie_sale:Re,water_bottle_sale:Re,makeup_brush_sale:Re,subscription_trial_sale:Re,budget_tracker_sale:Re,dinosaur_tee_sale:Re,bath_bomb_sale:Re,greeting_cards_sale:Re,black_friday_sale:Re,desk_clock_sale:Re},Fx={add_inventory_to_product:(i,a)=>{fo(i.players[a],"add_inventory_to_product")},add_inventory_if_empty:(i,a)=>{fo(i.players[a],"add_inventory_if_empty",r=>r.inventory===0)},add_inventory_to_low_stock:(i,a)=>{i.players[a].board.Products.forEach(r=>{r.inventory!==void 0&&r.inventory<2&&r.isActive!==!1&&(r.inventory+=1)})},multi_product_inventory_boost:(i,a)=>{const r=i.players[a],o=r.board.Products.filter(f=>f.isActive!==!1);if(o.length===0)return;const c=Ba(i,a);c.warehouseExpansionCount=0,yt(r,{type:"choose_card",effect:"multi_product_inventory_boost",cards:o.map(f=>({...f}))})},inventory_and_sale_boost:(i,a)=>{const r=i.players[a],o=r.board.Products.filter(c=>c.isActive!==!1&&c.inventory!==void 0);o.length>0&&yt(r,{type:"choose_card",effect:"inventory_and_sale_boost",cards:o.map(c=>({...c}))})},inventory_boost_plus_revenue:(i,a)=>{const r=i.players[a],o=r.board.Products.filter(c=>c.isActive!==!1);o.length>0&&yt(r,{type:"choose_card",effect:"inventory_boost_plus_revenue",cards:o.map(c=>({...c}))})},delayed_inventory_boost:(i,a)=>{const r=Ba(i,a);r.delayedInventoryBoostTurns=2},draw_and_inventory:(i,a)=>{Rt(i,a,1,"Inventory Forecast Tool"),fo(i.players[a],"draw_and_inventory")},simple_inventory_boost:(i,a)=>fo(i.players[a],"simple_inventory_boost"),factory_direct:(i,a)=>{const r=i.players[a],o=r.board.Products.filter(c=>c.isActive!==!1);o.length>0&&yt(r,{type:"choose_card",effect:"inventory_boost_plus_revenue",cards:o.map(c=>({...c}))})},fulfillment_center:(i,a)=>{const r=i.players[a];jt(r,"Fulfillment Center",i.gameLog);const o=r.board.Products.filter(c=>c.isActive!==!1);o.length>0&&yt(r,{type:"choose_card",effect:"draw_and_inventory",cards:o.map(c=>({...c}))})},warehouse_expansion:(i,a)=>{const r=i.players[a],o=r.board.Products.filter(c=>c.isActive!==!1);if(o.length>0){const c=Ba(i,a);c.warehouseExpansionCount=0,yt(r,{type:"choose_card",effect:"multi_product_inventory_boost",cards:o.map(f=>({...f}))})}}},kr=()=>{},za={...Qx,...Zx,...$x,...Gx,...Ix,...Wx,...Fx,solo_hustler_grind:kr,brand_builder_engage:kr,automation_architect_deploy:kr,community_leader_viral:kr,serial_founder_double_down:kr};Jx(za);function e1(i,a,r){const o=i.players[a],c=o.board.Products.findIndex(f=>f.id===r);c!==-1?(o.board.Products.splice(c,1),Rt(i,a,2,"Fast Pivot"),ko(i,a,"nextProductDiscount",2)):console.warn(`Fast Pivot: Product with ID ${r} not found on board for player ${a}.`)}const Xy={solo_hustler_grind:(i,a)=>{const r=i.players[a];i.effectContext||(i.effectContext={}),i.effectContext[a]||(i.effectContext[a]=Ao());const o=r.hand.length;if(jt(r,"Solo Hustler (Grind)",i.gameLog),r.hand.length>o){const c=r.hand[r.hand.length-1];c.type==="Product"&&(i.effectContext[a].soloHustlerDiscountedCard||(i.effectContext[a].soloHustlerDiscountedCard=c.id),i.gameLog&&i.gameLog.push(`Solo Hustler (Grind): ${c.name} costs 1 less this turn`))}r.heroAbilityUsed=!0},brand_builder_engage:(i,a)=>{const r=i.players[a],o=r.board.Products.filter(c=>c.isActive!==!1&&c.inventory!==void 0);o.length>0?yt(r,{type:"choose_card",effect:"brand_builder_engage_add_inventory",cards:o.map(c=>({...c}))}):i.gameLog&&i.gameLog.push("Engage: No products available to add inventory to."),r.heroAbilityUsed=!0},automation_architect_deploy:(i,a)=>{const r=i.players[a];i.effectContext||(i.effectContext={}),i.effectContext[a]||(i.effectContext[a]=Ao()),i.effectContext[a].recurringCapitalNextTurn=(i.effectContext[a].recurringCapitalNextTurn||0)+1,r.heroAbilityUsed=!0},community_leader_viral:(i,a)=>{var c,f;const r=i.players[a],o=((f=(c=i.effectContext)==null?void 0:c[a])==null?void 0:f.cardsPlayedThisTurn)||0;if(o>=2){const d=r.board.Products.filter(p=>p.isActive!==!1);if(d.length>0){const p=Math.floor(Math.random()*d.length),y=d[p],m={...y};r.deck.push(m),i.gameLog&&i.gameLog.push(`Go Viral: Added a copy of ${y.name} to your deck!`)}else i.gameLog&&i.gameLog.push("Go Viral: No products on board to copy.")}else i.gameLog&&i.gameLog.push(`Go Viral: Need to play 2+ cards this turn (played ${o}).`);r.heroAbilityUsed=!0},serial_founder_double_down:(i,a)=>{const r=i.players[a];yt(r,{type:"choose_option",effect:"serial_founder_double_down",options:["Draw a card","Add 2 inventory to a Product"]})}};function t1(i,a){var c;const r=i.players[a],o=(c=i.effectContext)==null?void 0:c[a];if(o!=null&&o.delayedInventoryBoostTurns&&o.delayedInventoryBoostTurns>0){const f=r.board.Products.filter(d=>d.isActive!==!1&&d.inventory!==void 0);if(f.length>0){const d=Math.floor(Math.random()*f.length),p=f[d];p.inventory!==void 0&&(p.inventory+=1,o.recentlyAffectedCardIds||(o.recentlyAffectedCardIds=[]),o.recentlyAffectedCardIds=[p.id],i.gameLog&&i.gameLog.push(`Fulfillment App Integration: Added +1 inventory to ${p.name}.`))}o.delayedInventoryBoostTurns--}else o==null||o.delayedInventoryBoostTurns}function n1(i,a){var b,S;const r=i.players[a];r.board.Tools.find(T=>T.effect==="auto_fulfill")&&((S=(b=i.effectContext)==null?void 0:b[a])!=null&&S.soldProductLastTurn)&&(r.capital=Math.min(10,r.capital+1)),r.board.Tools.find(T=>T.effect==="basic_script")&&(r.capital=Math.min(10,r.capital+1)),r.board.Tools.find(T=>T.effect==="email_automation")&&(r.capital=Math.min(10,r.capital+1)),r.board.Tools.find(T=>T.effect==="scale_systems")&&(r.capital=Math.min(10,r.capital+1)),r.board.Tools.find(T=>T.effect==="custom_app")&&(r.capital=Math.min(10,r.capital+1));const y=r.board.Tools.find(T=>T.effect==="analytics_dashboard");if(y&&r.deck.length>0){const T=r.deck.slice(-2).reverse();r.pendingChoices.push({type:"view_deck_and_discard",effect:"analytics_dashboard_discard",cards:T.map(w=>({...w})),count:T.length,sourceCard:{...y}})}if(r.board.Tools.find(T=>T.effect==="ml_model")){const T=r.board.Tools.length;r.capital=Math.min(10,r.capital+T)}r.board.Products.find(T=>T.effect==="server_farm")&&(r.revenue+=1e4)}function a1(i,a){const r=i.players[a];r.board.Employees.find(c=>c.effect==="community_manager")&&r.board.Products.forEach(c=>{if(c.appeal&&c.appeal>0){const f=c.appeal*5e3;r.revenue+=f}})}function i1(i,a){const r=i.players[a];if(r.board.Tools.find(y=>y.effect==="legacy_playbook")&&jt(r,"Legacy Playbook",i.gameLog),r.board.Tools.find(y=>y.effect==="board_of_directors")&&(r.capital=Math.min(10,r.capital+2),i.gameLog&&i.gameLog.push("Board of Directors provided +2 Capital.")),r.board.Tools.find(y=>y.effect==="growth_hacking")){const y=i.turn%3;y===0?(r.capital=Math.min(10,r.capital+1),i.gameLog&&i.gameLog.push("Growth Hacking provided +1 Capital.")):y===1?jt(r,"Growth Hacking",i.gameLog):(r.revenue+=2e4,i.gameLog&&i.gameLog.push("Growth Hacking provided +$20k Revenue."))}if(r.board.Employees.find(y=>y.effect==="business_development")){const y=i.turn%3;y===1?(r.capital=Math.min(10,r.capital+1),i.gameLog&&i.gameLog.push("Business Development provided +1 Capital.")):y===2?jt(r,"Business Development",i.gameLog):(r.revenue+=25e3,i.gameLog&&i.gameLog.push("Business Development provided +$25k Revenue."))}const p=r.board.Tools.find(y=>y.effect==="incubator_resources");p&&yt(r,{type:"choose_option",effect:"incubator_resources_choice",options:["Gain 1 Capital","Draw 1 Card"],sourceCard:{...p}})}function r1(i,a){var c;const r=i.players[a];r.board.Employees.find(f=>f.effect==="content_creator")&&((c=i.effectContext)!=null&&c[a])&&r.hand.length>=5&&(r.revenue+=5e4)}function l1(i,a){var m,x;const r=i.players[a];if(r.board.Tools.find(b=>b.effect==="ad_budget_boost")&&(r.capital=Math.min(10,r.capital+1)),r.board.Tools.find(b=>b.effect==="inventory_forecast")){const b=r.board.Products.length;r.capital=Math.min(10,r.capital+b)}if(r.board.Employees.find(b=>b.effect==="beta_tester_squad")&&((x=(m=i.effectContext)==null?void 0:m[a])!=null&&x.soldProductLastTurn)&&(r.capital=Math.min(10,r.capital+1)),r.board.Employees.find(b=>b.effect==="venture_capitalist")&&(r.capital=Math.min(10,r.capital+2)),r.board.Employees.find(b=>b.effect==="influencer_partnership")){const b=r.board.Products.find(S=>S.inventory!==void 0);b&&b.inventory!==void 0&&(b.inventory+=1)}r.board.Employees.find(b=>b.effect==="warehouse_manager")&&r.board.Products.forEach(b=>{b.inventory!==void 0&&(b.inventory+=1)})}function o1(i,a){var p;const r=i.players[a],o=(p=i.effectContext)==null?void 0:p[a];if(r.board.Tools.find(y=>y.effect==="content_calendar")){const y=r.board.Products.filter(m=>m.inventory!==void 0&&m.isActive!==!1);if(y.length>0){let m=y[0];for(const x of y)x.inventory!==void 0&&m.inventory!==void 0&&x.inventory<m.inventory&&(m=x);m.inventory!==void 0&&(m.inventory+=1,o&&(o.recentlyAffectedCardIds||(o.recentlyAffectedCardIds=[]),o.recentlyAffectedCardIds.push(m.id)),i.gameLog&&i.gameLog.push(`Content Calendar: Added +1 inventory to ${m.name}.`))}}r.board.Tools.find(y=>y.effect==="email_list")&&r.board.Products.length>=2&&(gt(i,a,1),i.gameLog&&i.gameLog.push("Email List: Gained +1 capital for controlling 2+ Products.")),r.board.Tools.find(y=>y.effect==="personal_branding")&&(o!=null&&o.playedActionLastTurn)&&jt(r,"Personal Branding",i.gameLog)}function s1(i,a){var p;const r=i.players[a],o=(p=i.effectContext)==null?void 0:p[a];r.board.Tools.find(y=>y.effect==="hype_train")&&o&&o.cardsPlayedLastTurn&&o.cardsPlayedLastTurn>=2&&(gt(i,a,1),i.gameLog&&i.gameLog.push("Hype Train: Gained 1 capital for playing 2+ cards last turn.")),r.board.Tools.find(y=>y.effect==="mentorship_circle")&&jt(r,"Mentorship Circle",i.gameLog),r.board.Tools.find(y=>y.effect==="steady_fans")&&(i.turn||1)%2===0&&(gt(i,a,1),i.gameLog&&i.gameLog.push("Steady Fans: Gained 1 capital (every other turn)."))}function c1(i,a,r){var c,f,d;let o=0;return(f=(c=i.effectContext)==null?void 0:c[a])!=null&&f.nextCardDiscount&&(o+=i.effectContext[a].nextCardDiscount||0,(d=i.effectContext)!=null&&d[a]&&(i.effectContext[a].nextCardDiscount=0)),o}function u1(i,a){let r=0;return a.type==="Action"&&(i.board.Employees.find(o=>o.effect==="brand_ambassador")&&(r+=1),i.board.Employees.find(o=>o.effect==="customer_support_team")&&(r+=1)),r}function f1(i,a,r,o,c){var d,p,y;let f=0;return o.type==="Product"&&(o.id&&((p=(d=i.effectContext)==null?void 0:d[a])==null?void 0:p.soloHustlerDiscountedCard)===o.id&&(f+=1,(y=i.effectContext)!=null&&y[a]&&(i.effectContext[a].soloHustlerDiscountedCard=void 0)),r.board.Tools.find(m=>m.effect==="diy_assembly")&&(f+=1)),f}function d1(i,a){return a.type==="Product"&&i.board.Tools.find(r=>r.effect==="quality_materials")?-1:0}function h1(i,a){if(a.type==="Product"){const r=i.board.Tools.find(o=>o.effect==="visual_identity");if(r&&i.board.Tools.filter(c=>c.id!==r.id).length>0)return 1}return 0}function p1(i,a,r){var f;let o=0;return r.board.Tools.find(d=>d.effect==="shoestring_budget")&&((f=i.effectContext)!=null&&f[a])&&(!i.effectContext[a].cardsPlayedThisTurn||i.effectContext[a].cardsPlayedThisTurn===0)&&(o+=1),o}function y1(i,a){return i.board.Employees.find(o=>o.effect==="community_manager")&&(a.type==="Tool"||a.type==="Action")?1:0}function g1(i,a,r){var o,c;return r.effect==="merch_drop"&&(((c=(o=i.effectContext)==null?void 0:o[a])==null?void 0:c.cardsPlayedThisTurn)||0)>=2?1:0}function m1(i,a){return a.effect==="spin_off"?i.board.Products.length:0}function v1(i,a){return a.type==="Product"&&i.board.Employees.find(r=>r.effect==="serial_operator")?1:0}function b1(i,a){l1(i,a),t1(i,a),n1(i,a),a1(i,a),i1(i,a),r1(i,a),o1(i,a),s1(i,a)}function x1(i,a){const r=i.players[a],c=!!r.board.Tools.find(y=>y.effect==="security_patch"),f=r.board.Tools.find(y=>y.effect==="load_balancer"),d=r.board.Tools.find(y=>y.effect==="patent_portfolio"),p=(f?1:0)+(d?1:0);r.board.Products.forEach(y=>{if(y.overheadCost&&y.isActive){const m=Math.max(0,y.overheadCost-p);m>0&&r.capital<m?c||(y.isActive=!1):m>0&&(r.capital-=m)}})}function _1(i,a){var x;const r=i.players[a];let o=0,c=!1;r.board.Products.forEach(b=>{b.inventory&&b.inventory>0&&b.isActive!==!1&&(Xn(i,a,b,1),o++,c=!0)}),o>0&&((x=i.effectContext)!=null&&x[a])&&(i.effectContext[a].soldProductThisTurn=!0,i.effectContext[a].itemsSoldThisTurn=(i.effectContext[a].itemsSoldThisTurn||0)+o,i.effectContext[a].turnStartProductsSold=c);const f=r.board.Products.find(b=>b.effect==="popup_shop");if(f&&f.inventory&&f.inventory>0&&f.isActive&&Xn(i,a,f,1),r.board.Tools.find(b=>b.effect==="automate_checkout")){const b=r.board.Products.find(S=>S.inventory&&S.inventory>0&&S.isActive);b&&Xn(i,a,b,1)}if(r.board.Employees.find(b=>b.effect==="ai_salesbot")){const b=r.board.Products.find(S=>S.inventory&&S.inventory>0&&S.isActive);b&&Xn(i,a,b,1)}if(r.board.Tools.find(b=>b.effect==="delivery_drone_fleet")){const b=r.board.Products.find(S=>S.inventory&&S.inventory>0&&S.isActive);b&&Xn(i,a,b,1)}r.board.Tools.find(b=>b.effect==="automated_pipeline")&&r.board.Products.forEach(b=>{b.inventory&&b.inventory>0&&b.isActive&&Xn(i,a,b,1)})}function S1(i,a,r){const o=i.players[a];let c=0;return c+=c1(i,a),c+=u1(o,r),c+=f1(i,a,o,r),c+=d1(o,r),c+=p1(i,a,o),c+=y1(o,r),c+=h1(o,r),c+=g1(i,a,r),c+=m1(o,r),c+=v1(o,r),r.type==="Tool"&&o.board.Employees.find(f=>f.effect==="technical_cofounder")&&(c+=1),c}function T1(i,a,r){var f,d,p,y,m;const o=i.players[a],c=(f=i.effectContext)==null?void 0:f[a];if(c){if(c.cardsPlayedThisTurn=(c.cardsPlayedThisTurn||0)+1,r.type==="Action"&&(c.playedActionThisTurn=!0,c.playedActionsThisTurn=(c.playedActionsThisTurn||0)+1,o.board.Tools.find(T=>T.effect==="visionary_conference")&&(o.revenue+=25e3),o.board.Tools.find(T=>T.effect==="innovation_lab")&&jt(o,"Innovation Lab",i.gameLog),c.nextActionRevenue&&c.nextActionRevenue>0&&(o.revenue+=c.nextActionRevenue,c.nextActionRevenue=0)),r.type==="Tool"&&(c.playedToolThisTurn=!0),r.type==="Product"){if(c.firstProductPlayed=!0,c.productCardsPlayedThisTurn=(c.productCardsPlayedThisTurn||0)+1,r.appeal!==void 0?(c.globalAppealBoost&&(r.appeal+=c.globalAppealBoost),o.board.Tools.find(w=>w.effect==="design_workshop")&&(r.appeal+=1)):(c.globalAppealBoost||o.board.Tools.some(T=>T.effect==="design_workshop"))&&(r.appeal=0,c.globalAppealBoost&&(r.appeal+=c.globalAppealBoost),o.board.Tools.find(w=>w.effect==="design_workshop")&&(r.appeal+=1)),o.board.Tools.find(T=>T.effect==="venture_network")){const T=o.hand.length;if(jt(o,"Venture Network",i.gameLog),o.hand.length>T&&((d=i.effectContext)!=null&&d[a])){const w=o.hand[o.hand.length-1];w!=null&&w.id&&(i.effectContext[a].recentlyAffectedCardIds||(i.effectContext[a].recentlyAffectedCardIds=[]),(p=i.effectContext[a].recentlyAffectedCardIds)==null||p.push(w.id))}}if(o.board.Tools.find(T=>T.effect==="advisory_board")){const T=o.hand.length;if(jt(o,`Advisory Board (${r.name} played)`,i.gameLog),o.hand.length>T&&((y=i.effectContext)!=null&&y[a])){const w=o.hand[o.hand.length-1];w!=null&&w.id&&(i.effectContext[a].recentlyAffectedCardIds||(i.effectContext[a].recentlyAffectedCardIds=[]),(m=i.effectContext[a].recentlyAffectedCardIds)==null||m.push(w.id))}}}c.cardsPlayedThisTurn===2&&o.board.Employees.find(S=>S.effect==="social_media_manager")&&(o.capital=Math.min(10,o.capital+1)),o.board.Products.filter(b=>b.effect==="trending_product").forEach(b=>{b.inventory!==void 0&&(b.inventory+=1)})}}function E1(i,a){const r={hand:[],deck:[...a],board:{Tools:[],Products:[],Employees:[]},revenue:0,capital:0,hero:i,heroAbilityUsed:!1,pendingChoices:[]};for(let o=r.deck.length-1;o>0;o--){const c=Math.floor(Math.random()*(o+1));[r.deck[o],r.deck[c]]=[r.deck[c],r.deck[o]]}for(let o=0;o<Oi.STARTING_HAND_SIZE;o++)jt(r);return r}function Pr(i){for(const r in i.players)if(i.players[r].revenue>=Oi.REVENUE_GOAL){i.gameOver=!0,i.winner=!0;return}let a=!0;for(const r in i.players){const o=i.players[r];if(o.deck.length>0){a=!1;break}if(o.board.Products.some(f=>f.inventory&&f.inventory>0&&f.isActive!==!1)){a=!1;break}}a&&(i.gameOver=!0,i.winner=!1)}function Lg(i){const a=[...i];for(let r=a.length-1;r>0;r--){const o=Math.floor(Math.random()*(r+1));[a[r],a[o]]=[a[o],a[r]]}return a}function mu(i,a){const r=Lg(i);return r.slice(0,Math.min(a,r.length))}function A1(i){const a=[...i],r=mu(i,10),o=mu(Bg,7),c=mu(zg,18),f=[...a,...r,...o,...c];return Lg(f)}const C1={name:"dream-builders",setup:({ctx:i})=>{const a={},r=typeof window<"u"?localStorage.getItem("selectedHero"):null;for(let o=0;o<i.numPlayers;o++){const c=o.toString(),f=i.numPlayers===1&&r?$t.find(p=>p.id===r)||$t[0]:$t[o%$t.length],d=A1(f.starterDeck);a[c]=E1(f.id,d),a[c].capital=1}return{players:a,currentPlayer:"0",turn:1,gameOver:!1,winner:!1,effectContext:{},gameLog:[]}},turn:{onBegin:({G:i,ctx:a})=>{const r=a.currentPlayer,o=i.players[r];if(i.gameLog&&i.gameLog.push(`=== Turn ${i.turn} begins ===`),i.effectContext||(i.effectContext={}),i.effectContext[r]||(i.effectContext[r]=Ao()),i.effectContext[r].recentlySoldProductIds=[],i.effectContext[r].recentlySoldProductTimestamps={},_1(i,r),Pr(i),i.gameOver)return;const c=Math.min(i.turn,Oi.MAX_CAPITAL);o.capital=0,gt(i,r,c),x1(i,r);for(let f=0;f<Oi.CARDS_DRAWN_PER_TURN;f++)jt(o,"Start of turn",i.gameLog);b1(i,r),o.heroAbilityUsed=!1},onEnd:({G:i,ctx:a})=>{const r=a.currentPlayer;Vx(i,r),Pr(i),a.playOrderPos===a.numPlayers-1&&i.turn++}},moves:{playCard:({G:i,ctx:a,playerID:r},o)=>{var m,x,b,S,T,w,j,B,U,C,P,Y,Q,me,se;if(r!==a.currentPlayer)return De;const c=i.players[r];if(o<0||o>=c.hand.length)return De;const f=c.hand[o];if(f.effect==="global_launch_event"&&(((x=(m=i.effectContext)==null?void 0:m[r])==null?void 0:x.playedActionsThisTurn)||0)<2)return De;if(f.effect==="quick_learner"){const he=(S=(b=i.effectContext)==null?void 0:b[r])==null?void 0:S.lastActionEffect,ee=(w=(T=i.effectContext)==null?void 0:T[r])==null?void 0:w.lastActionCard;if(!he||!ee||ee.type!=="Action")return De}const d=S1(i,r,f),p=Math.max(0,f.cost-d);if(c.capital<p)return De;const y=((B=(j=i.effectContext)==null?void 0:j[r])==null?void 0:B.extraCardPlays)&&i.effectContext[r].extraCardPlays>0;if(c.capital-=p,i.gameLog&&i.gameLog.push(`Played ${f.name} (${f.type}) for ${p} capital`),c.hand.splice(o,1),T1(i,r,f),f.type==="Action")(U=i.effectContext)!=null&&U[r]&&(i.effectContext[r].lastActionEffect=f.effect,i.effectContext[r].lastActionCard={...f}),f.effect&&za[f.effect]&&za[f.effect](i,r,f),(C=i.effectContext)!=null&&C[r]&&i.effectContext[r].extraActionPlays&&(i.effectContext[r].extraActionPlays=Math.max(0,i.effectContext[r].extraActionPlays-1));else if(f.effect==="quick_learner"){const he=(Y=(P=i.effectContext)==null?void 0:P[r])==null?void 0:Y.lastActionEffect,ee=(me=(Q=i.effectContext)==null?void 0:Q[r])==null?void 0:me.lastActionCard;he&&ee&&za[he]?(i.gameLog&&i.gameLog.push(`Quick Learner copies ${ee.name}!`),za[he](i,r,ee)):i.gameLog&&i.gameLog.push("Quick Learner found no Action to copy.");const $=`${f.type}s`;c.board[$]&&c.board[$].push(f)}else{const he=`${f.type}s`;c.board[he]&&(console.log(`Adding ${f.type} to board:`,{id:f.id,name:f.name,inventory:f.inventory}),c.board[he].push(f),console.log(`Board now has ${c.board[he].length} ${f.type}s`)),f.effect&&za[f.effect]&&za[f.effect](i,r,f)}y&&((se=i.effectContext)!=null&&se[r])&&(i.effectContext[r].extraCardPlays=(i.effectContext[r].extraCardPlays||0)-1),Pr(i)},useHeroAbility:({G:i,ctx:a,playerID:r})=>{if(r!==a.currentPlayer)return De;const o=i.players[r];if(o.heroAbilityUsed)return De;const c=$t.find(d=>d.id===o.hero);if(!c||o.capital<c.heroPower.cost)return De;o.capital-=c.heroPower.cost,o.heroAbilityUsed=!0,i.gameLog&&i.gameLog.push(`Used ${c.name}'s hero power: ${c.heroPower.name}`);const f=c.heroPower.effect;f&&Xy[f]&&Xy[f](i,r),Pr(i)},triggerMidnightOilDiscard:({G:i,ctx:a,playerID:r})=>{var c,f,d;if(r!==a.currentPlayer)return De;const o=i.players[r];if(!((f=(c=i.effectContext)==null?void 0:c[r])!=null&&f.midnightOilDiscardPending))return De;o.hand.length>0&&(yt(o,{type:"discard",effect:"midnight_oil"}),(d=i.effectContext)!=null&&d[r]&&(i.effectContext[r].midnightOilDiscardPending=!1))},triggerFastPivotDestroyChoice:({G:i,ctx:a,playerID:r})=>{var f,d,p,y;if(r!==a.currentPlayer)return De;const o=i.players[r];if(!((d=(f=i.effectContext)==null?void 0:f[r])!=null&&d.fastPivotProductDestroyPending))return De;const c=o.board.Products.filter(m=>m.isActive!==!1);c.length>0?(yt(o,{type:"destroy_product",effect:"fast_pivot",cards:c.map(m=>({...m}))}),(p=i.effectContext)!=null&&p[r]&&(i.effectContext[r].fastPivotProductDestroyPending=!1)):(y=i.effectContext)!=null&&y[r]&&(i.effectContext[r].fastPivotProductDestroyPending=!1)},makeChoice:({G:i,ctx:a,playerID:r},o)=>{var d,p,y,m,x,b,S,T,w,j,B,U,C,P,Y,Q,me,se,he;if(r!==a.currentPlayer)return De;const c=i.players[r],f=Kx(c);if(!f)return De;if((d=i.effectContext)!=null&&d[r]?(f.effect!=="multi_product_inventory_boost"||i.effectContext[r].warehouseExpansionCount===0)&&(i.effectContext[r].recentlyAffectedCardIds=[]):i.effectContext={[r]:{recentlyAffectedCardIds:[]}},f.type==="discard"){if(o<0||o>=c.hand.length)return De;const ee=((p=c.hand[o])==null?void 0:p.name)||"a card";c.hand.splice(o,1),i.gameLog&&i.gameLog.push(`Player ${r} discarded ${ee}.`),_t(c)}else if(f.type==="destroy_product"&&f.effect==="fast_pivot"){if(!f.cards||o<0||o>=f.cards.length)return De;const ee=f.cards[o].id;e1(i,r,ee),i.gameLog&&i.gameLog.push(`Player ${r} used Fast Pivot to destroy ${f.cards[o].name}, draw 2 cards, and discount next Product.`),_t(c)}else if(f.type==="choose_from_drawn_to_discard"&&f.effect==="ab_test_discard"){if(!f.cards||o<0||o>=f.cards.length)return De;const ee=f.cards[o],$=c.hand.findIndex(de=>de.id===ee.id);$!==-1?(c.hand.splice($,1),i.gameLog&&i.gameLog.push(`A/B Test: Player ${r} discarded ${ee.name}.`)):i.gameLog&&i.gameLog.push("A/B Test: Error - card to discard not found in hand."),_t(c)}else if(f.type==="view_deck_and_discard"&&f.effect==="analytics_dashboard_discard"){if(!f.cards||!f.count)return De;if(o>=0&&o<f.count){const ee=f.cards[o];let $=-1;if(f.count===1&&o===0&&c.deck.length>0&&c.deck[c.deck.length-1].id===ee.id?$=c.deck.length-1:f.count===2&&(o===0&&c.deck.length>0&&c.deck[c.deck.length-1].id===ee.id?$=c.deck.length-1:o===1&&c.deck.length>1&&c.deck[c.deck.length-2].id===ee.id&&($=c.deck.length-2)),$!==-1){const de=c.deck.splice($,1)[0];i.gameLog&&i.gameLog.push(`Analytics Dashboard: Player ${r} discarded ${de.name} from top of deck.`)}else i.gameLog&&i.gameLog.push("Analytics Dashboard: Error - card to discard from deck not found.")}else i.gameLog&&i.gameLog.push(`Analytics Dashboard: Player ${r} viewed top cards, no discard.`);_t(c)}else if(f.type==="choose_option")if(f.effect==="serial_founder_double_down")if(o===0)jt(c,"Serial Founder (Double Down)",i.gameLog),i.gameLog&&i.gameLog.push("Serial Founder (Double Down): Chose to draw a card."),_t(c);else if(o===1){const ee=c.board.Products.filter($=>$.isActive!==!1&&$.inventory!==void 0);ee.length>0?(_t(c),yt(c,{type:"choose_card",effect:"serial_founder_double_down_add_inventory",cards:ee.map($=>({...$}))}),i.gameLog&&i.gameLog.push("Serial Founder (Double Down): Chose to add inventory. Select a product.")):(i.gameLog&&i.gameLog.push("Serial Founder (Double Down): Chose to add inventory, but no products on board."),_t(c))}else return De;else if(f.effect==="incubator_resources_choice"){if(!f.options||o<0||o>=f.options.length)return De;const ee=f.options[o];o===0?(gt(i,r,1),i.gameLog&&i.gameLog.push(`Incubator Resources: Player ${r} chose "${ee}".`)):o===1&&(jt(c,"Incubator Resources",i.gameLog),i.gameLog&&i.gameLog.push(`Incubator Resources: Player ${r} chose "${ee}".`)),_t(c)}else i.gameLog&&i.gameLog.push(`Unhandled choose_option effect: ${f.effect}`),_t(c);else if(f.type==="choose_card")if(f.effect==="serial_founder_double_down_add_inventory"){if(!f.cards||o<0||o>=f.cards.length)return De;const ee=f.cards[o],$=c.board.Products.find(de=>de.id===ee.id);$&&$.inventory!==void 0?($.inventory+=2,(y=i.effectContext)!=null&&y[r]&&((m=i.effectContext[r].recentlyAffectedCardIds)==null||m.push($.id)),i.gameLog&&i.gameLog.push(`Serial Founder (Double Down): Added +2 inventory to ${$.name}.`)):i.gameLog&&i.gameLog.push("Serial Founder (Double Down): Error - product not found or inventory undefined."),_t(c)}else if(f.effect==="brand_builder_engage_add_inventory"){if(!f.cards||o<0||o>=f.cards.length)return De;const ee=f.cards[o],$=c.board.Products.find(de=>de.id===ee.id);$&&$.inventory!==void 0?($.inventory+=2,i.effectContext||(i.effectContext={}),i.effectContext[r]||(i.effectContext[r]={recentlyAffectedCardIds:[]}),i.effectContext[r].recentlyAffectedCardIds||(i.effectContext[r].recentlyAffectedCardIds=[]),i.effectContext[r].recentlyAffectedCardIds.push($.id),i.gameLog&&i.gameLog.push(`Engage: Added +2 inventory to ${$.name}.`)):i.gameLog&&i.gameLog.push("Engage: Error - product not found or inventory undefined."),_t(c)}else if(f.effect==="black_friday_blitz_sell_product"){if(!f.cards||o<0||o>=f.cards.length)return De;const ee=f.cards[o],$=c.board.Products.find(de=>de.id===ee.id);$&&$.inventory&&$.inventory>0?(Xn(i,r,$,1),i.gameLog&&i.gameLog.push(`Black Friday Blitz: Sold ${$.name}.`),(x=i.effectContext)!=null&&x[r]&&((b=i.effectContext[r].recentlyAffectedCardIds)==null||b.push($.id),(i.effectContext[r].productCardsPlayedThisTurn||0)>=3&&(gt(i,r,3),i.gameLog&&i.gameLog.push("Black Friday Blitz: Bonus! +3 Capital for 3rd Product played this turn.")))):i.gameLog&&i.gameLog.push(`Black Friday Blitz: Error - selected product ${ee.name} has no inventory or not found.`),_t(c)}else if(f.effect==="merch_drop_add_inventory"){if(!f.cards||o<0||o>=f.cards.length)return De;const ee=f.cards[o],$=c.board.Products.find(de=>de.id===ee.id);$&&$.inventory!==void 0?($.inventory+=2,i.effectContext||(i.effectContext={}),i.effectContext[r]||(i.effectContext[r]={recentlyAffectedCardIds:[]}),i.effectContext[r].recentlyAffectedCardIds||(i.effectContext[r].recentlyAffectedCardIds=[]),i.effectContext[r].recentlyAffectedCardIds.push($.id),i.gameLog&&i.gameLog.push(`Merch Drop: Added +2 inventory to ${$.name}.`)):i.gameLog&&i.gameLog.push("Merch Drop: Error - product not found or inventory undefined."),_t(c)}else{if(f.effect==="multi_product_inventory_boost"&&o===-1){if((S=i.effectContext)!=null&&S[r]){const de=i.effectContext[r].warehouseExpansionCount||0;i.effectContext[r].warehouseExpansionCount=0,i.gameLog&&i.gameLog.push(`Warehouse Expansion: Finished selecting (${de} product${de===1?"":"s"} boosted).`)}_t(c);return}if(!f.cards||o<0||o>=f.cards.length)return De;const ee=f.cards[o],$=c.board.Products.find(de=>de.id===ee.id);if(!$)return De;switch(f.effect){case"add_inventory_to_product":$.inventory!==void 0&&($.inventory+=2,(T=i.effectContext)!=null&&T[r]&&((w=i.effectContext[r].recentlyAffectedCardIds)==null||w.push($.id)));break;case"add_inventory_if_empty":$.inventory===0&&($.inventory=3,(j=i.effectContext)!=null&&j[r]&&((B=i.effectContext[r].recentlyAffectedCardIds)==null||B.push($.id)));break;case"multi_product_inventory_boost":if($.inventory!==void 0&&($.inventory+=1,(U=i.effectContext)!=null&&U[r])){(C=i.effectContext[r].recentlyAffectedCardIds)==null||C.push($.id),i.effectContext[r].warehouseExpansionCount=(i.effectContext[r].warehouseExpansionCount||0)+1;const de=i.effectContext[r].warehouseExpansionCount||0;if(de<3){const xe=c.board.Products.filter(He=>He.isActive!==!1&&He.id!==$.id);if(xe.length>0){_t(c),yt(c,{type:"choose_card",effect:"multi_product_inventory_boost",cards:xe.map(He=>({...He}))}),i.gameLog&&i.gameLog.push(`Warehouse Expansion: Selected ${$.name} (${de}/3). Choose another product.`);return}}i.effectContext[r].warehouseExpansionCount=0}break;case"inventory_and_sale_boost":$.inventory!==void 0&&($.inventory+=1,(P=i.effectContext)!=null&&P[r]&&((Y=i.effectContext[r].recentlyAffectedCardIds)==null||Y.push($.id)),$.inventory>0&&Xn(i,r,$,1));break;case"inventory_boost_plus_revenue":if($.inventory!==void 0){if($.inventory+=2,!((Q=i.effectContext)!=null&&Q[r]))break;const de=i.effectContext[r];de.productRevenueBoosts||(de.productRevenueBoosts={}),de.productRevenueBoosts[$.id]=1e3,(me=de.recentlyAffectedCardIds)==null||me.push($.id)}break;case"draw_and_inventory":case"simple_inventory_boost":$.inventory!==void 0&&($.inventory+=1,(se=i.effectContext)!=null&&se[r]&&((he=i.effectContext[r].recentlyAffectedCardIds)==null||he.push($.id)));break}_t(c),i.gameLog&&i.gameLog.push(`Player ${r} chose ${ee.name} for ${f.effect}.`)}Pr(i)}},endIf:({G:i})=>{if(i.gameOver)return{winner:i.winner?"victory":"defeat"}},minPlayers:1,maxPlayers:1},G={title:"38px",heading:"25px",subheading:"23px",large:"20px",body:"19px",medium:"18px",small:"16px",tooltip:"23px",tooltipTitle:"25px",tooltipMeta:"19px"},Qy={padding:"12px",borderRadius:"5px",minWidth:"120px",cursor:"pointer",transition:"transform 0.2s",fontWeight:"bold",fontSize:G.medium},Dt={padding:"15px",border:"none",borderRadius:"5px",fontSize:G.medium,fontWeight:"bold"},q={product:"#059669",tool:"#7c3aed",toolBorder:"#8b5cf6",action:"#dc2626",employee:"#2563eb",default:"#6b7280",primary:"#4f46e5",primaryDark:"#1d4ed8",success:"#10b981",successBorder:"#10b981",successLight:"#6ee7b7",warning:"#fbbf24",warningBorder:"#fbbf24",warningLight:"#fcd34d",danger:"#dc2626",bgDark:"#0f172a",bgMedium:"#1e293b",bgLight:"#374151",textLight:"#e2e8f0",textMuted:"#94a3b8",textPurple:"#a78bfa",disabled:"#666",black:"#000",white:"#fff"},w1={product:q.product,tool:q.tool,action:q.action,employee:q.employee,default:q.default},O1=W.memo(({visible:i,x:a,y:r,heroPowerName:o,heroPowerDescription:c,cost:f,heroId:d,cardsPlayedThisTurn:p=0})=>i?g.jsxs("div",{style:{position:"fixed",left:a+10,top:r-10,background:"linear-gradient(to bottom, #1e293b, #0f172a)",border:"2px solid #fbbf24",borderRadius:"8px",padding:"12px",color:"white",fontSize:G.tooltip,maxWidth:"300px",zIndex:1e3,boxShadow:"0 10px 25px rgba(0,0,0,0.5)",pointerEvents:"none"},children:[g.jsx("div",{style:{fontWeight:"bold",fontSize:G.tooltipTitle,color:"#fbbf24",marginBottom:"8px"},children:o}),g.jsx("div",{style:{marginBottom:"8px",lineHeight:"1.4",color:"#e2e8f0"},children:c}),d==="community_leader"&&g.jsxs("div",{style:{marginBottom:"8px",fontSize:G.tooltipMeta,color:p>=2?"#10b981":"#9ca3af",fontStyle:"italic"},children:[p," ",p===1?"card":"cards"," played this turn"]}),g.jsxs("div",{style:{background:"#fbbf24",color:"#000",padding:"4px 8px",borderRadius:"4px",fontSize:G.tooltipMeta,fontWeight:"bold",display:"inline-block"},children:["Cost: ",f," Capital"]})]}):null);function M1(i){return i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}function Lr(i){return`$${M1(i)}`}const R1=W.memo(({capital:i,turn:a,deckSize:r,revenue:o,effectContext:c,hasShoestringBudget:f})=>{const d=Oi.REVENUE_GOAL,p=Math.min(o/d*100,100);return g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsxs("div",{style:{display:"flex",gap:"30px",alignItems:"center",fontSize:G.body},children:[g.jsxs("div",{children:[g.jsx("strong",{style:{color:"#10b981"},children:"Capital:"})," ",i," / 10"]}),g.jsxs("div",{children:[g.jsx("strong",{style:{color:"#3b82f6"},children:"Revenue:"})," ",Lr(o)," / ",Lr(d),g.jsxs("span",{style:{marginLeft:"10px",fontSize:G.small,color:p>=100?"#10b981":"#6b7280"},children:["(",p.toFixed(0),"%)"]})]})]}),g.jsxs("div",{style:{display:"flex",gap:"30px",alignItems:"center",fontSize:G.body},children:[g.jsxs("div",{children:[g.jsx("strong",{style:{color:"#8b5cf6"},children:"Turn:"})," ",a]}),g.jsxs("div",{children:[g.jsx("strong",{style:{color:"#ec4899"},children:"Cards Left In Deck:"})," ",r]})]}),g.jsx("div",{style:{fontSize:G.small,color:"#10b981",fontWeight:"bold"},children:f&&(!(c!=null&&c.cardsPlayedThisTurn)||c.cardsPlayedThisTurn===0)&&g.jsx("div",{children:"First card free!"})})]})}),Ug=W.memo(({card:i,onClick:a,isClickable:r=!1,showPlayableBorder:o=!1,isSelected:c=!1,isAffected:f=!1,costInfo:d,showBonuses:p=!0,revenueBonus:y=0,onMouseEnterCard:m,onMouseLeaveCard:x,onMouseMoveCard:b})=>{const[S,T]=W.useState(null);W.useEffect(()=>{if(i.id){const ee=`/dream_builders/assets/cards/${i.id}.png`,$=new Image;$.src=ee,$.onload=()=>T(ee),$.onerror=()=>T(null)}},[i.id]);const w=w1[i.type.toLowerCase()]||q.default,j="0 4px 8px rgba(0,0,0,0.2), 0 6px 20px rgba(0,0,0,0.19)",B=d||{originalCost:i.cost,discount:0,finalCost:i.cost},U={...Qy,width:"170px",height:"280px",padding:"0",background:q.bgDark,border:`3px solid ${o?q.success:c?q.warning:f?q.warningLight:q.bgLight}`,borderRadius:"10px",color:q.white,textAlign:"center",cursor:r&&a?"pointer":"default",boxShadow:f?`0 0 15px 5px ${q.warningLight}`:c?`0 0 12px 4px ${q.warning}`:j,display:"flex",flexDirection:"column",transition:Qy.transition+", box-shadow 0.2s ease-in-out, border-color 0.2s ease-in-out",overflow:"hidden"},C={background:`linear-gradient(to right, ${w}, ${q.bgMedium})`,padding:"8px 10px",fontWeight:"bold",fontSize:G.large,color:q.textLight,borderBottom:`2px solid ${q.bgLight}`,textAlign:"center",position:"relative",minHeight:"40px",display:"flex",alignItems:"center",justifyContent:"center"},P={position:"absolute",top:"-5px",left:"-5px",background:q.primary,color:q.white,width:"36px",height:"36px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:G.large,border:`2px solid ${q.white}`,boxShadow:"0 2px 4px rgba(0,0,0,0.3)"},Y={height:"100px",background:q.bgMedium,margin:"10px",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:q.textMuted,fontSize:G.small,border:S?`1px solid ${q.bgLight}`:`1px dashed ${q.textMuted}`},Q={padding:"0 10px 10px 10px",fontSize:"12px",color:q.textLight,lineHeight:"1.4",textAlign:"center",flexGrow:1,overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},me={padding:"5px 10px",background:q.bgLight,borderTop:`1px solid ${q.textMuted}`,fontSize:"10px",color:q.textMuted,textAlign:"center"},se=[];p&&B.discount>0&&se.push({type:"cost",value:B.discount});const he=i.type==="Product"&&i.revenuePerSale?i.revenuePerSale+y:0;return g.jsxs("div",{style:U,onClick:r?a:void 0,onMouseEnter:m,onMouseLeave:x,onMouseMove:b,children:[g.jsxs("div",{style:C,children:[i.name,B&&g.jsx("div",{style:P,children:B.finalCost})]}),g.jsx("div",{style:Y,children:S?g.jsx("img",{src:S,alt:`${i.name} artwork`,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"6px"}}):"Card Art"}),i.type==="Product"&&g.jsxs("div",{style:{padding:"5px 10px",fontSize:"11px",color:q.success,fontWeight:"bold"},children:[i.inventory!==void 0&&g.jsxs("div",{children:["Inventory: ",i.inventory]}),he>0&&g.jsxs("div",{children:["$",he.toLocaleString(),"/sale"]})]}),i.text&&g.jsx("div",{style:Q,children:i.text}),!i.text&&i.type!=="Product"&&g.jsx("div",{style:{flexGrow:1}}),g.jsxs("div",{style:me,children:[i.type,i.keywords&&i.keywords.length>0&&g.jsx("div",{style:{marginTop:"3px",display:"flex",justifyContent:"center",flexWrap:"wrap",gap:"3px"},children:i.keywords.slice(0,2).map(ee=>g.jsx("span",{style:{background:q.primaryDark,color:q.textLight,fontSize:"9px",padding:"1px 4px",borderRadius:"3px"},children:ee},ee))})]})]})}),D1=W.memo(({bonuses:i,position:a="top-right"})=>{if(!i||i.length===0)return null;const r={"top-right":{top:"-8px",right:"-8px"},"top-left":{top:"-8px",left:"-8px"},"bottom-right":{bottom:"-8px",right:"-8px"},"bottom-left":{bottom:"-8px",left:"-8px"}},o=f=>{switch(f){case"revenue":return{background:q.success,color:q.white,border:`2px solid ${q.successBorder}`};case"cost":return{background:q.warning,color:q.black,border:`2px solid ${q.warningBorder}`};case"inventory":return{background:q.primary,color:q.white,border:`2px solid ${q.primaryDark}`};case"delayed":return{background:q.tool,color:q.white,border:`2px solid ${q.toolBorder}`};default:return{background:q.default,color:q.white,border:`2px solid ${q.bgLight}`}}},c=f=>{switch(f.type){case"revenue":return`+$${f.value}`;case"cost":return`-${f.value}`;case"inventory":return`+${f.value}`;case"delayed":return f.label||`${f.value}`;default:return String(f.value)}};return g.jsx("div",{style:{position:"absolute",...r[a],display:"flex",flexDirection:"column",gap:"2px",zIndex:10},children:i.map((f,d)=>{const p=o(f.type);return g.jsx("div",{style:{...p,padding:"2px 6px",borderRadius:"12px",fontSize:"11px",fontWeight:"bold",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",whiteSpace:"nowrap"},children:c(f)},d)})})}),sn=W.memo(({card:i,displayMode:a="board",isClickable:r=!1,onClick:o,canPlay:c=!1,isDiscardMode:f=!1,isAffected:d=!1,isSelected:p=!1,showBonuses:y=!0,costInfo:m,revenueBonus:x=0,bonuses:b=[],onShowTooltip:S,onHideTooltip:T,enableHover:w=!0,hoverScale:j=1.05,hoverRaiseY:B=5,style:U={},className:C=""})=>{const[P,Y]=ye.useState(!1),Q=i.type==="Product"&&i.inventory===0,me=Z=>{w&&Y(!0),S&&S(i,Z)},se=()=>{Y(!1),T&&T()},he=Z=>{S&&S(i,Z)},ee=()=>{r&&o&&o()},$=c&&!f,de=r||c&&!f||f,xe=P&&w?`translateY(-${B}px) scale(${j})`:"scale(1)",{transform:He,transformOrigin:at,transition:ne,...z}=U,J=He?`${xe} ${He}`:xe,ie="transform 0.3s ease-out, filter 0.3s ease-out, box-shadow 0.3s ease-out",E={position:"relative",transition:ne?`${ie}, ${ne}`:ie,transform:J,transformOrigin:at||"center",cursor:de?"pointer":"default",filter:!c&&a==="hand"?"brightness(0.8)":Q?"grayscale(50%)":"none",boxShadow:P&&w?"0 10px 30px rgba(0,0,0,0.5)":"none",opacity:Q?.6:1,...z};return g.jsxs("div",{style:E,className:C,onMouseEnter:me,onMouseLeave:se,onMouseMove:he,children:[g.jsx(Ug,{card:i,displayMode:a,isClickable:de,showPlayableBorder:$,onClick:ee,isSelected:p||f,isAffected:d,costInfo:m,showBonuses:y,revenueBonus:x}),b.length>0&&g.jsx(D1,{bonuses:b,position:a==="hand"?"top-right":"bottom-left"}),Q&&a!=="hand"&&g.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"#ef4444",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",pointerEvents:"none",zIndex:10,whiteSpace:"nowrap"},children:"NO INVENTORY"}),f&&g.jsx("div",{style:{position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",background:"#fbbf24",color:"#000",padding:"2px 6px",borderRadius:"3px",fontSize:"12px",fontWeight:"bold",pointerEvents:"none",zIndex:10},children:"DISCARD"})]})}),j1=new Set(["add_inventory_to_product","simple_inventory_boost","inventory_boost_plus_revenue","inventory_and_sale_boost","draw_and_inventory","multi_product_inventory_boost","merch_drop","factory_direct","fulfillment_center","warehouse_expansion","serial_founder_double_down","serial_founder_double_down_add_inventory","brand_builder_engage","brand_builder_engage_add_inventory","engage_inventory_boost","black_friday_blitz"]),k1=new Set(["add_inventory_if_empty"]),P1=new Set(["refresh_product"]);function N1(i,a){return i.effect?j1.has(i.effect)?a.some(r=>r.isActive!==!1):k1.has(i.effect)?a.some(r=>r.isActive!==!1&&r.inventory===0):P1.has(i.effect)?a.some(r=>r.isActive===!1&&r.inventory!==void 0&&r.inventory>0):!0:!0}const z1=10,B1=40,L1=90,U1=1.15,H1=W.memo(({hand:i,getCostInfo:a,capital:r,isMyTurn:o,effectContext:c,affectedCardIds:f,onPlayCard:d,onShowTooltip:p,onHideTooltip:y,isChoiceModalOpen:m=!1,products:x})=>{const[b,S]=ye.useState(null),T=(w,j)=>{const B=a(w),U=B.finalCost<=r,C=w.effect==="quick_learner",P=c==null?void 0:c.lastActionEffect,Y=c==null?void 0:c.lastActionCard,Q=!!(P&&Y&&Y.type==="Action"),me=N1(w,x||[]),se=o&&U&&(!C||Q)&&me,he=w.id?f.has(w.id):!1,ee=i.length,$=b===j,de=ee>1?(j-(ee-1)/2)*(z1/(ee-1))*2:0,xe=$?100:j,He={transform:`rotate(${de}deg)`,transformOrigin:"bottom center",marginLeft:j>0?`-${B1}px`:"0",zIndex:xe,position:"relative",transition:"z-index 0s"};return g.jsx(sn,{card:w,displayMode:"hand",canPlay:se,isClickable:se,onClick:()=>d(j),isAffected:he,costInfo:B,onShowTooltip:(at,ne)=>{S(j),p(at,ne)},onHideTooltip:()=>{S(null),y()},enableHover:!m,hoverScale:U1,hoverRaiseY:L1,style:He},`${w.id||"card"}-${j}`)};return g.jsx("div",{style:{position:"relative",zIndex:50},children:g.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"flex-end",paddingBottom:"20px",minHeight:"160px",overflow:"visible",position:"relative"},children:i.map(T)})})});function q1(i,a,r){var c;if(i.type!=="Product"||!i.revenuePerSale)return 0;let o=i.revenuePerSale;if(!a||a.length===0)return o;for(const f of a)f.effect==="optimize_checkout"&&(o+=1e3);return r&&i.id&&((c=r.productRevenueBoosts)!=null&&c[i.id])&&(o+=r.productRevenueBoosts[i.id]),o}const Y1=()=>{const[i,a]=ye.useState([]);return ye.useEffect(()=>{const r=[],o=["","","","","",""];for(let f=0;f<16;f++)r.push({id:f,x:5+Math.random()*90,y:5+Math.random()*90,emoji:o[Math.floor(Math.random()*o.length)],delay:Math.random()*.3,size:24+Math.random()*16});a(r);const c=setTimeout(()=>{a([])},2e3);return()=>clearTimeout(c)},[]),g.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",overflow:"hidden",zIndex:10},children:[i.map(r=>g.jsx("div",{style:{position:"absolute",left:`${r.x}%`,top:`${r.y}%`,fontSize:`${r.size}px`,animation:`sparkle 1.8s ease-out ${r.delay}s forwards`,filter:"drop-shadow(0 0 8px rgba(255, 215, 0, 0.8))",transform:"translate(-50%, -50%)"},children:r.emoji},r.id)),g.jsx("style",{children:`
        @keyframes sparkle {
          0% {
            opacity: 0;
            transform: scale(0) rotate(0deg) translate(-50%, -50%);
            filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.8));
          }
          30% {
            opacity: 1;
            transform: scale(1.5) rotate(180deg) translate(-50%, -50%);
            filter: drop-shadow(0 0 16px rgba(255, 215, 0, 1));
          }
          70% {
            opacity: 1;
            transform: scale(1) rotate(360deg) translate(-50%, -50%);
            filter: drop-shadow(0 0 12px rgba(255, 215, 0, 0.9));
          }
          100% {
            opacity: 0;
            transform: scale(0.5) rotate(540deg) translate(-50%, -50%);
            filter: drop-shadow(0 0 4px rgba(255, 215, 0, 0.4));
          }
        }
      `})]})},V1=W.memo(({products:i,tools:a,effectContext:r,affectedCardIds:o,onShowTooltip:c,onHideTooltip:f})=>{const d=a.filter(y=>y.effect==="optimize_checkout"),p=(y,m)=>{var B,U;const x=[],b=d.filter(C=>C.cost===y.cost),T=q1(y,b,r)-(y.revenuePerSale||0);y.id&&((B=r.productRevenueBoosts)!=null&&B[y.id])&&x.push({type:"revenue",value:r.productRevenueBoosts[y.id]}),b.length>0&&x.push({type:"revenue",value:1e3*b.length,label:"Optimize Checkout"}),y.isActive===!1&&x.push({type:"delayed",value:"",label:"Inactive"});const w=y.id?o.has(y.id):!1,j=y.id&&((U=r.recentlySoldProductIds)==null?void 0:U.includes(y.id));return g.jsxs("div",{style:{position:"relative",borderRadius:"8px",boxShadow:j?"0 0 20px rgba(255, 215, 0, 0.6)":"none",animation:j?"pulse-glow 2s ease-out":"none"},children:[g.jsx(sn,{card:y,displayMode:"board",isAffected:w,showBonuses:!0,revenueBonus:T,bonuses:x,onShowTooltip:c,onHideTooltip:f,enableHover:!0}),j&&g.jsx(Y1,{}),j&&g.jsx("style",{children:`
            @keyframes pulse-glow {
              0% {
                box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
              }
              50% {
                box-shadow: 0 0 30px rgba(255, 215, 0, 0.8), 0 0 40px rgba(255, 215, 0, 0.4);
              }
              100% {
                box-shadow: 0 0 20px rgba(255, 215, 0, 0);
              }
            }
          `})]},`${y.id||"product"}-${m}`)};return g.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[g.jsx("h4",{style:{fontSize:G.subheading,marginTop:0,marginBottom:"15px",flexShrink:0},children:"Products"}),g.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:0,flex:1,alignContent:"flex-start"},children:i.map(p)})]})}),X1=W.memo(({cards:i,effectContext:a,affectedCardIds:r,onShowTooltip:o,onHideTooltip:c})=>g.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[g.jsx("h4",{style:{fontSize:G.subheading,marginTop:0,marginBottom:"15px",flexShrink:0},children:"Tools & Employees"}),g.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:0,flex:1,alignContent:"flex-start"},children:i.map((f,d)=>{var m;const p=f.id?r.has(f.id):!1,y=[];return f.effect==="delayed_inventory_boost"&&a.delayedInventoryBoostTurns&&y.push({type:"delayed",value:a.delayedInventoryBoostTurns,label:`${a.delayedInventoryBoostTurns} turns`}),(m=f.text)!=null&&m.includes("Recurring:")&&y.push({type:"delayed",value:"",label:"Recurring"}),f.isActive===!1&&y.push({type:"delayed",value:"",label:"Inactive"}),g.jsx(sn,{card:f,displayMode:"board",isAffected:p,showBonuses:!0,bonuses:y,onShowTooltip:o,onHideTooltip:c,enableHover:!0},`${f.id||"tool-employee"}-${d}`)})})]}));function Q1(i,a){var U;const r=i,c=r.players[a],f=Array.isArray(c.hand)?c.hand:[],d=Array.isArray(c.deck)?c.deck:[],p=c.board,y=Array.isArray(p==null?void 0:p.Products)?p.Products:[],m=Array.isArray(p==null?void 0:p.Tools)?p.Tools:[],x=Array.isArray(p==null?void 0:p.Employees)?p.Employees:[],b=[...m,...x],S=((U=r.effectContext)==null?void 0:U[a])||{},T={itemsSoldThisTurn:S.itemsSoldThisTurn||0,soldProductThisTurn:S.soldProductThisTurn||!1,midnightOilDiscardPending:S.midnightOilDiscardPending||!1,fastPivotProductDestroyPending:S.fastPivotProductDestroyPending||!1,nextCardDiscount:S.nextCardDiscount,productCostReduction:S.productCostReduction,cardsPlayedThisTurn:S.cardsPlayedThisTurn,lastActionEffect:S.lastActionEffect,lastActionCard:S.lastActionCard,productRevenueBoosts:S.productRevenueBoosts,delayedInventoryBoostTurns:S.delayedInventoryBoostTurns,soloHustlerDiscountedCard:S.soloHustlerDiscountedCard,warehouseExpansionCount:S.warehouseExpansionCount||0,productCardsPlayedThisTurn:S.productCardsPlayedThisTurn||0,recentlyAffectedCardIds:S.recentlyAffectedCardIds||[],recentlySoldProductIds:S.recentlySoldProductIds||[],turnStartProductsSold:S.turnStartProductsSold||!1},w=c.pendingChoices,j=Array.isArray(w)?w:[];return{uiState:{hand:f,deck:d,products:y,tools:m,employees:x,capital:Number(c.capital||0),revenue:Number(c.revenue||0),hero:String(c.hero||"Unknown"),heroAbilityUsed:!!c.heroAbilityUsed,pendingChoices:j,turn:Number(r.turn||1)},effectContext:T,toolsAndEmployees:b}}function Z1(){const[i,a]=ye.useState({visible:!1,x:0,y:0}),[r,o]=ye.useState({visible:!1,x:0,y:0}),c=ye.useCallback((y,m)=>{a({visible:!0,card:y,x:m.clientX,y:m.clientY})},[]),f=ye.useCallback(()=>{a({visible:!1,x:0,y:0})},[]),d=ye.useCallback(y=>{o({visible:!0,x:y.clientX,y:y.clientY})},[]),p=ye.useCallback(()=>{o({visible:!1,x:0,y:0})},[]);return{cardTooltip:i,heroPowerTooltip:r,showCardTooltip:c,hideCardTooltip:f,showHeroPowerTooltip:d,hideHeroPowerTooltip:p}}function K1(i,a,r){const o=ye.useCallback(f=>{let d=0;return i.nextCardDiscount&&(d+=i.nextCardDiscount||0),f.type==="Action"&&(r.find(x=>x.effect==="brand_ambassador")&&(d+=1),r.find(x=>x.effect==="customer_support_team")&&(d+=1)),f.type==="Product"&&(f.id&&i.soloHustlerDiscountedCard===f.id&&(d+=1),a.find(m=>m.effect==="diy_assembly")&&(d+=1)),f.effect==="meme_magic"&&(i.cardsPlayedThisTurn||0)>=2&&(d=f.cost),f.type==="Product"&&a.find(m=>m.effect==="quality_materials")&&(d-=1),a.find(y=>y.effect==="shoestring_budget")&&(!i.cardsPlayedThisTurn||i.cardsPlayedThisTurn===0)&&(d+=1),Math.min(Math.max(0,d),f.cost)},[i,a,r]),c=ye.useCallback(f=>{const d=o(f);return{originalCost:f.cost,discount:d,finalCost:Math.max(0,f.cost-d)}},[o]);return{getCardDiscount:o,getCostInfo:c}}const $1=W.memo(({hero:i,heroCost:a,isHeroPowerUsed:r,canUseHeroPower:o,onUseHeroPower:c,onHeroPowerMouseEnter:f,onHeroPowerMouseLeave:d,onHeroPowerMouseMove:p})=>i?g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px",padding:"10px",background:"rgba(0,0,0,0.2)",borderRadius:"8px",width:"250px",marginBottom:"40px"},onClick:c,onMouseEnter:f,onMouseLeave:d,onMouseMove:p,children:[g.jsx("img",{src:i.image,alt:i.name,style:{width:"180px",height:"auto",borderRadius:"4px",border:o?"2px solid #4f46e5":"2px solid transparent",cursor:o?"pointer":"default"}}),g.jsx("h4",{style:{margin:0,fontSize:G.body,textAlign:"center"},children:i.name}),r&&g.jsx("p",{style:{margin:0,fontSize:G.small,color:"#aaa"},children:"(Used)"}),g.jsxs("p",{style:{margin:0,fontSize:G.small},children:["Cost: ",a]})]}):null),G1=W.memo(({pendingChoice:i,onMakeChoice:a,uiState:r})=>{if(!i)return null;const{options:o,effect:c,type:f,cards:d,count:p}=i;let y="Make a choice",m=null;const x=b=>!!(c==="serial_founder_double_down"&&b.toLowerCase().includes("add 2 inventory")&&r.products.length===0);switch(f){case"discard":y=c==="midnight_oil"?"Midnight Oil: Discard 1 Card":"Discard a Card",m=g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"15px"},children:[g.jsx("p",{style:{fontSize:G.body,margin:"0 0 10px 0"},children:"Choose a card from your hand to discard:"}),g.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"10px",flexWrap:"wrap"},children:r.hand.map((b,S)=>g.jsx(sn,{card:b,displayMode:"choiceModal",isClickable:!0,onClick:()=>a(S),isDiscardMode:!0,enableHover:!0},b.id||S))})]});break;case"destroy_product":if(y="Fast Pivot: Destroy a Product",!d||d.length===0)return null;m=g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"15px"},children:[g.jsx("p",{style:{fontSize:G.body,margin:"0 0 10px 0"},children:"Choose a product to destroy. You'll draw 2 cards and your next Product costs 2 less."}),g.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"10px",flexWrap:"wrap"},children:d.map((b,S)=>g.jsx(sn,{card:b,displayMode:"choiceModal",isClickable:!0,onClick:()=>a(S),enableHover:!0},b.id||S))})]});break;case"choose_card":if(!d||d.length===0)return null;c==="serial_founder_double_down_add_inventory"?y="Double Down: Add Inventory":c==="brand_builder_engage_add_inventory"?y="Engage: Choose Product":c==="black_friday_blitz_sell_product"?y="Black Friday Blitz: Sell Product":c==="multi_product_inventory_boost"?y="Warehouse Expansion: Choose Products":c==="add_inventory_if_empty"?y="Reorder: Choose Empty Product":y="Choose a Product",m=g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"15px"},children:[g.jsxs("p",{style:{fontSize:G.body,margin:"0 0 10px 0"},children:[c==="serial_founder_double_down_add_inventory"&&"Choose a product to add +2 inventory",c==="brand_builder_engage_add_inventory"&&"Choose a product to add +2 inventory",c==="black_friday_blitz_sell_product"&&"Choose a product with inventory to sell",c==="add_inventory_if_empty"&&"Choose a product with 0 inventory to restock (+3)",c==="multi_product_inventory_boost"&&"Choose products to add +1 inventory each (up to 3 total)",!["serial_founder_double_down_add_inventory","brand_builder_engage_add_inventory","black_friday_blitz_sell_product","add_inventory_if_empty","multi_product_inventory_boost"].includes(c||"")&&"Choose a product to boost"]}),g.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"10px",flexWrap:"wrap"},children:d.map((b,S)=>{const T=c==="add_inventory_if_empty"&&b.inventory!==0,w=c==="black_friday_blitz_sell_product"?(b.inventory||0)>0:!0;return g.jsxs("div",{style:{position:"relative"},children:[g.jsx(sn,{card:b,displayMode:"choiceModal",isClickable:!T&&w,onClick:()=>a(S),enableHover:!0,style:{opacity:T||!w?.5:1}}),c==="add_inventory_if_empty"&&b.inventory===0&&g.jsx("div",{style:{textAlign:"center",marginTop:"5px",color:q.success,fontWeight:"bold"},children:"+3 Stock"})]},b.id||S)})}),c==="multi_product_inventory_boost"&&g.jsx("button",{onClick:()=>a(-1),style:{...Dt,background:q.bgLight,color:q.white,marginTop:"15px",padding:"10px 20px"},children:"Done Selecting"})]});break;case"choose_option":if(!o)return null;c==="serial_founder_double_down"?y="Double Down: Choose an Effect":c==="incubator_resources_choice"&&(y="Incubator Resources: Choose Bonus"),m=g.jsx("div",{style:{display:"flex",justifyContent:"space-around",gap:"15px",flexWrap:"wrap"},children:o.map((b,S)=>{const T=x(b);return g.jsx("button",{onClick:()=>!T&&a(S,b),disabled:T,style:{...Dt,background:T?q.disabled:q.primary,color:q.white,padding:"12px 20px",fontSize:G.medium,minWidth:"160px",opacity:T?.6:1,cursor:T?"not-allowed":"pointer"},children:b},S)})});break;case"view_deck_and_discard":if(!d||p===void 0)return null;y="Analytics Dashboard: View Top Deck",m=g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"15px"},children:[g.jsxs("p",{style:{fontSize:G.body,margin:"0 0 10px 0"},children:["Top ",p," card",p===1?"":"s"," of your deck. Choose one to discard, or keep all."]}),g.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"10px",flexWrap:"wrap"},children:d.map((b,S)=>g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[g.jsx(sn,{card:b,displayMode:"choiceModal",enableHover:!0}),g.jsxs("button",{onClick:()=>a(S),style:{...Dt,background:q.danger,padding:"6px 12px",fontSize:G.small},children:["Discard ",b.name]})]},b.id||S))}),g.jsx("button",{onClick:()=>a(-1),style:{...Dt,background:q.bgLight,marginTop:"15px",padding:"10px 20px"},children:"Keep All / Done"})]});break;case"choose_from_drawn_to_discard":if(!d||d.length===0)return null;y="A/B Test: Choose Card to Discard",m=g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[g.jsx("p",{style:{fontSize:G.body,margin:"0 0 10px 0"},children:"You drew these cards. Click one to discard:"}),g.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"15px",flexWrap:"wrap"},children:d.map((b,S)=>g.jsx(sn,{card:b,displayMode:"choiceModal",isClickable:!0,onClick:()=>a(S),enableHover:!0},b.id||S))})]});break;default:return null}return g.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(30, 41, 59, 0.98)",padding:"25px",borderRadius:"12px",border:`2px solid ${q.primaryDark}`,boxShadow:"0 10px 30px rgba(0,0,0,0.6)",zIndex:2e3,color:q.textLight,minWidth:"380px",maxWidth:"90vw",maxHeight:"90vh",overflowY:"auto"},children:[g.jsx("h3",{style:{marginTop:0,marginBottom:"20px",fontSize:G.heading,color:q.white},children:y}),m]})}),J1=W.memo(({card:i,visible:a,displayModeOverride:r,revenueBonus:o=0})=>!a||!i?null:g.jsx("div",{style:{zIndex:1e3,pointerEvents:"none"},children:g.jsx(Ug,{card:i,displayMode:r||"tooltip",revenueBonus:o})})),I1=({entry:i,index:a,gameState:r,playerID:o})=>{const[c,f]=ye.useState(null),[d,p]=ye.useState({x:0,y:0}),y=ye.useMemo(()=>{const T=r.players[o],w=new Map;return T.hand.forEach(j=>{j.name&&w.set(j.name,j)}),T.board.Products.forEach(j=>{j.name&&w.set(j.name,j)}),T.board.Tools.forEach(j=>{j.name&&w.set(j.name,j)}),T.board.Employees.forEach(j=>{j.name&&w.set(j.name,j)}),T.deck.forEach(j=>{j.name&&w.set(j.name,j)}),$t.forEach(j=>{j.starterDeck.forEach(B=>{B.name&&w.set(B.name,B)})}),zg.forEach(j=>{j.name&&w.set(j.name,j)}),Bg.forEach(j=>{j.name&&w.set(j.name,j)}),w},[r,o]),m=ye.useMemo(()=>{const T=new Map;return $t.forEach(w=>{T.set(w.heroPower.name,w.heroPower),T.set(`${w.name}'s hero power: ${w.heroPower.name}`,w.heroPower)}),T},[]),x=ye.useCallback((T,w)=>{const j=w.target.getBoundingClientRect();f(T),p({x:j.left+j.width/2,y:j.top-10})},[]),b=ye.useCallback(()=>{f(null)},[]),S=ye.useMemo(()=>{const T=[];y.forEach((C,P)=>{const Y=new RegExp(`\\b${P.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"g");let Q;for(;(Q=Y.exec(i))!==null;)T.push({start:Q.index,end:Q.index+P.length,text:P,card:C,type:"card"})}),m.forEach((C,P)=>{const Y=new RegExp(`\\b${P.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"g");let Q;for(;(Q=Y.exec(i))!==null;){const me={name:C.name,cost:C.cost,type:"Hero Power",text:C.description};T.push({start:Q.index,end:Q.index+P.length,text:P,card:me,type:"heroPower"})}}),T.sort((C,P)=>C.start-P.start);const w=[];let j=-1;for(const C of T)C.start>=j&&(w.push(C),j=C.end);const B=[];let U=0;return w.forEach((C,P)=>{C.start>U&&B.push(g.jsx("span",{children:i.substring(U,C.start)},`text-${U}`)),B.push(g.jsx("span",{style:{color:C.type==="heroPower"?q.primary:q.warningLight,cursor:"pointer",textDecoration:"underline",textDecorationStyle:"dotted"},onMouseEnter:Y=>x(C.card,Y),onMouseLeave:b,children:C.text},`${C.type}-${P}`)),U=C.end}),U<i.length&&B.push(g.jsx("span",{children:i.substring(U)},`text-${U}`)),B.length>0?g.jsx(g.Fragment,{children:B}):g.jsx("span",{children:i})},[i,y,m,x,b]);return g.jsxs(g.Fragment,{children:[g.jsx("div",{style:{padding:"10px 15px",background:a===0?"rgba(251, 191, 36, 0.1)":"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:G.small,color:a===0?q.warningLight:q.textLight,borderLeft:a===0?"3px solid "+q.warning:"none",transition:"all 0.2s",position:"relative"},children:S}),c&&g.jsx("div",{style:{position:"fixed",left:d.x,top:d.y,transform:"translate(-50%, -100%)",zIndex:1e4},children:g.jsx(J1,{card:c,visible:!0,displayModeOverride:"tooltip"})})]})},W1=({isOpen:i,onClose:a,gameLog:r,gameState:o,playerID:c})=>i?(console.log("GameLog component - gameLog prop:",r),console.log("GameLog length:",r.length),g.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:3e3,backdropFilter:"blur(4px)"},onClick:a,children:g.jsxs("div",{style:{background:"linear-gradient(135deg, #1a1a2e 0%, #0f0f1e 100%)",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"90%",maxHeight:"70vh",boxShadow:"0 20px 50px rgba(0, 0, 0, 0.7)",border:"1px solid rgba(120, 80, 190, 0.3)",display:"flex",flexDirection:"column"},onClick:f=>f.stopPropagation(),children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",paddingBottom:"15px"},children:[g.jsx("h2",{style:{fontSize:G.heading,color:q.warningLight,margin:0},children:" Game Log"}),g.jsx("button",{onClick:a,style:{background:"transparent",border:"none",color:q.textMuted,fontSize:"24px",cursor:"pointer",padding:"5px",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:f=>{f.currentTarget.style.background="rgba(255, 255, 255, 0.1)",f.currentTarget.style.color=q.white},onMouseLeave:f=>{f.currentTarget.style.background="transparent",f.currentTarget.style.color=q.textMuted},children:""})]}),g.jsx("div",{style:{flex:1,overflowY:"auto",background:"rgba(0, 0, 0, 0.3)",borderRadius:"8px",padding:"20px"},children:r.length===0?g.jsx("p",{style:{color:q.textMuted,fontSize:G.body,textAlign:"center",fontStyle:"italic"},children:"No game events yet..."}):g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[...r].reverse().map((f,d)=>g.jsx(I1,{entry:f,index:d,gameState:o,playerID:c},d))})}),g.jsxs("div",{style:{marginTop:"15px",paddingTop:"15px",borderTop:"1px solid rgba(255, 255, 255, 0.1)",fontSize:G.small,color:q.textMuted,textAlign:"center"},children:["Showing ",r.length," events  Most recent first"]})]})})):null,F1=i=>{const o=i?[" You're officially a pixel profit prophet!"," From zero to hero! Your investors are crying tears of joy."," Cha-ching! Time to buy that yacht you've been eyeballing."," Silicon Valley called, they want your autograph!"," You did it! Your business school professor would be so proud."," Success! Now you can finally afford guacamole at Chipotle."]:[" Don't worry, even Apple started in a garage!"," Every failure is just a stepping stone to success. Or bankruptcy. But mostly success!"," Time to pivot! Maybe try selling NFTs of your failures?"," Remember: it's not a loss, it's a 'learning experience' for your memoir."," Hey, at least you didn't invest in crypto... right?"," Take a coffee break and try again. Entrepreneurship is 90% caffeine anyway!"];return o[Math.floor(Math.random()*o.length)]},e_=({isOpen:i,isVictory:a,revenue:r,turn:o,onNewGame:c,onContinue:f})=>{if(!i)return null;const d=F1(a),p=Oi.REVENUE_GOAL;return g.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:5e3,backdropFilter:"blur(8px)"},children:[g.jsxs("div",{style:{background:a?"linear-gradient(135deg, #065f46 0%, #047857 100%)":"linear-gradient(135deg, #7f1d1d 0%, #991b1b 100%)",borderRadius:"16px",padding:"40px",maxWidth:"500px",width:"90%",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.5)",border:`2px solid ${a?q.success:q.danger}`,textAlign:"center",animation:"slideIn 0.3s ease-out"},children:[g.jsx("div",{style:{fontSize:"80px",marginBottom:"20px",animation:a?"bounce 1s ease-in-out infinite":"shake 0.5s"},children:a?"":""}),g.jsx("h1",{style:{fontSize:G.title,color:q.white,marginBottom:"15px",textShadow:"2px 2px 4px rgba(0,0,0,0.3)"},children:a?"VICTORY!":"GAME OVER"}),g.jsxs("div",{style:{fontSize:G.large,color:q.white,marginBottom:"20px",lineHeight:1.6},children:[g.jsxs("div",{children:["Final Revenue: ",g.jsx("strong",{children:Lr(r)})]}),g.jsxs("div",{children:["Goal: ",g.jsx("strong",{children:Lr(p)})]}),g.jsxs("div",{style:{fontSize:G.body,marginTop:"10px"},children:["Completed in ",o," turns"]})]}),g.jsx("div",{style:{fontSize:G.body,color:q.textLight,marginBottom:"25px",fontStyle:"italic"},children:a?`You reached the revenue goal of ${Lr(p)}!`:"Ran out of moves - no cards to play and no products to sell."}),g.jsx("div",{style:{fontSize:G.body,color:q.warningLight,marginBottom:"30px",padding:"15px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",border:"1px solid rgba(251, 191, 36, 0.3)"},children:d}),g.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[g.jsx("button",{onClick:f,style:{...Dt,background:"linear-gradient(135deg, #4b5563 0%, #374151 100%)",color:"white",padding:"12px 24px",fontSize:G.body},children:"View Board"}),g.jsx("button",{onClick:c,style:{...Dt,background:a?"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)":"linear-gradient(135deg, #059669 0%, #047857 100%)",color:a?"#1f2937":"white",padding:"12px 24px",fontSize:G.body,fontWeight:"bold"},children:"New Game"})]})]}),g.jsx("style",{children:`
        @keyframes slideIn {
          from {
            transform: scale(0.8) translateY(20px);
            opacity: 0;
          }
          to {
            transform: scale(1) translateY(0);
            opacity: 1;
          }
        }
        
        @keyframes bounce {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-20px);
          }
        }
        
        @keyframes shake {
          0%, 100% {
            transform: translateX(0);
          }
          25% {
            transform: translateX(-10px);
          }
          75% {
            transform: translateX(10px);
          }
        }
      `})]})};function t_(i,a){switch(i){case"brand_builder":return a.some(r=>r.isActive!==!1);case"serial_founder":return!0;default:return!0}}function n_({gameState:i,moves:a,playerID:r,isMyTurn:o,events:c}){const[f,d]=ye.useState(!1),[p,y]=ye.useState(!1),[m,x]=ye.useState(0),[b,S]=ye.useState(new Set);console.log("Game State:",i),console.log("Game Log:",i.gameLog);const{uiState:T,effectContext:w,toolsAndEmployees:j}=Q1(i,r),B=T.pendingChoices[0],{heroPowerTooltip:U,showCardTooltip:C,hideCardTooltip:P,showHeroPowerTooltip:Y,hideHeroPowerTooltip:Q}=Z1(),{getCostInfo:me}=K1(w,T.tools,T.employees),se=$t.find(ne=>ne.id===T.hero),he=(se==null?void 0:se.heroPower.cost)||2,ee=(se==null?void 0:se.heroPower)||{name:"Hero Power",description:"Use your hero's special ability"},$=o&&!T.heroAbilityUsed&&T.capital>=he&&t_(T.hero,T.products);ye.useEffect(()=>{i.gameOver&&!p&&y(!0)},[i,p]),ye.useEffect(()=>{if(T.revenue>m&&m>0)try{const ne=new Audio("/dream_builders/sounds/cha_ching_sound.mp3");ne.volume=.7,ne.play().catch(()=>{})}catch{}x(T.revenue)},[T.revenue,m]),ye.useEffect(()=>{if(w.midnightOilDiscardPending&&o){const ne=setTimeout(()=>{var z;(z=a.triggerMidnightOilDiscard)==null||z.call(a)},1500);return()=>clearTimeout(ne)}},[w.midnightOilDiscardPending,o,a]),ye.useEffect(()=>{var ne;w.fastPivotProductDestroyPending&&o&&((ne=a.triggerFastPivotDestroyChoice)==null||ne.call(a))},[w.fastPivotProductDestroyPending,o,a]),ye.useEffect(()=>{if(w.recentlyAffectedCardIds&&w.recentlyAffectedCardIds.length>0){const ne=new Set(b);let z=!1;w.recentlyAffectedCardIds.forEach(J=>{J&&!ne.has(J)&&(ne.add(J),z=!0,setTimeout(()=>{S(ie=>{const we=new Set(ie);return we.delete(J),we})},1500))}),z&&S(ne)}},[w.recentlyAffectedCardIds,b]),ye.useEffect(()=>{if(w.turnStartProductsSold&&o)try{const ne=new Audio("/dream_builders/sounds/cha_ching_sound.mp3");ne.volume=.5,ne.play().catch(()=>{})}catch{}},[w.turnStartProductsSold,o]),ye.useEffect(()=>{w.recentlySoldProductIds&&w.recentlySoldProductIds.length>0},[w.recentlySoldProductIds]);const de=ye.useCallback(ne=>{var z;o&&(P(),(z=a.playCard)==null||z.call(a,ne))},[a,o,P]),xe=ye.useCallback(()=>{o&&(c!=null&&c.endTurn)&&(P(),Q(),c.endTurn())},[c,o,P,Q]),He=ye.useCallback(()=>{var ne;$&&(Q(),(ne=a.useHeroAbility)==null||ne.call(a,T.hero))},[a,T.hero,$,Q]),at=ye.useCallback(ne=>{var z;!o||!B||(P(),Q(),(z=a.makeChoice)==null||z.call(a,ne))},[a,B,o,P,Q]);return g.jsxs("div",{style:{width:"100vw",height:"100vh",background:"url('/dream_builders/assets/background.png') center/cover no-repeat, radial-gradient(ellipse at top, #3b2a4f, #1a1a2e 70%)",color:"white",padding:"20px",paddingBottom:"0",display:"flex",flexDirection:"column",fontFamily:'"Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif',overflowX:"hidden",overflowY:"hidden"},children:[g.jsx(O1,{...U,heroPowerName:ee.name,heroPowerDescription:ee.description,cost:he,heroId:T.hero,cardsPlayedThisTurn:w.cardsPlayedThisTurn||0}),g.jsx("div",{style:{background:"rgba(0,0,0,0.2)",padding:"15px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",marginBottom:"15px",flexShrink:0},children:g.jsx(R1,{heroName:T.hero,capital:T.capital,turn:T.turn,deckSize:T.deck.length,revenue:T.revenue,effectContext:w,hasShoestringBudget:j.some(ne=>ne.effect==="shoestring_budget")})}),g.jsx("div",{style:{display:"flex",flex:1,gap:"20px",minHeight:0,maxHeight:"calc(100vh - 280px)"},children:g.jsxs("div",{style:{flex:1,background:"rgba(40, 30, 60, 0.5)",borderRadius:"10px",padding:"15px",display:"flex",flexDirection:"row",gap:"15px",border:"1px solid rgba(120, 80, 190, 0.7)",boxShadow:"inset 0 0 15px rgba(0,0,0,0.5)",overflowY:"auto",overflowX:"hidden"},children:[g.jsx("div",{style:{flex:1,minWidth:0,background:"rgba(120, 80, 190, 0.1)",borderRadius:"8px",padding:"15px",minHeight:"280px",display:"flex",flexDirection:"column"},children:g.jsx(X1,{cards:j,effectContext:w,onShowTooltip:C,onHideTooltip:P,affectedCardIds:b})}),g.jsx("div",{style:{width:"1px",background:"rgba(120, 80, 190, 0.3)",margin:"0 15px"}}),g.jsx("div",{style:{flex:1,minWidth:0,background:"rgba(34, 197, 94, 0.1)",borderRadius:"8px",padding:"15px",minHeight:"280px",display:"flex",flexDirection:"column"},children:g.jsx(V1,{products:T.products,tools:T.tools,effectContext:w,onShowTooltip:C,onHideTooltip:P,affectedCardIds:b})})]})})," ",g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",marginTop:"15px",flexShrink:0,minHeight:"120px",position:"relative",marginBottom:"-80px",paddingBottom:"80px",overflow:"visible"},children:[g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[g.jsx($1,{hero:se,heroCost:he,isHeroPowerUsed:T.heroAbilityUsed,canUseHeroPower:$,onUseHeroPower:He,onHeroPowerMouseEnter:Y,onHeroPowerMouseLeave:Q,onHeroPowerMouseMove:Y}),g.jsx("button",{onClick:()=>d(!0),style:{...Dt,background:"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)",color:"white",padding:"8px 16px",fontSize:G.small,borderRadius:"6px",boxShadow:"0 2px 5px rgba(0,0,0,0.3)",transition:"all 0.2s ease",border:"1px solid rgba(255, 255, 255, 0.1)",minWidth:"120px"},onMouseEnter:ne=>{ne.currentTarget.style.transform="translateY(-1px)",ne.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.4)"},onMouseLeave:ne=>{ne.currentTarget.style.transform="translateY(0)",ne.currentTarget.style.boxShadow="0 2px 5px rgba(0,0,0,0.3)"},children:" Game Log"})]}),g.jsx("div",{style:{flex:1,display:"flex",justifyContent:"center",transform:"translateY(80px)",zIndex:100,overflow:"visible"},children:g.jsx(H1,{hand:T.hand,getCostInfo:me,capital:T.capital,isMyTurn:o,effectContext:w,affectedCardIds:b,onPlayCard:de,onShowTooltip:C,onHideTooltip:P,isChoiceModalOpen:!!B,products:T.products})}),g.jsx("div",{style:{width:"250px"}})]}),g.jsx(G1,{pendingChoice:B,onMakeChoice:at,uiState:T}),g.jsx(W1,{isOpen:f,onClose:()=>d(!1),gameLog:i.gameLog||[],gameState:i,playerID:r}),g.jsx(e_,{isOpen:p,isVictory:i.winner,revenue:T.revenue,turn:T.turn,onNewGame:()=>{window.location.reload()},onContinue:()=>{y(!1)}}),o&&g.jsx("button",{onClick:xe,style:{position:"fixed",bottom:"30px",right:"30px",...Dt,backgroundColor:"#059669",color:"white",padding:"12px 24px",fontSize:G.large,zIndex:1500,boxShadow:"0 4px 10px rgba(0,0,0,0.3)"},children:"End Turn"})]})}const Zt={title:"38px",heading:"25px",large:"20px",body:"19px",medium:"18px",small:"16px"};function a_({onHeroSelected:i}){var f,d;const[a,r]=ye.useState(null),o=p=>{switch(p){case"Red":return"#dc2626";case"Blue":return"#2563eb";case"Green":return"#059669";case"White":return"#6b7280";case"Black":return"#374151";default:return"#6b7280"}},c=()=>{a&&(localStorage.setItem("selectedHero",a),i(a))};return g.jsxs("div",{style:{width:"100vw",height:"100vh",background:"url('/dream_builders/assets/background.png') center/cover no-repeat, linear-gradient(to bottom, #1e293b, #0f172a)",color:"white",padding:"40px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",fontFamily:'"Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif'},children:[g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx("h1",{style:{margin:0,fontSize:Zt.title,marginBottom:"16px"},children:"Choose Your Path"}),g.jsx("p",{style:{margin:0,fontSize:Zt.large,color:"#94a3b8",maxWidth:"600px"},children:"Select the entrepreneur that matches your playstyle and begin building your dream business."})]}),g.jsx("div",{style:{flexGrow:1,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%",padding:"20px 0",gap:"40px"},children:a&&$t.find(p=>p.id===a)?g.jsxs(g.Fragment,{children:[g.jsx("img",{src:(f=$t.find(p=>p.id===a))==null?void 0:f.image,alt:(d=$t.find(p=>p.id===a))==null?void 0:d.name,style:{maxWidth:"40%",maxHeight:"100%",width:"auto",height:"auto",objectFit:"contain",borderRadius:"16px",border:"4px solid #3b82f6",boxShadow:"0 20px 40px rgba(59, 130, 246, 0.3)"}}),(()=>{const p=$t.find(y=>y.id===a);return p?g.jsxs("div",{style:{maxWidth:"50%",display:"flex",flexDirection:"column",gap:"16px",color:"#e2e8f0"},children:[g.jsx("h2",{style:{margin:0,fontSize:Zt.title,color:o(p.color),textAlign:"left"},children:p.name}),g.jsx("p",{style:{margin:0,fontSize:Zt.large,color:"#94a3b8",fontStyle:"italic",textAlign:"left"},children:p.flavorText}),g.jsx("p",{style:{margin:0,fontSize:Zt.body,lineHeight:"1.6",textAlign:"left"},children:p.playstyle}),g.jsxs("div",{style:{background:"rgba(0,0,0,0.3)",borderRadius:"12px",padding:"20px",border:"1px solid #374151"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[g.jsx("h4",{style:{margin:0,fontSize:Zt.heading,color:"#fbbf24"},children:p.heroPower.name}),g.jsxs("span",{style:{background:"#fbbf24",color:"#000",padding:"6px 12px",borderRadius:"16px",fontSize:Zt.medium,fontWeight:"bold"},children:["Cost: ",p.heroPower.cost]})]}),g.jsx("p",{style:{margin:0,fontSize:Zt.body,color:"#d1d5db",lineHeight:"1.5"},children:p.heroPower.description})]})]}):null})()]}):g.jsx("div",{style:{width:"450px",height:"300px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:Zt.heading,color:"#4b5563",border:"4px dashed #374151",borderRadius:"16px"},children:"Select a Hero Below"})}),g.jsx("div",{style:{display:"flex",gap:"20px",justifyContent:"center",alignItems:"center",paddingTop:"10px",paddingBottom:"20px",width:"100%",maxWidth:"1187px",overflowX:"auto"},children:$t.map(p=>g.jsxs("div",{onClick:()=>r(p.id),style:{background:a===p.id?"linear-gradient(to bottom, rgba(59, 130, 246, 0.2), rgba(29, 78, 216, 0.2))":"rgba(0,0,0,0.2)",border:a===p.id?"2px solid #3b82f6":"1px solid #374151",borderRadius:"8px",padding:"12px",width:"220px",minWidth:"220px",cursor:"pointer",transition:"all 0.2s ease",transform:a===p.id?"scale(1.03)":"scale(1)",boxShadow:a===p.id?"0 10px 20px rgba(59, 130, 246, 0.2)":"0 5px 10px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"10px"},children:g.jsx("img",{src:p.image,alt:p.name,style:{width:"120px",height:"80px",objectFit:"cover",borderRadius:"6px",border:"2px solid rgba(255,255,255,0.1)"}})}),g.jsx("div",{style:{textAlign:"center",marginBottom:"8px",width:"100%"},children:g.jsx("h3",{style:{margin:0,fontSize:Zt.body,marginBottom:"4px",color:o(p.color),minHeight:"2.4em"},children:p.name})}),g.jsx("div",{style:{textAlign:"center"},children:g.jsx("span",{style:{background:o(p.color),color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:Zt.small,fontWeight:"bold"},children:p.color})})]},p.id))}),g.jsxs("div",{style:{width:"100%",textAlign:"center",padding:"20px 0"},children:[g.jsx("button",{onClick:c,disabled:!a,style:{background:a?"linear-gradient(to right, #059669, #047857)":"#6b7280",color:"white",border:"none",borderRadius:"12px",padding:"16px 32px",fontSize:Zt.heading,fontWeight:"bold",cursor:a?"pointer":"not-allowed",transition:"all 0.3s ease",boxShadow:a?"0 10px 25px rgba(5, 150, 105, 0.4)":"0 5px 15px rgba(0,0,0,0.2)",opacity:a?1:.5},children:" Dream Big!"}),!a&&g.jsx("p",{style:{marginTop:"15px",fontSize:Zt.body,color:"#6b7280",textAlign:"center"},children:"Select a hero to begin your entrepreneurial journey"})]})]})}const i_=({isOpen:i,onClose:a})=>{const[r,o]=ye.useState(!1);if(ye.useEffect(()=>{i?setTimeout(()=>o(!0),10):o(!1)},[i]),!i)return null;const c=[{role:"Game Design & Technical Implementation",name:"Bart Zonneveld"},{role:"UI Design & Card Artwork",name:"Calvin Walzel"}],f=[{role:"Core Game Design",name:"GPT-4o by OpenAI",subtitle:'Vibe architect, balance destroyer, "just one more card" enthusiast'},{role:"Technical Architecture",name:"Claude-4-Opus MAX by Anthropic",subtitle:"TypeScript sommelier, async/await philosopher, runtime optimist"},{role:"Frontend Implementation",name:"Gemini-2.5-Pro by Google",subtitle:'CSS magician, component factory, "it works on my machine" specialist'}],d=[{role:"Chief Hallucination Prevention Officer",name:"Bart Zonneveld"},{role:"AI Prompt Whisperer",name:"Bart Zonneveld"},{role:"Pixel Perfect Alignment Therapist",name:"Calvin Walzel"},{role:"Card Balance Destruction Specialist",name:"GPT-4o"},{role:"Infinite Loop Generator",name:"Claude-4-Opus MAX"},{role:'"Undefined is not a function" Expert',name:"Gemini-2.5-Pro"},{role:"Coffee-to-Code Conversion Engine",name:"Bart Zonneveld"},{role:"Bug Feature Designer",name:"All AI Models (collectively)"}];return g.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,backdropFilter:"blur(8px)",opacity:r?1:0,transition:"opacity 0.3s ease-in-out"},onClick:a,children:g.jsxs("div",{style:{background:"linear-gradient(135deg, #1a1a2e 0%, #0f0f1e 100%)",borderRadius:"20px",padding:"60px 50px",maxWidth:"800px",width:"90%",maxHeight:"90vh",overflowY:"auto",overflowX:"hidden",boxShadow:"0 25px 60px rgba(0, 0, 0, 0.7)",border:"1px solid rgba(120, 80, 190, 0.3)",transform:r?"translateY(0)":"translateY(20px)",transition:"transform 0.3s ease-out"},onClick:p=>p.stopPropagation(),children:[g.jsx("button",{onClick:a,style:{position:"absolute",top:"20px",right:"20px",background:"transparent",border:"none",color:q.textMuted,fontSize:"24px",cursor:"pointer",padding:"10px",borderRadius:"50%",transition:"all 0.2s",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:p=>{p.currentTarget.style.background="rgba(255, 255, 255, 0.1)",p.currentTarget.style.color=q.white},onMouseLeave:p=>{p.currentTarget.style.background="transparent",p.currentTarget.style.color=q.textMuted},children:""}),g.jsxs("div",{style:{textAlign:"center",marginBottom:"50px"},children:[g.jsx("h1",{style:{fontSize:"42px",marginBottom:"15px",color:q.warningLight,fontWeight:"bold",letterSpacing:"2px"},children:" DREAM BUILDERS"}),g.jsxs("p",{style:{fontSize:G.body,color:q.textMuted,fontStyle:"italic"},children:["Designed with actual ideas. Enthusiastically hallucinated by actual AI.",g.jsx("br",{}),"No lines of code were written by hand during the making of this game."]})]}),g.jsxs("section",{style:{marginBottom:"40px"},children:[g.jsx("h2",{style:{fontSize:G.heading,color:q.successLight,marginBottom:"25px",display:"flex",alignItems:"center",gap:"10px"},children:" Human Contributors"}),g.jsx("div",{style:{paddingLeft:"20px"},children:c.map((p,y)=>g.jsxs("div",{style:{marginBottom:"20px"},children:[g.jsx("div",{style:{fontSize:G.body,color:q.textLight,marginBottom:"5px"},children:p.name}),g.jsx("div",{style:{fontSize:G.small,color:q.textMuted},children:p.role})]},y))})]}),g.jsxs("section",{style:{marginBottom:"40px"},children:[g.jsx("h2",{style:{fontSize:G.heading,color:q.textPurple,marginBottom:"25px",display:"flex",alignItems:"center",gap:"10px"},children:" AI Co-Conspirators"}),g.jsx("div",{style:{paddingLeft:"20px"},children:f.map((p,y)=>g.jsxs("div",{style:{marginBottom:"25px"},children:[g.jsx("div",{style:{fontSize:G.body,color:q.textLight,marginBottom:"5px"},children:p.name}),g.jsx("div",{style:{fontSize:G.small,color:q.textMuted,marginBottom:"3px"},children:p.role}),g.jsx("div",{style:{fontSize:"14px",color:q.textPurple,fontStyle:"italic"},children:p.subtitle})]},y))})]}),g.jsxs("section",{style:{marginBottom:"40px"},children:[g.jsx("h2",{style:{fontSize:G.heading,color:q.warningLight,marginBottom:"25px",display:"flex",alignItems:"center",gap:"10px"},children:" Totally Official Game Dev Titles"}),g.jsx("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"15px",padding:"25px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:d.map((p,y)=>g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0",borderBottom:y<d.length-1?"1px solid rgba(255, 255, 255, 0.05)":"none"},children:[g.jsx("span",{style:{fontSize:G.small,color:q.textMuted},children:p.role}),g.jsx("span",{style:{fontSize:G.small,color:q.textPurple},children:p.name})]},y))})]}),g.jsxs("section",{style:{marginBottom:"40px"},children:[g.jsx("h2",{style:{fontSize:G.heading,color:q.successLight,marginBottom:"20px"},children:" Special Thanks"}),g.jsx("p",{style:{fontSize:G.body,color:q.textMuted,lineHeight:"1.8"},children:"Every player who survived past turn 5 without rage quitting."})]}),g.jsxs("div",{style:{textAlign:"center",padding:"30px",background:"rgba(0, 0, 0, 0.4)",borderRadius:"15px",marginBottom:"30px"},children:[g.jsxs("p",{style:{fontSize:G.small,color:q.textMuted,marginBottom:"15px"},children:[" Built with React, TypeScript, boardgame.io,",g.jsx("br",{}),"and a concerning amount of console.log statements"]}),g.jsx("p",{style:{fontSize:"14px",color:q.textPurple,marginBottom:"10px"},children:"100% organic, free-range, vibe-coded software"}),g.jsx("p",{style:{fontSize:"13px",color:q.warningLight,fontStyle:"italic"},children:"Not a single line of code was handwritten. We asked nicely instead."})]}),g.jsx("div",{style:{textAlign:"center"},children:g.jsx("p",{style:{fontSize:G.large,color:q.textLight,fontWeight:"bold",letterSpacing:"1px"},children:"Thanks for playing! "})})]})})},r_={id:"minimalist_planner_pdf",name:"Minimalist Planner PDF",cost:1,type:"Product",text:"Declutter your day, digitally.",effect:"minimalist_planner_sale",revenuePerSale:1e3,inventory:5,keywords:[],flavor:"Because your to-do list deserves better than sticky notes."},l_={id:"aa2",name:"Optimize Checkout",cost:2,type:"Tool",text:"Your Products sell for $1000 more.",effect:"optimize_checkout",keywords:["Conversion","Product"],flavor:"One-click to success."},o_={id:"aa10",name:"Technical Cofounder",cost:3,type:"Employee",text:"Your Tools cost 1 less.",effect:"technical_cofounder",keywords:["Efficiency","Support"],flavor:"They code. You dream."},s_={id:"aa5",name:"A/B Test",cost:1,type:"Action",text:"Draw 2 cards. Discard 1.",effect:"ab_test",keywords:["Insight","Draw"],flavor:"Iterate, then dominate."},c_=({onClose:i})=>{const[a,r]=ye.useState(0),o=[{title:"Welcome to Dream Builders!",content:g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx("div",{style:{marginBottom:"30px"},children:g.jsx("img",{src:"/dream_builders/assets/logo.png",alt:"Dream Builders",style:{maxWidth:"300px",width:"100%",height:"auto"}})}),g.jsx("p",{style:{fontSize:G.large,marginBottom:"20px"},children:"Build your startup empire and reach $500,000 in revenue!"}),g.jsx("p",{style:{fontSize:G.body,color:q.textMuted},children:"In this game, you'll play as an entrepreneur, using cards to build products, hire employees, and grow your business."})]})},{title:"Turn Structure",content:g.jsxs("div",{children:[g.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.1)",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[g.jsx("h3",{style:{color:q.primary,marginBottom:"15px"},children:"Each turn consists of:"}),g.jsxs("ol",{style:{textAlign:"left",fontSize:G.body,lineHeight:"1.8"},children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Start of Turn:"}),g.jsxs("ul",{style:{marginTop:"5px",marginBottom:"10px"},children:[g.jsx("li",{children:"Products automatically sell inventory"}),g.jsx("li",{children:"Pay overhead costs"}),g.jsx("li",{children:"Gain capital (base + bonuses)"}),g.jsx("li",{children:"Draw 1 card"}),g.jsx("li",{children:"Hero power refreshes"})]})]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Main Phase:"}),g.jsxs("ul",{style:{marginTop:"5px",marginBottom:"10px"},children:[g.jsx("li",{children:"Play cards from your hand"}),g.jsx("li",{children:"Use your hero power (once per turn)"}),g.jsx("li",{children:"Activate card abilities"})]})]}),g.jsxs("li",{children:[g.jsx("strong",{children:"End Turn:"}),' Click the "End Turn" button when ready']})]})]}),g.jsx("p",{style:{fontSize:G.small,color:q.textMuted,fontStyle:"italic"},children:" Tip: Plan your moves carefully - capital doesn't carry over between turns!"})]})},{title:"Card Types",content:g.jsx("div",{children:g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"20px"},children:[g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx(sn,{card:r_,displayMode:"board",costInfo:{originalCost:1,discount:0,finalCost:1},isClickable:!1,enableHover:!0,hoverScale:1.1,hoverRaiseY:10,style:{transform:"scale(1.1)"}}),g.jsxs("p",{style:{marginTop:"10px",fontSize:G.small},children:[g.jsx("strong",{style:{color:q.success},children:"Products"}),g.jsx("br",{}),"Generate revenue when sold",g.jsx("br",{}),"Have inventory that depletes"]})]}),g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx(sn,{card:l_,displayMode:"board",costInfo:{originalCost:2,discount:0,finalCost:2},isClickable:!1,enableHover:!0,hoverScale:1.1,hoverRaiseY:10,style:{transform:"scale(1.1)"}}),g.jsxs("p",{style:{marginTop:"10px",fontSize:G.small},children:[g.jsx("strong",{style:{color:q.primary},children:"Tools"}),g.jsx("br",{}),"Provide ongoing benefits",g.jsx("br",{}),"Stay in play permanently"]})]}),g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx(sn,{card:o_,displayMode:"board",costInfo:{originalCost:3,discount:0,finalCost:3},isClickable:!1,enableHover:!0,hoverScale:1.1,hoverRaiseY:10,style:{transform:"scale(1.1)"}}),g.jsxs("p",{style:{marginTop:"10px",fontSize:G.small},children:[g.jsx("strong",{style:{color:q.warning},children:"Employees"}),g.jsx("br",{}),"Enhance your business",g.jsx("br",{}),"Provide passive bonuses"]})]}),g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx(sn,{card:s_,displayMode:"board",costInfo:{originalCost:1,discount:0,finalCost:1},isClickable:!1,enableHover:!0,hoverScale:1.1,hoverRaiseY:10,style:{transform:"scale(1.1)"}}),g.jsxs("p",{style:{marginTop:"10px",fontSize:G.small},children:[g.jsx("strong",{style:{color:q.danger},children:"Actions"}),g.jsx("br",{}),"One-time effects",g.jsx("br",{}),"Discarded after use"]})]})]})})},{title:"Resources & Economy",content:g.jsxs("div",{children:[g.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"20px"},children:[g.jsxs("div",{style:{flex:1,background:"rgba(34, 197, 94, 0.1)",padding:"20px",borderRadius:"10px",textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"48px",marginBottom:"10px"},children:""}),g.jsx("h3",{style:{color:q.success,marginBottom:"10px"},children:"Capital"}),g.jsx("p",{style:{fontSize:G.body},children:"Used to play cards. Gain capital each turn and from card effects. Unspent capital doesn't carry over!"})]}),g.jsxs("div",{style:{flex:1,background:"rgba(251, 191, 36, 0.1)",padding:"20px",borderRadius:"10px",textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"48px",marginBottom:"10px"},children:""}),g.jsx("h3",{style:{color:q.warning,marginBottom:"10px"},children:"Revenue"}),g.jsx("p",{style:{fontSize:G.body},children:"Your score! Reach $500,000 to win. Generated by selling products and card effects."})]})]}),g.jsxs("div",{style:{background:"rgba(139, 92, 246, 0.1)",padding:"20px",borderRadius:"10px",textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"48px",marginBottom:"10px"},children:""}),g.jsx("h3",{style:{color:q.primary,marginBottom:"10px"},children:"Inventory"}),g.jsx("p",{style:{fontSize:G.body},children:"Products have inventory that depletes when sold. Add inventory with card effects to keep generating revenue!"})]})]})},{title:"Key Game Mechanics",content:g.jsx("div",{children:g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"15px",fontSize:G.body},children:[g.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.1)",padding:"20px",borderRadius:"10px"},children:[g.jsx("strong",{style:{color:q.primary},children:" Recurring Effects:"}),g.jsx("p",{style:{marginTop:"10px",fontSize:G.small},children:'Some Tools and Employees trigger at the start of each turn, providing ongoing value. Look for "Recurring:" in card text.'})]}),g.jsxs("div",{style:{background:"rgba(34, 197, 94, 0.1)",padding:"20px",borderRadius:"10px"},children:[g.jsx("strong",{style:{color:q.success},children:" Product Sales:"}),g.jsx("p",{style:{marginTop:"10px",fontSize:G.small},children:"Products automatically sell 1 inventory at the start of each turn. Some cards can trigger additional sales or add inventory."})]}),g.jsxs("div",{style:{background:"rgba(251, 191, 36, 0.1)",padding:"20px",borderRadius:"10px"},children:[g.jsx("strong",{style:{color:q.warning},children:" Cost Discounts:"}),g.jsx("p",{style:{marginTop:"10px",fontSize:G.small},children:"Various cards and hero powers can reduce card costs. Discounts are shown on cards in your hand and are temporary unless stated otherwise."})]}),g.jsxs("div",{style:{background:"rgba(139, 92, 246, 0.1)",padding:"20px",borderRadius:"10px"},children:[g.jsx("strong",{style:{color:q.primary},children:" Card Synergies:"}),g.jsx("p",{style:{marginTop:"10px",fontSize:G.small},children:"Many cards work better together. For example, having multiple Products makes some Tools more effective. Build combos for maximum profit!"})]})]})})},{title:"Hero Powers",content:g.jsxs("div",{children:[g.jsx("p",{style:{fontSize:G.body,marginBottom:"20px",textAlign:"center"},children:"Each hero has a unique power that can be used once per turn:"}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"15px",fontSize:G.small},children:[g.jsxs("div",{style:{background:"rgba(34, 197, 94, 0.1)",padding:"15px",borderRadius:"8px"},children:[g.jsx("strong",{children:"Solo Hustler - Grind (1 ):"})," Draw 1 card. If it's a Product, reduce its cost by 1."]}),g.jsxs("div",{style:{background:"rgba(107, 114, 128, 0.1)",padding:"15px",borderRadius:"8px"},children:[g.jsx("strong",{children:"Brand Builder - Engage (2 ):"})," Add 2 inventory to a Product."]}),g.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.1)",padding:"15px",borderRadius:"8px"},children:[g.jsx("strong",{children:"Automation Architect - Deploy Script (2 ):"})," Gain 1 recurring capital next turn."]}),g.jsxs("div",{style:{background:"rgba(251, 191, 36, 0.1)",padding:"15px",borderRadius:"8px"},children:[g.jsx("strong",{children:"Community Leader - Go Viral (1 ):"})," If you played 2+ cards, add inventory to a Product."]}),g.jsxs("div",{style:{background:"rgba(139, 92, 246, 0.1)",padding:"15px",borderRadius:"8px"},children:[g.jsx("strong",{children:"Serial Founder - Double Down (2 ):"})," Draw a card OR refresh a used Product."]})]})]})},{title:"Pro Tips",content:g.jsx("div",{children:g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"15px",fontSize:G.body},children:[g.jsxs("div",{style:{background:"rgba(34, 197, 94, 0.1)",padding:"20px",borderRadius:"10px"},children:[g.jsx("strong",{children:" Manage Your Capital:"}),g.jsx("p",{style:{marginTop:"10px",fontSize:G.small},children:"Capital doesn't carry over between turns. Try to spend it efficiently! Some cards give you extra capital to work with."})]}),g.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.1)",padding:"20px",borderRadius:"10px"},children:[g.jsx("strong",{children:" Keep Inventory Stocked:"}),g.jsx("p",{style:{marginTop:"10px",fontSize:G.small},children:"Products only generate revenue if they have inventory. Use cards and hero powers to replenish inventory before it runs out!"})]}),g.jsxs("div",{style:{background:"rgba(251, 191, 36, 0.1)",padding:"20px",borderRadius:"10px"},children:[g.jsx("strong",{children:" Build Your Engine:"}),g.jsx("p",{style:{marginTop:"10px",fontSize:G.small},children:"Tools and Employees stay in play, creating an engine that generates value each turn. Focus on building a sustainable business!"})]}),g.jsxs("div",{style:{background:"rgba(139, 92, 246, 0.1)",padding:"20px",borderRadius:"10px"},children:[g.jsx("strong",{children:" Use Your Hero Power:"}),g.jsx("p",{style:{marginTop:"10px",fontSize:G.small},children:"Don't forget your hero power! It refreshes each turn and can provide crucial advantages. Plan your turns around it."})]})]})})}],c=o[a];return g.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:4e3,backdropFilter:"blur(8px)"},onClick:i,children:g.jsxs("div",{style:{background:"linear-gradient(135deg, #1a1a2e 0%, #0f0f1e 100%)",borderRadius:"20px",padding:"40px",width:"75vw",height:"75vh",maxWidth:"1400px",maxHeight:"900px",boxShadow:"0 25px 60px rgba(0, 0, 0, 0.7)",border:"1px solid rgba(120, 80, 190, 0.3)",display:"flex",flexDirection:"column"},onClick:f=>f.stopPropagation(),children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",flexShrink:0},children:[g.jsx("h1",{style:{fontSize:G.title,color:q.warningLight,margin:0},children:c.title}),g.jsx("button",{onClick:i,style:{background:"transparent",border:"none",color:q.textMuted,fontSize:"24px",cursor:"pointer",padding:"5px",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:f=>{f.currentTarget.style.background="rgba(255, 255, 255, 0.1)",f.currentTarget.style.color=q.white},onMouseLeave:f=>{f.currentTarget.style.background="transparent",f.currentTarget.style.color=q.textMuted},children:""})]}),g.jsx("div",{style:{marginBottom:"30px",minHeight:"300px",flexGrow:1,overflowY:"auto",paddingRight:"10px"},children:c.content}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexShrink:0,paddingTop:"20px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[g.jsx("button",{onClick:()=>r(Math.max(0,a-1)),disabled:a===0,style:{...Dt,background:a===0?"#4b5563":"linear-gradient(135deg, #7850be 0%, #5a3a9a 100%)",color:"white",padding:"10px 20px",fontSize:G.body,opacity:a===0?.5:1,cursor:a===0?"not-allowed":"pointer"},children:"Previous"}),g.jsx("div",{style:{display:"flex",gap:"8px"},children:o.map((f,d)=>g.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:d===a?q.warningLight:q.textMuted,cursor:"pointer",transition:"background 0.2s"},onClick:()=>r(d)},d))}),a<o.length-1?g.jsx("button",{onClick:()=>r(Math.min(o.length-1,a+1)),style:{...Dt,background:"linear-gradient(135deg, #7850be 0%, #5a3a9a 100%)",color:"white",padding:"10px 20px",fontSize:G.body},children:"Next"}):g.jsx("button",{onClick:i,style:{...Dt,background:"linear-gradient(135deg, #059669 0%, #047857 100%)",color:"white",padding:"10px 20px",fontSize:G.body},children:"Start Playing!"})]})]})})},u_=({onStartGame:i})=>{const[a,r]=ye.useState(!1),[o,c]=ye.useState(!1),[f,d]=ye.useState(!1),[p,y]=ye.useState(!1);return ye.useEffect(()=>{setTimeout(()=>y(!0),100)},[]),g.jsxs(g.Fragment,{children:[!a&&!o&&!f&&g.jsxs("div",{style:{width:"100vw",height:"100vh",background:"url('/dream_builders/assets/background.png') center/cover no-repeat, radial-gradient(ellipse at top, #3b2a4f, #1a1a2e 70%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"fixed",top:0,left:0,zIndex:3e3,opacity:p?1:0,transition:"opacity 0.5s ease-in-out"},children:[g.jsx("div",{style:{position:"absolute",inset:0,background:"radial-gradient(circle at center, transparent, rgba(0,0,0,0.4))",pointerEvents:"none"}}),g.jsxs("div",{style:{textAlign:"center",transform:p?"translateY(0)":"translateY(20px)",transition:"transform 0.5s ease-out",position:"relative",zIndex:1,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"60px 0"},children:[g.jsxs("div",{children:[g.jsx("img",{src:"/dream_builders/assets/logo.png",alt:"Dream Builders",style:{maxWidth:"500px",width:"100%",height:"auto",filter:"drop-shadow(0 0 40px rgba(251, 191, 36, 0.5)) drop-shadow(0 5px 15px rgba(0,0,0,0.5))"}}),g.jsx("p",{style:{fontSize:G.heading,color:q.textMuted,fontStyle:"italic",opacity:.8,marginTop:"20px"},children:"Build Your Startup Empire"})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",alignItems:"center"},children:[g.jsx("button",{onClick:i,style:{...Dt,background:"linear-gradient(135deg, #059669 0%, #047857 100%)",color:"white",padding:"18px 50px",fontSize:G.heading,fontWeight:"bold",borderRadius:"12px",boxShadow:"0 8px 20px rgba(5, 150, 105, 0.4), 0 4px 10px rgba(0,0,0,0.3)",transition:"all 0.3s ease",border:"2px solid transparent",letterSpacing:"1px",minWidth:"250px"},onMouseEnter:m=>{m.currentTarget.style.transform="translateY(-2px)",m.currentTarget.style.boxShadow="0 10px 25px rgba(5, 150, 105, 0.5), 0 6px 15px rgba(0,0,0,0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateY(0)",m.currentTarget.style.boxShadow="0 8px 20px rgba(5, 150, 105, 0.4), 0 4px 10px rgba(0,0,0,0.3)"},children:"NEW GAME"}),g.jsx("button",{onClick:()=>d(!0),style:{...Dt,background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)",color:"#1f2937",padding:"16px 50px",fontSize:G.large,borderRadius:"12px",boxShadow:"0 6px 15px rgba(251, 191, 36, 0.3), 0 3px 8px rgba(0,0,0,0.3)",transition:"all 0.3s ease",border:"2px solid transparent",minWidth:"250px",fontWeight:"bold"},onMouseEnter:m=>{m.currentTarget.style.transform="translateY(-2px)",m.currentTarget.style.boxShadow="0 8px 20px rgba(251, 191, 36, 0.4), 0 5px 12px rgba(0,0,0,0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateY(0)",m.currentTarget.style.boxShadow="0 6px 15px rgba(251, 191, 36, 0.3), 0 3px 8px rgba(0,0,0,0.3)"},children:"TRAILER"}),g.jsx("button",{onClick:()=>c(!0),style:{...Dt,background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",padding:"16px 50px",fontSize:G.large,borderRadius:"12px",boxShadow:"0 6px 15px rgba(59, 130, 246, 0.3), 0 3px 8px rgba(0,0,0,0.3)",transition:"all 0.3s ease",border:"2px solid transparent",minWidth:"250px"},onMouseEnter:m=>{m.currentTarget.style.transform="translateY(-2px)",m.currentTarget.style.boxShadow="0 8px 20px rgba(59, 130, 246, 0.4), 0 5px 12px rgba(0,0,0,0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateY(0)",m.currentTarget.style.boxShadow="0 6px 15px rgba(59, 130, 246, 0.3), 0 3px 8px rgba(0,0,0,0.3)"},children:"HOW TO PLAY"}),g.jsx("button",{onClick:()=>r(!0),style:{...Dt,background:"linear-gradient(135deg, #7850be 0%, #5a3a9a 100%)",color:"white",padding:"16px 50px",fontSize:G.large,borderRadius:"12px",boxShadow:"0 6px 15px rgba(120, 80, 190, 0.3), 0 3px 8px rgba(0,0,0,0.3)",transition:"all 0.3s ease",border:"2px solid transparent",minWidth:"250px"},onMouseEnter:m=>{m.currentTarget.style.transform="translateY(-2px)",m.currentTarget.style.boxShadow="0 8px 20px rgba(120, 80, 190, 0.4), 0 5px 12px rgba(0,0,0,0.4)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateY(0)",m.currentTarget.style.boxShadow="0 6px 15px rgba(120, 80, 190, 0.3), 0 3px 8px rgba(0,0,0,0.3)"},children:"CREDITS"})]}),g.jsxs("div",{style:{fontSize:G.small,color:q.textMuted,opacity:.6},children:[g.jsx("p",{children:"100% AI-Generated Code"}),g.jsx("p",{style:{marginTop:"5px",fontSize:"12px"},children:"No humans were harmed in the making of this game"})]})]}),g.jsx("div",{style:{position:"absolute",inset:0,overflow:"hidden",pointerEvents:"none"},children:[...Array(20)].map((m,x)=>g.jsx("div",{style:{position:"absolute",width:"4px",height:"4px",background:q.warningLight,borderRadius:"50%",opacity:Math.random()*.5+.1,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animation:`float ${Math.random()*10+10}s ease-in-out infinite`,animationDelay:`${Math.random()*5}s`}},x))})]}),f&&g.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:4e3,backdropFilter:"blur(8px)"},onClick:()=>d(!1),children:g.jsxs("div",{style:{background:"linear-gradient(135deg, #1a1a2e 0%, #0f0f1e 100%)",borderRadius:"20px",padding:"40px",width:"80vw",maxWidth:"1400px",maxHeight:"85vh",boxShadow:"0 25px 60px rgba(0, 0, 0, 0.7)",border:"1px solid rgba(120, 80, 190, 0.3)",display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},onClick:m=>m.stopPropagation(),children:[g.jsx("button",{onClick:()=>d(!1),style:{position:"absolute",top:"20px",right:"20px",background:"transparent",border:"none",color:q.textMuted,fontSize:"32px",cursor:"pointer",borderRadius:"50%",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:m=>{m.currentTarget.style.background="rgba(255,255,255,0.1)",m.currentTarget.style.color=q.white},onMouseLeave:m=>{m.currentTarget.style.background="transparent",m.currentTarget.style.color=q.textMuted},"aria-label":"Close trailer",children:""}),g.jsx("h2",{style:{color:q.warningLight,marginBottom:"20px",fontSize:G.title},children:"Game Trailer"}),g.jsx("div",{style:{width:"100%",height:"70vh",maxHeight:"700px",display:"flex",justifyContent:"center",alignItems:"center"},children:g.jsx("iframe",{src:"https://drive.google.com/file/d/1RRwSLSAWT7Po_9u9_G0jtKMFX4iilDaa/preview",width:"100%",height:"100%",allow:"autoplay; encrypted-media",allowFullScreen:!0,style:{border:"none",borderRadius:"12px",width:"100%",height:"100%"},title:"Dream Builders Trailer"})})]})}),g.jsx(i_,{isOpen:a,onClose:()=>r(!1)}),o&&g.jsx(c_,{onClose:()=>c(!1)}),g.jsx("style",{children:`
        @keyframes float {
          0%, 100% {
            transform: translateY(0) translateX(0);
          }
          33% {
            transform: translateY(-20px) translateX(10px);
          }
          66% {
            transform: translateY(20px) translateX(-10px);
          }
        }
      `})]})};function f_({G:i,ctx:a,moves:r,playerID:o,events:c}){if(!o)return g.jsx("div",{children:"Waiting for player..."});const f=a.currentPlayer===o;return g.jsx(n_,{gameState:i,moves:r,playerID:o,isMyTurn:f,events:c})}const d_=kg({game:C1,board:f_,numPlayers:1,debug:!1});function h_(){const[i,a]=ye.useState(!0),[r,o]=ye.useState(null);return i?g.jsx(u_,{onStartGame:()=>a(!1)}):r?g.jsx(d_,{playerID:"0"}):g.jsx(a_,{onHeroSelected:o})}u0.createRoot(document.getElementById("root")).render(g.jsx(ye.StrictMode,{children:g.jsx(h_,{})}));
